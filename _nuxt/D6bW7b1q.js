const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DiER9mzo.js","./NHVU-oYi.js","./entry.7EIxnZzq.css","./BO9bGUU3.js"])))=>i.map(i=>d[i]);
import{x as T,g as ye,aq as Pe,X as ee,$ as Re,a4 as Be,Z as Ae,f as V,s as _e,a5 as je,Y as be,N as Ve,G as _,a2 as ze,ar as qe,a7 as de,a8 as Fe,as as We,at as He,au as Ue,av as Ge,aa as Qe,e as q,aw as Ye,y as Je,ax as pe,n as Xe,D as Ze,al as Ke,ay as et,S as tt,b as w,o as m,d as l,O as Z,P as te,c as ne,w as z,H as Q,J as N,_ as F,F as G,U as we,L as Y,h as re,k as Ce,a as E,T as $e,ab as De,a0 as Se,ad as nt,az as at,V as st,aA as ot,m as W,K as he,W as rt,R as it,aB as xe,aC as ct,ae as lt,I as ut,r as le}from"./NHVU-oYi.js";import{_ as ae}from"./BO9bGUU3.js";const dt={trailing:!0};function ht(e,t=25,n={}){if(n={...dt,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let a,s,r=[],i,o;const f=(g,$)=>(i=ft(e,g,$),i.finally(()=>{if(i=null,n.trailing&&o&&!s){const M=f(g,o);return o=null,M}}),i),u=function(...g){return n.trailing&&(o=g),i||new Promise($=>{const M=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const v=n.leading?a:f(this,g);o=null;for(const p of r)p(v);r=[]},t),M?(a=f(this,g),$(a)):r.push($)})},c=g=>{g&&(clearTimeout(g),s=null)};return u.isPending=()=>!!s,u.cancel=()=>{c(s),r=[],o=null},u.flush=()=>{if(c(s),!o||i)return;const g=o;return o=null,f(this,g)},u}async function ft(e,t,n){return await e.apply(t,n)}function fe(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ke(e[0],e[1])&&e.unshift(t);let[n,a,s={}]=e,r=!1;const i=T(()=>Be(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=ye();s.server??=!0,s.default??=gt,s.getCachedData??=Ee,s.lazy??=!1,s.immediate??=!0,s.deep??=Pe.deep,s.dedupe??="cancel",s._functionName,o._asyncData[i.value];function f(){const v={cause:"initial",dedupe:s.dedupe};return o._asyncData[i.value]?._init||(v.cachedData=s.getCachedData(i.value,o,{cause:"initial"}),o._asyncData[i.value]=ge(o,i.value,a,s,v.cachedData)),()=>o._asyncData[i.value].execute(v)}const u=f(),c=o._asyncData[i.value];c._deps++;const g=s.server!==!1&&o.payload.serverRendered;{let v=function(b){const S=o._asyncData[b];S?._deps&&(S._deps--,S._deps===0&&S?._off())};const p=ze();if(p&&g&&s.immediate&&!p.sp&&(p.sp=[]),p&&!p._nuxtOnBeforeMountCbs){p._nuxtOnBeforeMountCbs=[];const b=p._nuxtOnBeforeMountCbs;qe(()=>{b.forEach(S=>{S()}),b.splice(0,b.length)}),de(()=>b.splice(0,b.length))}const C=p&&(p._nuxtClientOnly||Fe(We,!1));g&&o.isHydrating&&(c.error.value||c.data.value!==void 0)?c.status.value=c.error.value?"error":"success":p&&(!C&&o.payload.serverRendered&&o.isHydrating||s.lazy)&&s.immediate?p._nuxtOnBeforeMountCbs.push(u):s.immediate&&c.status.value!=="success"&&u();const L=Ae(),y=ee(i,(b,S)=>{if((b||S)&&b!==S){r=!0;const I=o._asyncData[S]?.data.value!==void 0,A=o._asyncDataPromises[S]!==void 0,B={cause:"initial",dedupe:s.dedupe};if(!o._asyncData[b]?._init){let P;S&&I?P=o._asyncData[S].data.value:(P=s.getCachedData(b,o,{cause:"initial"}),B.cachedData=P),o._asyncData[b]=ge(o,b,a,s,P)}o._asyncData[b]._deps++,S&&v(S),(s.immediate||I||A)&&o._asyncData[b].execute(B),He(()=>{r=!1})}},{flush:"sync"}),O=s.watch?ee(s.watch,()=>{r||c._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};L&&Re(()=>{y(),O(),v(i.value)})}const $={data:K(()=>o._asyncData[i.value]?.data),pending:K(()=>o._asyncData[i.value]?.pending),status:K(()=>o._asyncData[i.value]?.status),error:K(()=>o._asyncData[i.value]?.error),refresh:(...v)=>o._asyncData[i.value]?._init?o._asyncData[i.value].execute(...v):f()(),execute:(...v)=>$.refresh(...v),clear:()=>{const v=o._asyncData[i.value];if(v?._abortController)try{v._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{v._abortController=void 0}Le(o,i.value)}},M=Promise.resolve(o._asyncDataPromises[i.value]).then(()=>$);return Object.assign(M,$),M}function K(e){return T({get(){return e()?.value},set(t){const n=e();n&&(n.value=t)}})}function _t(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ke(e[0],e[1])&&e.unshift(t);const[n,a,s={}]=e;return fe(n,a,{...s,lazy:!0},null)}function ke(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function Le(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=_(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function pt(e,t){const n={};for(const a of t)n[a]=e[a];return n}function ge(e,t,n,a,s){e.payload._errors[t]??=void 0;const r=a.getCachedData!==Ee,i=n,o=a.deep?V:_e,f=s!==void 0,u=e.hook("app:data:refresh",async g=>{(!g||g.includes(t))&&await c.execute({cause:"refresh:hook"})}),c={data:o(f?s:a.default()),pending:T(()=>c.status.value==="pending"),error:je(e.payload._errors,t),status:_e("idle"),execute:(...g)=>{const[$,M=void 0]=g,v=$&&M===void 0&&typeof $=="object"?$:{};if(e._asyncDataPromises[t]&&(v.dedupe??a.dedupe)==="defer")return e._asyncDataPromises[t];{const C="cachedData"in v?v.cachedData:a.getCachedData(t,e,{cause:v.cause??"refresh:manual"});if(C!==void 0)return e.payload.data[t]=c.data.value=C,c.error.value=void 0,c.status.value="success",Promise.resolve(C)}c._abortController&&c._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),c._abortController=new AbortController,c.status.value="pending";const p=new Promise((C,L)=>{try{const y=v.timeout??a.timeout,O=mt([c._abortController?.signal,v?.signal],y);if(O.aborted){const b=O.reason;L(b instanceof Error?b:new DOMException(String(b??"Aborted"),"AbortError"));return}return O.addEventListener("abort",()=>{const b=O.reason;L(b instanceof Error?b:new DOMException(String(b??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(i(e,{signal:O})).then(C,L)}catch(y){L(y)}}).then(async C=>{let L=C;a.transform&&(L=await a.transform(C)),a.pick&&(L=pt(L,a.pick)),e.payload.data[t]=L,c.data.value=L,c.error.value=void 0,c.status.value="success"}).catch(C=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==p)&&!c._abortController?.signal.aborted){if(typeof DOMException<"u"&&C instanceof DOMException&&C.name==="AbortError"){c.status.value="idle";return}c.error.value=Ve(C),c.data.value=_(a.default()),c.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=p,e._asyncDataPromises[t]},_execute:ht((...g)=>c.execute(...g),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{u(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),r||be(()=>{e._asyncData[t]?._init||(Le(e,t),c.execute=()=>Promise.resolve())})}};return c}const gt=()=>{},Ee=(e,t,n)=>{if(t.isHydrating)return t.payload.data[e];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return t.static.data[e]};function mt(e,t){const n=e.filter(r=>!!r);if(typeof t=="number"&&t>=0){const r=AbortSignal.timeout?.(t);r&&n.push(r)}if(AbortSignal.any)return AbortSignal.any(n);const a=new AbortController;for(const r of n)if(r.aborted){const i=r.reason??new DOMException("Aborted","AbortError");try{a.abort(i)}catch{a.abort()}return a.signal}const s=()=>{const i=n.find(o=>o.aborted)?.reason??new DOMException("Aborted","AbortError");try{a.abort(i)}catch{a.abort()}};for(const r of n)r.addEventListener?.("abort",s,{once:!0});return a.signal}const vt={nuxt:{}},yt=Ue(Ge,vt);function Oe(){const e=ye();return e._appConfig||=Qe(yt),e._appConfig}const ie=q({name:"NuxtLinkLocale",props:{...ae.props,locale:{type:String,default:void 0,required:!1}},setup(e,{slots:t}){const n=Ye(),a=T(()=>{const o=e.to||e.href||"";return typeof o=="string"&&Je(o,{acceptRelative:!0})}),s=T(()=>{const o=e.to??e.href,f=o!=null?n(o,e.locale):o;return f&&pe(e.to)&&(f.state=e.to?.state),o!=null?f:o}),r=T(()=>{if(e.external)return!0;const o=e.to||e.href||"";return pe(o)?!1:o===""||a.value}),i=()=>{const o={...e};return r.value||(o.to=s.value),delete o.href,delete o.locale,o};return()=>Xe(ae,i(),t.default)}}),Me={posts:"v3.5.0--tHnk9YMiKsqBnJWcNVVnLt3eIMiL3eXWvDXRJp_QfKE",others:"v3.5.0--9VPoLkQqIDomami-nsy49a_crqqOSGHRztYQEyP-n_Q"},bt={posts:"_content_posts",others:"_content_others",info:"_content_info"},sa={posts:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",lang:"string",meta:"json",navigation:"json",path:"string",rawbody:"string",seo:"json",stem:"string",sticky:"boolean",tags:"json"}},others:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",lang:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},info:{type:"data",fields:{}}},se=(e,t)=>{const n=e._conditions;return n.length>0?`(${n.join(` ${t} `)})`:""},oe=e=>{const t=[],n={_conditions:t,where(a,s,r){let i;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(r)){const o=r.map(f=>X(f)).join(", ");i=`"${String(a)}" ${s.toUpperCase()} (${o})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(r)&&r.length===2)i=`"${String(a)}" ${s.toUpperCase()} ${X(r[0])} AND ${X(r[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":i=`"${String(a)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":i=`"${String(a)}" ${s.toUpperCase()} ${X(r)}`;break;default:i=`"${String(a)}" ${s} ${X(typeof r=="boolean"?Number(r):r)}`}return t.push(`${i}`),n},andWhere(a){const s=a(oe());return t.push(se(s,"AND")),n},orWhere(a){const s=a(oe());return t.push(se(s,"OR")),n}};return n},wt=(e,t)=>{const n={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},a={__params:n,andWhere(r){const i=r(oe());return n.conditions.push(se(i,"AND")),a},orWhere(r){const i=r(oe());return n.conditions.push(se(i,"OR")),a},path(r){return a.where("path","=",Ze(r))},skip(r){return n.offset=r,a},where(r,i,o){return a.andWhere(f=>f.where(String(r),i,o)),a},limit(r){return n.limit=r,a},select(...r){return r.length&&n.selectedFields.push(...r),a},order(r,i){return n.orderBy.push(`"${String(r)}" ${i}`),a},async all(){return t(e,s()).then(r=>r||[])},async first(){return t(e,s({limit:1})).then(r=>r[0]||null)},async count(r="*",i=!1){return t(e,s({count:{field:String(r),distinct:i}})).then(o=>o[0].count)}};function s(r={}){let i="SELECT ";if(r?.count)i+=`COUNT(${r.count.distinct?"DISTINCT ":""}${r.count.field}) as count`;else{const f=Array.from(new Set(n.selectedFields));i+=f.length>0?f.map(u=>`"${String(u)}"`).join(", "):"*"}i+=` FROM ${bt[String(e)]}`,n.conditions.length>0&&(i+=` WHERE ${n.conditions.join(" AND ")}`),n.orderBy.length>0?i+=` ORDER BY ${n.orderBy.join(", ")}`:i+=" ORDER BY stem ASC";const o=r?.limit||n.limit;return o>0&&(n.offset>0?i+=` LIMIT ${o} OFFSET ${n.offset}`:i+=` LIMIT ${o}`),i}return a};function X(e){return`'${String(e).replace(/'/g,"''")}'`}function me(e){return t=>(t=t||{},(e||[]).filter(n=>typeof t[n]<"u").reduce((n,a)=>Object.assign(n,{[a]:t[a]}),{}))}async function Ct(e,t=[]){e.__params?.orderBy?.length||(e=e.order("stem","ASC"));const a=await e.orWhere(u=>u.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...t||[]).all(),{contents:s,configs:r}=a.reduce((u,c)=>{if(String(c.stem).split("/").pop()===".navigation"){c.title=c.title?.toLowerCase()==="navigation"?"":c.title;const g=c.path.split("/").slice(0,-1).join("/")||"/";u.configs[g]={...c,...c.body}}else u.contents.push(c);return u},{configs:{},contents:[]}),i=u=>({...me(["title",...t])(u),...u.meta,...ve(u?.navigation)?u.navigation:{}}),o=u=>({...me(["title",...t])(u),...ve(u?.navigation)?u.navigation:{}}),f=s.reduce((u,c)=>{const g=c.path.substring(1).split("/"),$=c.stem.split("/"),M=!!$[$.length-1]?.match(/([1-9]\d*\.)?index/g),v=y=>({title:y.title,path:y.path,stem:y.stem,children:[],...o(y)}),p=v(c);if(M){const y=r[p.path];if(typeof y?.navigation<"u"&&y?.navigation===!1)return u;if(c.path!=="/"){const O=v(c);p.children.push(O)}y&&Object.assign(p,i(y))}if(g.length===1){const y=u.find(O=>O.path===p.path&&O.page===!1);return M&&y?Object.assign(y,{page:void 0,children:[...p.children||[],...y.children||[]]}):u.push(p),u}const C=g.slice(0,-1).reduce((y,O,b)=>{const S="/"+g.slice(0,b+1).join("/"),I=r[S];if(typeof I?.navigation<"u"&&I.navigation===!1)return[];let A=y.find(B=>B.path===S);if(!A){const B=I?i(I):{};A={...B,title:B.title||$t(O),path:S,stem:$.slice(0,b+1).join("/"),children:[],page:!1},y.push(A)}return A.children},u),L=C.find(y=>y.path===p.path&&y.page===!1);return L?Object.assign(L,{...p,page:void 0,children:[...p.children||[],...L.children||[]]}):C.push(p),u},[]);return Ne(f)}function Ne(e){const t=e;for(const n of t)n.children?.length?Ne(n.children):delete n.children;return e}function ve(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const $t=e=>e.split(/[\s-]/g).map(Ke).join(" ");async function Dt(e,t,n){const{before:a=1,after:s=1,fields:r=[]}=n||{},i=await Ct(e,r),o=Te(i),f=o.findIndex(g=>g.path===t),u=f===-1?[]:o.slice(f-a,f),c=f===-1?[]:o.slice(f+1,f+s+1);return[...Array.from({length:a}).fill(null).concat(u).slice(u.length),...c.concat(Array.from({length:s}).fill(null)).slice(0,s)]}function Te(e){return e.flatMap(n=>{const a=n.children?Te(n.children):[];return n.page===!1||a.length&&a.find(s=>s.path===n.path)?a:[{...n,children:void 0},...a]})}async function oa(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:Me[String(t)],t:void 0}})}async function St(e,t,n){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:Me[String(t)],t:void 0},method:"POST",body:{sql:n}})}const ue=e=>{const t=et()?.ssrContext?.event;return wt(e,(n,a)=>xt(t,n,a))};function ra(e,t,n){return Lt(e,a=>Dt(a,t,n))}async function xt(e,t,n){return window.WebAssembly?kt(t,n):St(e,String(t),n)}async function kt(e,t){return await tt(()=>import("./DiER9mzo.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(a=>a.loadDatabaseAdapter(e)).then(a=>a.all(t))}function Lt(e,t){const n=ue(e),a={where(s,r,i){return n.where(String(s),r,i),a},andWhere(s){return n.andWhere(s),a},orWhere(s){return n.orWhere(s),a},order(s,r){return n.order(String(s),r),a},then(s,r){return t(n).then(s,r)},catch(s){return this.then(void 0,s)},finally(s){return this.then(void 0,void 0).finally(s)},get[Symbol.toStringTag](){return"Promise"}};return a}const Et={class:"pc-nav"},Ot={class:"container"},Mt=q({__name:"HeaderNav",props:{navItems:{}},emits:["toggle"],setup(e,{emit:t}){const n=t,a=s=>{n("toggle",s)};return(s,r)=>{const i=ie;return m(),w("nav",null,[l("div",Et,[(m(!0),w(Z,null,te(e.navItems,o=>(m(),ne(i,{key:o.link,to:o.link},{default:z(()=>[Q(N(s.$t(o.text)),1)]),_:2},1032,["to"]))),128))]),l("div",{class:"mobile-nav",onClick:a},[l("div",Ot,[(m(),w(Z,null,te(3,o=>l("div",{class:"mobile-nav-item",key:o})),64))])])])}}}),Nt=Object.assign(F(Mt,[["__scopeId","data-v-49e970ab"]]),{__name:"HeaderNav"}),Tt={class:"mask"},It={class:"title-container"},Pt={class:"title"},Rt={key:0},Bt=q({__name:"Banner",props:{title:{},slogan:{},background:{}},setup(e){const t=e,n=T(()=>({...t.background}));return(a,s)=>(m(),w("div",{class:"banner",style:we(_(n))},[l("div",Tt,[l("div",It,[l("div",Pt,[l("h1",null,N(e.title),1),e.slogan?(m(),w("p",Rt,N(e.slogan),1)):G("",!0)])])])],4))}}),At=Object.assign(F(Bt,[["__scopeId","data-v-0f1d2f14"]]),{__name:"Banner"}),jt={class:"search-overlay__panel"},Vt={class:"search-overlay__header"},zt=["placeholder"],qt=["aria-label"],Ft={key:0,class:"search-overlay__state"},Wt={key:1,class:"search-overlay__body"},Ht={key:0,class:"search-overlay__state"},Ut={key:1,class:"search-overlay__state"},Gt={key:2,class:"search-overlay__count"},Qt={key:3,class:"search-overlay__list"},Yt={class:"search-overlay__item-title"},Jt={class:"search-overlay__item-meta"},Xt={key:0},Zt={class:"search-overlay__item-snippet"},Kt=50,en=q({__name:"SearchOverlay",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{t:s,locale:r}=Y(),i=T(()=>r.value.startsWith("zh")),o=V(""),f=V(null),u=ot(),c=V(!1),g=async()=>{const h=await u("/search/sections.json");if(Array.isArray(h))return h;if(typeof h=="string")try{return JSON.parse(h)}catch(D){console.warn("[search] Failed to parse sections payload",D)}return[]},{data:$,pending:M,refresh:v}=_t("posts-search-sections",g,{server:!1,immediate:!1,default:()=>[]}),p=T(()=>$.value??[]),C=T(()=>{const h=o.value.trim().toLowerCase();if(!h)return[];const D=Array.from(new Set(h.split(/\s+/).filter(Boolean)));if(!D.length)return[];const R=p.value.map(d=>{const x=(d.content??"").replace(/\s+/g," ").trim();if(!x)return null;const H=O(d),J=b(d),ce=`${H} ${J} ${x}`.toLowerCase();if(!D.every(j=>ce.includes(j)))return null;let U=0;return D.forEach(j=>{H.toLowerCase().includes(j)?U+=4:J.toLowerCase().includes(j)?U+=3:U+=1}),{id:d.id,baseId:S(d.id),documentTitle:H,sectionTitle:J,snippet:B(x,D),score:U}}).filter(d=>!!d).sort((d,x)=>x.score-d.score);if(!R.length)return[];const k=new Map;return R.forEach(d=>{const x=k.get(d.baseId);if(!x){k.set(d.baseId,{id:d.id,baseId:d.baseId,documentTitle:d.documentTitle,sectionTitles:d.sectionTitle?[d.sectionTitle]:[],snippets:[d.snippet],score:d.score,matchCount:1,bestScore:d.score});return}x.matchCount+=1,x.score+=d.score,x.snippets.push(d.snippet),d.sectionTitle&&!x.sectionTitles.includes(d.sectionTitle)&&x.sectionTitles.length<3&&x.sectionTitles.push(d.sectionTitle),d.score>x.bestScore&&(x.bestScore=d.score,x.id=d.id)}),Array.from(k.values()).map(d=>({id:d.id,documentTitle:d.documentTitle,sectionLabel:A(d.sectionTitles,d.matchCount),snippet:I(d.snippets),score:d.score,matchCount:d.matchCount})).sort((d,x)=>x.score-d.score).slice(0,Kt)}),L=h=>{n.modelValue&&h.key==="Escape"&&(h.preventDefault(),y())};ee(()=>n.modelValue,h=>{h?(c.value||(c.value=!0,v()),document.body.style.setProperty("overflow","hidden"),be(()=>{o.value="",f.value?.focus()})):document.body.style.removeProperty("overflow")}),re(()=>{window.addEventListener("keydown",L)}),Ce(()=>{window.removeEventListener("keydown",L),document.body.style.removeProperty("overflow")});function y(){a("update:modelValue",!1)}function O(h){return h.titles?.[0]??h.title??s("searchOverlay.untitled")}function b(h){return h.titles?.length?h.titles.slice(1).filter(Boolean).at(-1)??h.title??"":h.title??""}function S(h){const D=h.indexOf("#");return D===-1?h:h.slice(0,D)}function I(h){const D=[];if(h.forEach(k=>{const d=k.trim();d&&(D.includes(d)||D.push(d))}),!D.length)return"";const R=D.slice(0,2).join(" … ");return R.length>240?`${R.slice(0,240)}…`:R}function A(h,D){if(!D)return"";if(D===1)return h[0]??"";if(!h.length)return"";const R=i.value?"、":", ",k=h.join(R),d=s("searchOverlay.sectionMatches",{sections:k}),x=D>h.length?s("searchOverlay.moreSuffix"):"";return`${d}${x}`}function B(h,D){if(!h)return"";const R=h.toLowerCase(),k=D.map(j=>R.indexOf(j)).filter(j=>j>=0).sort((j,Ie)=>j-Ie)[0];if(k===void 0)return P(h);const d=60,x=Math.max(0,k-d),H=Math.min(h.length,k+d),J=h.slice(x,H),ce=x>0?"…":"",U=H<h.length?"…":"";return`${ce}${J}${U}`}function P(h){return h.length>140?`${h.slice(0,140)}…`:h}return(h,D)=>{const R=ie;return m(),ne(st,{to:"body"},[E(at,{name:"search-overlay"},{default:z(()=>[e.modelValue?(m(),w("div",{key:0,class:"search-overlay",role:"dialog","aria-modal":"true",onMousedown:$e(y,["self"])},[l("div",jt,[l("div",Vt,[De(l("input",{ref_key:"inputRef",ref:f,type:"search","onUpdate:modelValue":D[0]||(D[0]=k=>Se(o)?o.value=k:null),class:"search-overlay__input",placeholder:_(s)("searchOverlay.placeholder")},null,8,zt),[[nt,_(o)]]),l("button",{class:"search-overlay__close",type:"button",onClick:y,"aria-label":_(s)("searchOverlay.closeLabel")}," × ",8,qt)]),_(M)?(m(),w("div",Ft,N(_(s)("searchOverlay.indexing")),1)):(m(),w("div",Wt,[_(o).trim()?_(C).length?(m(),w("div",Gt,N(_(s)("searchOverlay.resultsCount",{count:_(C).length})),1)):(m(),w("p",Ut,N(_(s)("searchOverlay.noResults")),1)):(m(),w("p",Ht,N(_(s)("searchOverlay.startTyping")),1)),_(C).length?(m(),w("ul",Qt,[(m(!0),w(Z,null,te(_(C),k=>(m(),w("li",{key:k.id,class:"search-overlay__item"},[E(R,{to:k.id,class:"search-overlay__link",onClick:y},{default:z(()=>[l("h3",Yt,N(k.documentTitle),1),l("p",Jt,[Q(N(_(s)("searchOverlay.matchCount",{count:k.matchCount}))+" ",1),k.sectionLabel?(m(),w("span",Xt," · "+N(k.sectionLabel),1)):G("",!0)]),l("p",Zt,N(k.snippet),1)]),_:2},1032,["to"])]))),128))])):G("",!0)]))])],32)):G("",!0)]),_:1})])}}}),tn=Object.assign(F(en,[["__scopeId","data-v-63592d71"]]),{__name:"SearchOverlay"}),nn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function an(e,t){return m(),w("svg",nn,[...t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"},null,-1)])])}const sn=W({name:"ic-baseline-search",render:an}),on=()=>{const{locale:e}=Y(),t=he(),n=rt(),a=T(()=>e.value==="zh"?"en":"zh"),{data:s}=fe(`language-switch-${t.path}-${a.value}`,async()=>{const r=a.value;if(t.params.year&&t.params.month&&t.params.day&&t.params.slug){const{year:o,month:f,day:u,slug:c}=t.params,g=`/${o}/${f}/${u}/${c}`;try{if(await ue("posts").path(g).where("lang","=",r==="zh"?"zh-CN":"en").count()===0)return null}catch($){return console.error("Failed to check article existence:",$),null}}if(t.params.tag){const o=decodeURIComponent(t.params.tag);try{if(await ue("posts").where("lang","=",r==="zh"?"zh-CN":"en").where("tags","LIKE",`%"${o}"%`).count()===0)return null}catch(f){return console.error("Failed to check tag existence:",f),null}}let i=n(t.fullPath,r);return t.path.includes("/archives/page/")?i=n("/archives",r):t.path.startsWith(n("/page/",e.value))&&(i=n("/",r)),i.endsWith("/")?i:i+"/"},{watch:[()=>t.fullPath]});return{targetPath:s,targetLocale:a}};function rn(){const e=V(!1);let t=!1;const n=()=>{t||(window.requestAnimationFrame(()=>{e.value=window.scrollY>0,t=!1}),t=!0)};return re(()=>{n(),window.addEventListener("scroll",n,{passive:!0})}),de(()=>{window.removeEventListener("scroll",n)}),{isScrolled:e}}function cn(){const e=V(!1),t=a=>{a.stopPropagation(),e.value=!e.value},n=()=>{e.value=!1};return re(()=>{document.addEventListener("click",n)}),de(()=>{document.removeEventListener("click",n)}),{showMobileMenu:e,toggleMobileMenu:t,closeMobileMenu:n}}const ln={class:"header-container"},un={class:"header"},dn={class:"header-right"},hn={class:"lang-switch__label"},fn={class:"lang-switch__label"},_n={class:"search-trigger__label"},pn={key:0,class:"mobile-menu-dropdown"},gn=q({__name:"Header",props:{title:{default:""},background:{}},setup(e){const{t}=Y(),n=Oe(),a=he(),{locale:s}=Y(),{targetPath:r,targetLocale:i}=on(),o=()=>{alert(i.value==="en"?"English version not available":"暂无中文版本")},f=T(()=>a.path==="/"||a.path.startsWith("/page/")?n.slogan:null),u=e,c=T(()=>u.title||t("title")),{isScrolled:g}=rn(),{showMobileMenu:$,toggleMobileMenu:M,closeMobileMenu:v}=cn(),p=V(!1),C=()=>{v(),p.value=!0};return ee(()=>a.fullPath,()=>{p.value=!1}),(L,y)=>{const O=ie,b=Nt,S=ae,I=sn,A=At,B=tn;return m(),w(Z,null,[l("header",{class:it({scrolled:_(g),"show-mobile-menu":_($)})},[l("div",ln,[l("div",un,[E(O,{to:"/",class:"header-title"},{default:z(()=>[Q(N(_(t)("title")),1)]),_:1}),l("div",dn,[E(b,{"nav-items":_(n).nav.items,onToggle:_(M)},null,8,["nav-items","onToggle"]),_(r)?(m(),ne(S,{key:0,to:_(r),class:"lang-switch","aria-label":"Switch Language"},{default:z(()=>[l("span",hn,N(_(s)==="zh"?"En":"中"),1)]),_:1},8,["to"])):(m(),w("button",{key:1,type:"button",class:"lang-switch",onClick:o,"aria-label":"Switch Language"},[l("span",fn,N(_(s)==="zh"?"En":"中"),1)])),l("button",{type:"button",class:"search-trigger",onClick:C,"aria-label":"Search"},[E(I),l("span",_n,N(_(t)("search")),1)])])])]),_($)?(m(),w("div",pn,[(m(!0),w(Z,null,te(_(n).nav.items,P=>(m(),ne(O,{key:P.link,to:P.link,onClick:_(v)},{default:z(()=>[Q(N(_(t)(P.text)),1)]),_:2},1032,["to","onClick"]))),128)),l("a",{onClick:$e(C,["prevent"])},[E(I)])])):G("",!0)],2),E(A,{background:e.background,title:_(c),slogan:_(f)},null,8,["background","title","slogan"]),E(B,{modelValue:_(p),"onUpdate:modelValue":y[0]||(y[0]=P=>Se(p)?p.value=P:null)},null,8,["modelValue"])],64)}}}),mn=Object.assign(F(gn,[["__scopeId","data-v-c4c9a290"]]),{__name:"Header"}),vn=xe("/static/yxvm-logo.png"),yn=xe("/static/logo2.png"),bn={class:"promo-card"},wn={class:"card-footer"},Cn={__name:"NodeSupport",setup(e){const t=V("61");return(n,a)=>(m(),w("div",bn,[a[1]||(a[1]=ct('<div class="card-header" data-v-f771117d><div class="header-left" data-v-f771117d><div class="logo-yxvm-container" data-v-f771117d><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="'+vn+'" alt="yxvm" class="logo-img" data-v-f771117d></a></div><span class="plus-separator" data-v-f771117d>+</span><div class="logo-nodeseek-container" data-v-f771117d><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="'+yn+'" alt="nodeseek" class="logo-img" data-v-f771117d></a></div></div><div data-v-f771117d><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-f771117d><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-f771117d><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-f771117d></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-f771117d></g><g id="SVGRepo_iconCarrier" data-v-f771117d><title data-v-f771117d>github [#142]</title><desc data-v-f771117d>Created with Sketch.</desc><defs data-v-f771117d></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-f771117d><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-f771117d><g transform="translate(56.000000, 160.000000)" id="icons" data-v-f771117d><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-f771117d></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-f771117d> NodeSupport Project </h1><p class="card-description" data-v-f771117d> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p>',3)),l("div",wn,[a[0]||(a[0]=l("span",null,"Support ID:",-1)),l("span",null,N(_(t)),1)])]))}},$n=F(Cn,[["__scopeId","data-v-f771117d"]]),Dn={viewBox:"0 0 512 121",width:"5.09em",height:"1.2em"};function Sn(e,t){return m(),w("svg",Dn,[...t[0]||(t[0]=[l("path",{fill:"#00DC82",d:"M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"},null,-1),l("path",{d:"M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"},null,-1)])])}const xn=W({name:"logos-nuxt",render:Sn}),kn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ln(e,t){return m(),w("svg",kn,[...t[0]||(t[0]=[l("g",{fill:"none"},[l("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"}),l("path",{stroke:"currentColor","stroke-linecap":"square","stroke-width":"2",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"}),l("path",{stroke:"currentColor","stroke-linecap":"square","stroke-width":"2",d:"M15.182 15.183a4.5 4.5 0 1 1 0-6.364"})],-1)])])}const En=W({name:"tdesign-copyright",render:Ln}),On={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Mn(e,t){return m(),w("svg",On,[...t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"},null,-1)])])}const Nn=W({name:"ic-outline-mail-outline",render:Mn}),Tn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function In(e,t){return m(),w("svg",Tn,[...t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"},null,-1)])])}const Pn=W({name:"bxs-donate-heart",render:In}),Rn={viewBox:"0 0 56 56",width:"1.2em",height:"1.2em"};function Bn(e,t){return m(),w("svg",Rn,[...t[0]||(t[0]=[l("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"},null,-1)])])}const An=W({name:"f7-logo-rss",render:Bn}),jn={viewBox:"0 0 56 56",width:"1.2em",height:"1.2em"};function Vn(e,t){return m(),w("svg",jn,[...t[0]||(t[0]=[l("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"},null,-1)])])}const zn=W({name:"f7-logo-github",render:Vn}),qn=e=>{const t=V(null),n=V(!1);return re(()=>{if(!t.value)return;const a=new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting&&!n.value&&(n.value=!0,a.disconnect())})},{rootMargin:e?.rootMargin??"100px",threshold:e?.threshold??.1});a.observe(t.value),Ce(()=>{a.disconnect()})}),{targetRef:t,isVisible:n}},Fn={class:"footer-content"},Wn={class:"social"},Hn=["href"],Un={class:"social-icons",href:"mailto:zhullyb@outlook.com","aria-label":"Email"},Gn={class:"center-y",style:{gap:"4px","font-weight":"600"}},Qn={class:"center-y",style:{gap:"8px","font-weight":"600"}},Yn={key:0,title:"NodeSupport Sponsorship",frameborder:"0",src:"https://support.nodeget.com/page/promotion?id=61"},Jn=q({__name:"Footer",props:{background:{}},setup(e){const{locale:t}=Y(),n=e,a=T(()=>({minHeight:"120px",...n.background})),{targetRef:s,isVisible:r}=qn({rootMargin:"100px",threshold:.1});return(i,o)=>{const f=zn,u=ae,c=An,g=Pn,$=ie,M=Nn,v=En,p=xn,C=$n;return m(),w("footer",{ref_key:"footerRef",ref:s,style:we(_(a))},[o[2]||(o[2]=l("div",{class:"footer-mask"},null,-1)),l("div",Fn,[l("div",Wn,[E(u,{class:"social-icons",to:"https://github.com/zhullyb/","aria-label":"Github"},{default:z(()=>[E(f)]),_:1}),l("a",{class:"social-icons",href:_(t)==="en"?"/en/rss.xml":"/rss.xml",target:"_blank",rel:"noopener noreferrer","aria-label":"RSS"},[E(c)],8,Hn),E($,{class:"social-icons",to:"/donate/","aria-label":"Donate"},{default:z(()=>[E(g)]),_:1}),l("a",Un,[E(M)])]),l("div",Gn,[E(v,{style:{"font-size":"0.9em"}}),o[0]||(o[0]=Q(" 2020 - 2025 zhullyb ",-1))]),l("div",Qn,[o[1]||(o[1]=Q(" Proudly Powered by ",-1)),E(u,{to:"https://nuxt.com/",class:"center-y"},{default:z(()=>[E(p,{alt:"Nuxt",style:{fill:"white"}})]),_:1})]),E(C,{style:{"margin-top":"12px"}}),_(r)?De((m(),w("iframe",Yn,null,512)),[[lt,!1]]):G("",!0)])],4)}}}),Xn=Object.assign(F(Jn,[["__scopeId","data-v-795a67cd"]]),{__name:"Footer"}),Zn={class:"content-wrapper"},Kn={class:"before-main side"},ea={class:"after-main side"},ta=q({__name:"DefaultLayout",props:{title:{default:""}},setup(e){const{t}=Y(),n=he(),a=e,s=Oe(),{data:r}=fe("randomIndex"+n.path.replace("/en/","/"),async()=>Math.floor(Math.random()*s.backgrounds.length),"$RRY2fi8_v6"),i=T(()=>s.backgrounds[r.value??0]);return ut({title:a.title||t("title")}),(o,f)=>{const u=mn,c=Xn;return m(),w("div",null,[E(u,{background:_(i),title:e.title},null,8,["background","title"]),l("div",Zn,[l("div",Kn,[le(o.$slots,"BeforeMain",{},void 0,!0)]),l("main",null,[le(o.$slots,"default",{},void 0,!0)]),l("div",ea,[le(o.$slots,"AfterMain",{},void 0,!0)])]),E(c,{background:_(i)},null,8,["background"])])}}}),ia=Object.assign(F(ta,[["__scopeId","data-v-40d23075"]]),{__name:"DefaultLayout"});export{ia as _,ie as a,Me as b,sa as c,qn as d,ra as e,oa as f,ue as q,bt as t,fe as u};
