import{_ as C}from"./BBO5uOiM.js";import{_ as k,u as S}from"./BF8af9ZJ.js";import{q as I}from"./Cq7l85EN.js";import{d as w,K as E,q as M,c as p,w as d,o as _,G as z,C as f,E as x,M as F,N,S as v,F as B,I as D,_ as L}from"./DbskkZdU.js";function q(r,e,o){if(o===0)return r;if(o===1)return e;const s=h(r),c=h(e);if(!s||!c)throw new Error("Invalid color format");const n=Math.round(s.r+o*(c.r-s.r)),i=Math.round(s.g+o*(c.g-s.g)),a=Math.round(s.b+o*(c.b-s.b));return T(n,i,a)}function h(r){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function T(r,e,o){return"#"+((1<<24)+(r<<16)+(e<<8)+o).toString(16).slice(1)}const $={class:"text-center tagcloud"},j={key:1},A=40,y=20,O="#bbbbee",R="#337ab7",U=w({__name:"index",async setup(r){let e,o;const s=([e,o]=E(()=>S("tags-posts",()=>I("posts").where("lang","=","zh-CN").select("tags").all())),e=await e,o(),e).data,c=M(()=>{const n={};let i=0,a=1/0;s.value.forEach(t=>{typeof t.tags?.forEach=="function"&&t.tags?.forEach(l=>{l in n?n[l]+=1:n[l]=1})}),Object.keys(n).forEach(t=>{i=Math.max(i,n[t]),a=Math.min(a,n[t])});const u=Object.keys(n).map(t=>{const l=n[t],m=i===a?1:(l-a)/(i-a),g=y+m*(A-y),b=q(O,R,m);return{name:t,count:n[t],style:{fontSize:`${g.toFixed(2)}px`,color:b}}});return u.sort((t,l)=>t.name.localeCompare(l.name,"en-US")),u});return(n,i)=>{const a=C,u=k;return _(),p(u,{title:"标签"},{default:d(()=>[z("div",$,[x(c).length?(_(!0),f(F,{key:0},N(x(c),t=>(_(),p(a,{class:"tag",key:t.name,to:`/tags/${encodeURIComponent(t.name)}`,style:v(t.style)},{default:d(()=>[B(D(t.name),1)]),_:2},1032,["to","style"]))),128)):(_(),f("p",j,"Loading tags..."))])]),_:1})}}}),J=L(U,[["__scopeId","data-v-89cedb00"]]);export{J as default};
