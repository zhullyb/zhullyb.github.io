import{_ as C}from"./DNZcqReJ.js";import{_ as k,u as S}from"./BNFhrOFj.js";import{q as I}from"./CaOVmcVg.js";import{d as E,K as M,q as w,c as p,w as d,o as _,G as z,C as f,E as x,M as F,N as v,S as B,F as D,I as L,_ as N}from"./5AyHum73.js";function q(r,e,o){if(o===0)return r;if(o===1)return e;const s=y(r),c=y(e);if(!s||!c)throw new Error("Invalid color format");const n=Math.round(s.r+o*(c.r-s.r)),i=Math.round(s.g+o*(c.g-s.g)),a=Math.round(s.b+o*(c.b-s.b));return T(n,i,a)}function y(r){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function T(r,e,o){return"#"+((1<<24)+(r<<16)+(e<<8)+o).toString(16).slice(1)}const $={class:"text-center tagcloud"},j={key:1},A=40,h=20,O="#bbbbee",R="#337ab7",U=E({__name:"index",async setup(r){let e,o;const s=([e,o]=M(()=>S("tags-posts",()=>I("posts").select("tags").all())),e=await e,o(),e).data,c=w(()=>{const n={};let i=0,a=1/0;s.value.forEach(t=>{typeof t.tags?.forEach=="function"&&t.tags?.forEach(u=>{u in n?n[u]+=1:n[u]=1})}),Object.keys(n).forEach(t=>{i=Math.max(i,n[t]),a=Math.min(a,n[t])});const l=Object.keys(n).map(t=>{const u=n[t],m=i===a?1:(u-a)/(i-a),g=h+m*(A-h),b=q(O,R,m);return{name:t,count:n[t],style:{fontSize:`${g.toFixed(2)}px`,color:b}}});return l.sort((t,u)=>t.name.localeCompare(u.name,"en-US")),l});return(n,i)=>{const a=C,l=k;return _(),p(l,{title:"标签"},{default:d(()=>[z("div",$,[x(c).length?(_(!0),f(F,{key:0},v(x(c),t=>(_(),p(a,{class:"tag",key:t.name,to:`/tags/${encodeURIComponent(t.name)}`,style:B(t.style)},{default:d(()=>[D(L(t.name),1)]),_:2},1032,["to","style"]))),128)):(_(),f("p",j,"Loading tags..."))])]),_:1})}}}),J=N(U,[["__scopeId","data-v-7970918b"]]);export{J as default};
