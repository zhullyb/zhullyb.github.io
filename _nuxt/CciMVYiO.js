import{_ as C}from"./DjPYEq9L.js";import{_ as P}from"./StP3zpJC.js";import{f as k,g as w,h as l,i as y,c as n,o as r,b as p,F as A,r as N,a as u,t as m,w as b,d as B,k as c,_ as D}from"./uN0F_Atn.js";import{u as d}from"./H2d49jqS.js";import{q as g}from"./BlTNzkFP.js";const E={class:"date"},i=10,M=k({__name:"ArchiveArticleContainer",async setup(S){let t,e;const _=w(),a=_.params.page&&parseInt(_.params.page)||1,o=([t,e]=l(()=>d(`index-page-${a}`,()=>g("posts").order("date","DESC").skip((a-1)*i).limit(i).select("title","date","path","tags").all())),t=await t,e(),t).data,f=([t,e]=l(()=>d("posts-nums-total",()=>g("posts").count())),t=await t,e(),t).data,h=Math.max(1,Math.ceil((f.value??0)/i));if(o.value&&o.value.length===0&&a>1)throw y({statusCode:404,statusMessage:"Page not found",fatal:!0});return(V,q)=>{const x=C,v=P;return r(),n("div",null,[(r(!0),n(A,null,N(c(o),s=>(r(),n("div",{key:s.path,class:"post-item"},[u("p",E,m(s.date?.split(" ")[0]),1),u("p",null,[p(x,{to:s.path},{default:b(()=>[B(m(s.title),1)]),_:2},1032,["to"])])]))),128)),p(v,{currentPage:c(a),totalPages:c(h),urlPrefix:"/archives"},null,8,["currentPage","totalPages"])])}}}),z=Object.assign(D(M,[["__scopeId","data-v-ba19851a"]]),{__name:"ArchiveArticleContainer"});export{z as _};
