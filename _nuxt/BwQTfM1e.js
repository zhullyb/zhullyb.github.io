import{_ as Z}from"./_QEnEroZ.js";import{q as I,e as se,ao as me,W,Z as ve,a3 as pe,Y as ye,b as B,s as ae,a4 as ge,X as oe,L as be,E as p,a1 as De,ap as we,a6 as K,a7 as Ce,aq as Me,ar as Se,as as Ee,at as ke,a9 as $e,d as A,C as b,o as y,G as d,M as q,N as Y,c as ee,w as G,F as te,I as L,_ as H,D as F,S as xe,f as J,i as re,a as R,Q as Te,aa as Oe,$ as ie,ac as Le,au as Pe,T as Be,J as ce,P as Ie,H as Re,r as X}from"./TyQMILOC.js";const Ne={trailing:!0};function Ve(e,t=25,s={}){if(s={...Ne,...s},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,a,u=[],r,n;const $=(m,x)=>(r=Fe(e,m,x),r.finally(()=>{if(r=null,s.trailing&&n&&!a){const w=$(m,n);return n=null,w}}),r),S=function(...m){return s.trailing&&(n=m),r||new Promise(x=>{const w=!a&&s.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const f=s.leading?o:$(this,m);n=null;for(const v of u)v(f);u=[]},t),w?(o=$(this,m),x(o)):u.push(x)})},l=m=>{m&&(clearTimeout(m),a=null)};return S.isPending=()=>!!a,S.cancel=()=>{l(a),u=[],n=null},S.flush=()=>{if(l(a),!n||r)return;const m=n;return n=null,$(this,m)},S}async function Fe(e,t,s){return await e.apply(t,s)}function le(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ue(e[0],e[1])&&e.unshift(t);let[s,o,a={}]=e,u=!1;const r=I(()=>pe(s));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=se();a.server??=!0,a.default??=je,a.getCachedData??=fe,a.lazy??=!1,a.immediate??=!0,a.deep??=me.deep,a.dedupe??="cancel",a._functionName,n._asyncData[r.value];function $(){const f={cause:"initial",dedupe:a.dedupe};return n._asyncData[r.value]?._init||(f.cachedData=a.getCachedData(r.value,n,{cause:"initial"}),n._asyncData[r.value]=ne(n,r.value,o,a,f.cachedData)),()=>n._asyncData[r.value].execute(f)}const S=$(),l=n._asyncData[r.value];l._deps++;const m=a.server!==!1&&n.payload.serverRendered;{let f=function(h){const M=n._asyncData[h];M?._deps&&(M._deps--,M._deps===0&&M?._off())};const v=De();if(v&&m&&a.immediate&&!v.sp&&(v.sp=[]),v&&!v._nuxtOnBeforeMountCbs){v._nuxtOnBeforeMountCbs=[];const h=v._nuxtOnBeforeMountCbs;we(()=>{h.forEach(M=>{M()}),h.splice(0,h.length)}),K(()=>h.splice(0,h.length))}const C=v&&(v._nuxtClientOnly||Ce(Me,!1));m&&n.isHydrating&&(l.error.value||l.data.value!==void 0)?l.status.value=l.error.value?"error":"success":v&&(!C&&n.payload.serverRendered&&n.isHydrating||a.lazy)&&a.immediate?v._nuxtOnBeforeMountCbs.push(S):a.immediate&&l.status.value!=="success"&&S();const E=ye(),T=W(r,(h,M)=>{if((h||M)&&h!==M){u=!0;const z=n._asyncData[M]?.data.value!==void 0,i=n._asyncDataPromises[M]!==void 0,_={cause:"initial",dedupe:a.dedupe};if(!n._asyncData[h]?._init){let k;M&&z?k=n._asyncData[M].data.value:(k=a.getCachedData(h,n,{cause:"initial"}),_.cachedData=k),n._asyncData[h]=ne(n,h,o,a,k)}n._asyncData[h]._deps++,M&&f(M),(a.immediate||z||i)&&n._asyncData[h].execute(_),Se(()=>{u=!1})}},{flush:"sync"}),P=a.watch?W(a.watch,()=>{u||l._execute({cause:"watch",dedupe:a.dedupe})}):()=>{};E&&ve(()=>{T(),P(),f(r.value)})}const x={data:U(()=>n._asyncData[r.value]?.data),pending:U(()=>n._asyncData[r.value]?.pending),status:U(()=>n._asyncData[r.value]?.status),error:U(()=>n._asyncData[r.value]?.error),refresh:(...f)=>n._asyncData[r.value]?._init?n._asyncData[r.value].execute(...f):$()(),execute:(...f)=>x.refresh(...f),clear:()=>{const f=n._asyncData[r.value];if(f?._abortController)try{f._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{f._abortController=void 0}de(n,r.value)}},w=Promise.resolve(n._asyncDataPromises[r.value]).then(()=>x);return Object.assign(w,x),w}function U(e){return I({get(){return e()?.value},set(t){const s=e();s&&(s.value=t)}})}function Ae(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ue(e[0],e[1])&&e.unshift(t);const[s,o,a={}]=e;return le(s,o,{...a,lazy:!0},null)}function ue(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function de(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=p(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function He(e,t){const s={};for(const o of t)s[o]=e[o];return s}function ne(e,t,s,o,a){e.payload._errors[t]??=void 0;const u=o.getCachedData!==fe,r=s,n=o.deep?B:ae,$=a!==void 0,S=e.hook("app:data:refresh",async m=>{(!m||m.includes(t))&&await l.execute({cause:"refresh:hook"})}),l={data:n($?a:o.default()),pending:I(()=>l.status.value==="pending"),error:ge(e.payload._errors,t),status:ae("idle"),execute:(...m)=>{const[x,w=void 0]=m,f=x&&w===void 0&&typeof x=="object"?x:{};if(e._asyncDataPromises[t]&&(f.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];{const C="cachedData"in f?f.cachedData:o.getCachedData(t,e,{cause:f.cause??"refresh:manual"});if(C!==void 0)return e.payload.data[t]=l.data.value=C,l.error.value=void 0,l.status.value="success",Promise.resolve(C)}l._abortController&&l._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),l._abortController=new AbortController,l.status.value="pending";const v=new Promise((C,E)=>{try{const T=f.timeout??o.timeout,P=qe([l._abortController?.signal,f?.signal],T);if(P.aborted){const h=P.reason;E(h instanceof Error?h:new DOMException(String(h??"Aborted"),"AbortError"));return}return P.addEventListener("abort",()=>{const h=P.reason;E(h instanceof Error?h:new DOMException(String(h??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(r(e,{signal:P})).then(C,E)}catch(T){E(T)}}).then(async C=>{let E=C;o.transform&&(E=await o.transform(C)),o.pick&&(E=He(E,o.pick)),e.payload.data[t]=E,l.data.value=E,l.error.value=void 0,l.status.value="success"}).catch(C=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==v)&&!l._abortController?.signal.aborted){if(typeof DOMException<"u"&&C instanceof DOMException&&C.name==="AbortError"){l.status.value="idle";return}l.error.value=be(C),l.data.value=p(o.default()),l.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=v,e._asyncDataPromises[t]},_execute:Ve((...m)=>l.execute(...m),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{S(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),u||oe(()=>{e._asyncData[t]?._init||(de(e,t),l.execute=()=>Promise.resolve())})}};return l}const je=()=>{},fe=(e,t,s)=>{if(t.isHydrating)return t.payload.data[e];if(s.cause!=="refresh:manual"&&s.cause!=="refresh:hook")return t.static.data[e]};function qe(e,t){const s=e.filter(u=>!!u);if(typeof t=="number"&&t>=0){const u=AbortSignal.timeout?.(t);u&&s.push(u)}if(AbortSignal.any)return AbortSignal.any(s);const o=new AbortController;for(const u of s)if(u.aborted){const r=u.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}return o.signal}const a=()=>{const r=s.find(n=>n.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(r)}catch{o.abort()}};for(const u of s)u.addEventListener?.("abort",a,{once:!0});return o.signal}function ze(){return globalThis.$fetch}const Ue={nuxt:{}},We=Ee(ke,Ue);function _e(){const e=se();return e._appConfig||=$e(We),e._appConfig}const Ye={class:"pc-nav"},Ge={class:"container"},Je=A({__name:"HeaderNav",props:{navItems:{}},emits:["toggle"],setup(e,{emit:t}){const s=t,o=a=>{s("toggle",a)};return(a,u)=>{const r=Z;return y(),b("nav",null,[d("div",Ye,[(y(!0),b(q,null,Y(e.navItems,n=>(y(),ee(r,{key:n.link,to:n.link},{default:G(()=>[te(L(n.text),1)]),_:2},1032,["to"]))),128))]),d("div",{class:"mobile-nav",onClick:o},[d("div",Ge,[(y(),b(q,null,Y(3,n=>d("div",{class:"mobile-nav-item",key:n})),64))])])])}}}),Qe=Object.assign(H(Je,[["__scopeId","data-v-f0d77200"]]),{__name:"HeaderNav"}),Xe={class:"mask"},Ze={class:"title-container"},Ke={class:"title"},et={key:0},tt=A({__name:"Banner",props:{title:{},slogan:{},background:{}},setup(e){const t=e,s=I(()=>({...t.background}));return(o,a)=>(y(),b("div",{class:"banner",style:xe(p(s))},[d("div",Xe,[d("div",Ze,[d("div",Ke,[d("h1",null,L(e.title),1),e.slogan?(y(),b("p",et,L(e.slogan),1)):F("",!0)])])])],4))}}),at=Object.assign(H(tt,[["__scopeId","data-v-4e11f931"]]),{__name:"Banner"}),nt={class:"search-overlay__panel"},st={class:"search-overlay__header"},ot={key:0,class:"search-overlay__state"},rt={key:1,class:"search-overlay__body"},it={key:0,class:"search-overlay__state"},ct={key:1,class:"search-overlay__state"},lt={key:2,class:"search-overlay__count"},ut={key:3,class:"search-overlay__list"},dt={class:"search-overlay__item-title"},ft={class:"search-overlay__item-meta"},_t={key:0},ht={class:"search-overlay__item-snippet"},mt=50,vt=A({__name:"SearchOverlay",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,a=B(""),u=B(null),r=ze(),n=B(!1),$=async()=>{const i=await r("/search/sections.json");if(Array.isArray(i))return i;if(typeof i=="string")try{return JSON.parse(i)}catch(_){console.warn("[search] Failed to parse sections payload",_)}return[]},{data:S,pending:l,refresh:m}=Ae("posts-search-sections",$,{server:!1,immediate:!1,default:()=>[]}),x=I(()=>S.value??[]),w=I(()=>{const i=a.value.trim().toLowerCase();if(!i)return[];const _=Array.from(new Set(i.split(/\s+/).filter(Boolean)));if(!_.length)return[];const k=x.value.map(c=>{const g=(c.content??"").replace(/\s+/g," ").trim();if(!g)return null;const N=C(c),j=E(c),Q=`${N} ${j} ${g}`.toLowerCase();if(!_.every(O=>Q.includes(O)))return null;let V=0;return _.forEach(O=>{N.toLowerCase().includes(O)?V+=4:j.toLowerCase().includes(O)?V+=3:V+=1}),{id:c.id,baseId:T(c.id),documentTitle:N,sectionTitle:j,snippet:M(g,_),score:V}}).filter(c=>!!c).sort((c,g)=>g.score-c.score);if(!k.length)return[];const D=new Map;return k.forEach(c=>{const g=D.get(c.baseId);if(!g){D.set(c.baseId,{id:c.id,baseId:c.baseId,documentTitle:c.documentTitle,sectionTitles:c.sectionTitle?[c.sectionTitle]:[],snippets:[c.snippet],score:c.score,matchCount:1,bestScore:c.score});return}g.matchCount+=1,g.score+=c.score,g.snippets.push(c.snippet),c.sectionTitle&&!g.sectionTitles.includes(c.sectionTitle)&&g.sectionTitles.length<3&&g.sectionTitles.push(c.sectionTitle),c.score>g.bestScore&&(g.bestScore=c.score,g.id=c.id)}),Array.from(D.values()).map(c=>({id:c.id,documentTitle:c.documentTitle,sectionLabel:h(c.sectionTitles,c.matchCount),snippet:P(c.snippets),score:c.score,matchCount:c.matchCount})).sort((c,g)=>g.score-c.score).slice(0,mt)}),f=i=>{s.modelValue&&i.key==="Escape"&&(i.preventDefault(),v())};W(()=>s.modelValue,i=>{i?(n.value||(n.value=!0,m()),document.body.style.setProperty("overflow","hidden"),oe(()=>{a.value="",u.value?.focus()})):document.body.style.removeProperty("overflow")}),J(()=>{window.addEventListener("keydown",f)}),re(()=>{window.removeEventListener("keydown",f),document.body.style.removeProperty("overflow")});function v(){o("update:modelValue",!1)}function C(i){return i.titles?.[0]??i.title??"æœªå‘½åæ–‡ç« "}function E(i){return i.titles?.length?i.titles.slice(1).filter(Boolean).at(-1)??i.title??"":i.title??""}function T(i){const _=i.indexOf("#");return _===-1?i:i.slice(0,_)}function P(i){const _=[];if(i.forEach(D=>{const c=D.trim();c&&(_.includes(c)||_.push(c))}),!_.length)return"";const k=_.slice(0,2).join(" â€¦ ");return k.length>240?`${k.slice(0,240)}â€¦`:k}function h(i,_){return _?_===1?i[0]??"":i.length?`æ¶‰åŠæ®µè½ï¼š${i.join("ã€")}${_>i.length?"â€¦":""}`:"":""}function M(i,_){if(!i)return"";const k=i.toLowerCase(),D=_.map(O=>k.indexOf(O)).filter(O=>O>=0).sort((O,he)=>O-he)[0];if(D===void 0)return z(i);const c=60,g=Math.max(0,D-c),N=Math.min(i.length,D+c),j=i.slice(g,N),Q=g>0?"â€¦":"",V=N<i.length?"â€¦":"";return`${Q}${j}${V}`}function z(i){return i.length>140?`${i.slice(0,140)}â€¦`:i}return(i,_)=>{const k=Z;return y(),ee(Be,{to:"body"},[R(Pe,{name:"search-overlay"},{default:G(()=>[e.modelValue?(y(),b("div",{key:0,class:"search-overlay",role:"dialog","aria-modal":"true",onMousedown:Te(v,["self"])},[d("div",nt,[d("div",st,[Oe(d("input",{ref_key:"inputRef",ref:u,type:"search","onUpdate:modelValue":_[0]||(_[0]=D=>ie(a)?a.value=D:null),class:"search-overlay__input",placeholder:"æœç´¢æ–‡ç« ï¼Œæ”¯æŒå¤šä¸ªå…³é”®è¯"},null,512),[[Le,p(a)]]),d("button",{class:"search-overlay__close",type:"button",onClick:v,"aria-label":"å…³é—­æœç´¢"}," Ã— ")]),p(l)?(y(),b("div",ot,"æ­£åœ¨å‡†å¤‡ç´¢å¼•â€¦")):(y(),b("div",rt,[p(a).trim()?p(w).length?(y(),b("div",lt," å…±æ‰¾åˆ° "+L(p(w).length)+" æ¡ç»“æžœ ",1)):(y(),b("p",ct," æ²¡æœ‰æ‰¾åˆ°åŒ¹é…å†…å®¹ï¼Œæ¢ä¸ªå…³é”®è¯è¯•è¯•ï¼Ÿ ")):(y(),b("p",it," è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢ã€‚ ")),p(w).length?(y(),b("ul",ut,[(y(!0),b(q,null,Y(p(w),D=>(y(),b("li",{key:D.id,class:"search-overlay__item"},[R(k,{to:D.id,class:"search-overlay__link",onClick:v},{default:G(()=>[d("h3",dt,L(D.documentTitle),1),d("p",ft,[te(" å…± "+L(D.matchCount)+" å¤„åŒ¹é… ",1),D.sectionLabel?(y(),b("span",_t," Â· "+L(D.sectionLabel),1)):F("",!0)]),d("p",ht,L(D.snippet),1)]),_:2},1032,["to"])]))),128))])):F("",!0)]))])],32)):F("",!0)]),_:1})])}}}),pt=Object.assign(H(vt,[["__scopeId","data-v-62b29045"]]),{__name:"SearchOverlay"});function yt(){const e=B(!1);let t=!1;const s=()=>{t||(window.requestAnimationFrame(()=>{e.value=window.scrollY>0,t=!1}),t=!0)};return J(()=>{s(),window.addEventListener("scroll",s)}),K(()=>{window.removeEventListener("scroll",s)}),{isScrolled:e}}function gt(){const e=B(!1),t=o=>{o.stopPropagation(),e.value=!e.value},s=()=>{e.value=!1};return J(()=>{document.addEventListener("click",s)}),K(()=>{document.removeEventListener("click",s)}),{showMobileMenu:e,toggleMobileMenu:t,closeMobileMenu:s}}const bt={class:"header-container"},Dt={class:"header"},wt={href:"/",class:"header-title"},Ct={class:"header-right"},Mt={key:0,class:"mobile-menu-dropdown"},St=A({__name:"Header",props:{title:{default:""},background:{}},setup(e){const t=_e(),s=ce(),o=I(()=>s.path==="/"||s.path.startsWith("/page/")?t.slogan:null),a=e,u=I(()=>a.title||t.title),{isScrolled:r}=yt(),{showMobileMenu:n,toggleMobileMenu:$,closeMobileMenu:S}=gt(),l=B(!1),m=()=>{S(),l.value=!0};return W(()=>s.fullPath,()=>{l.value=!1}),(x,w)=>{const f=Qe,v=Z,C=at,E=pt;return y(),b(q,null,[d("header",{class:Ie({scrolled:p(r),"show-mobile-menu":p(n)})},[d("div",bt,[d("div",Dt,[d("a",wt,L(p(t).title),1),d("div",Ct,[R(f,{"nav-items":p(t).nav.items,onToggle:p($)},null,8,["nav-items","onToggle"]),d("button",{type:"button",class:"search-trigger",onClick:m,"aria-label":"æœç´¢æ–‡ç« "},[...w[1]||(w[1]=[d("span",{"aria-hidden":"true"},"ðŸ”",-1),d("span",{class:"search-trigger__label"},"æœç´¢",-1)])])])])]),p(n)?(y(),b("div",Mt,[(y(!0),b(q,null,Y(p(t).nav.items,T=>(y(),ee(v,{key:T.link,to:T.link,onClick:p(S)},{default:G(()=>[te(L(T.text),1)]),_:2},1032,["to","onClick"]))),128))])):F("",!0)],2),R(C,{background:e.background,title:p(u),slogan:p(o)},null,8,["background","title","slogan"]),R(E,{modelValue:p(l),"onUpdate:modelValue":w[0]||(w[0]=T=>ie(l)?l.value=T:null)},null,8,["modelValue"])],64)}}}),Et=Object.assign(H(St,[["__scopeId","data-v-8bb8c476"]]),{__name:"Header"}),kt=e=>{const t=B(null),s=B(!1);return J(()=>{if(!t.value)return;const o=new IntersectionObserver(a=>{a.forEach(u=>{u.isIntersecting&&!s.value&&(s.value=!0,o.disconnect())})},{rootMargin:e?.rootMargin??"100px",threshold:e?.threshold??.1});o.observe(t.value),re(()=>{o.disconnect()})}),{targetRef:t,isVisible:s}},$t={class:"footer-content"},xt={key:0,frameborder:"0",src:"https://support.nodeget.com/page/promotion?id=61",style:{"border-radius":"8px",height:"246px",transform:"scale(0.8)","transform-origin":"top center"}},Tt=A({__name:"Footer",props:{background:{}},setup(e){const s={minHeight:"120px",...e.background},{targetRef:o,isVisible:a}=kt({rootMargin:"100px",threshold:.1});return(u,r)=>(y(),b("footer",{ref_key:"footerRef",ref:o,style:s},[r[1]||(r[1]=d("div",{class:"footer-mask"},null,-1)),d("div",$t,[r[0]||(r[0]=d("div",null,"Â©2020 - 2025 By zhullyb",-1)),p(a)?(y(),b("iframe",xt)):F("",!0)])],512))}}),Ot=Object.assign(H(Tt,[["__scopeId","data-v-c4c4d381"]]),{__name:"Footer"}),Lt={class:"content-wrapper"},Pt={class:"before-main side"},Bt={class:"after-main side"},It=A({__name:"DefaultLayout",props:{title:{default:""}},setup(e){const t=ce(),s=e,o=_e(),{data:a}=le("randomIndex"+t.path,async()=>Math.floor(Math.random()*o.backgrounds.length),"$RRY2fi8_v6"),u=I(()=>o.backgrounds[a.value??0]);return Re({title:s.title||o.title}),(r,n)=>{const $=Et,S=Ot;return y(),b("div",null,[R($,{background:p(u),title:e.title},null,8,["background","title"]),d("div",Lt,[d("div",Pt,[X(r.$slots,"BeforeMain",{},void 0,!0)]),d("main",null,[X(r.$slots,"default",{},void 0,!0)]),d("div",Bt,[X(r.$slots,"AfterMain",{},void 0,!0)])]),R(S,{background:p(u)},null,8,["background"])])}}}),Vt=Object.assign(H(It,[["__scopeId","data-v-74b56342"]]),{__name:"DefaultLayout"});export{Vt as _,kt as a,le as u};
