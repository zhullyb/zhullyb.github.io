import{_ as v}from"./CtmZfTcB.js";import{_ as w}from"./T75rCvxz.js";import{d as N,J as P,K as l,L as y,C as n,o as r,a as p,M as A,N as k,G as u,I as m,w as E,F as M,E as c,_ as z}from"./t3YLDFC_.js";import{u as d}from"./BkbPqaJR.js";import{q as g}from"./JyMgyJju.js";const B={class:"date"},i=10,D=N({__name:"ArchiveArticleContainer",async setup(I){let t,e;const _=P(),a=_.params.page&&parseInt(_.params.page)||1,o=([t,e]=l(()=>d(`index-page-${a}`,()=>g("posts").where("lang","=","zh-CN").order("date","DESC").skip((a-1)*i).limit(i).select("title","date","path","tags").all())),t=await t,e(),t).data,h=([t,e]=l(()=>d("posts-nums-total",()=>g("posts").where("lang","=","zh-CN").count())),t=await t,e(),t).data,f=Math.max(1,Math.ceil((h.value??0)/i));if(o.value&&o.value.length===0&&a>1)throw y({statusCode:404,statusMessage:"Page not found",fatal:!0});return(L,S)=>{const x=v,C=w;return r(),n("div",null,[(r(!0),n(A,null,k(c(o),s=>(r(),n("div",{key:s.path,class:"post-item"},[u("p",B,m(s.date?.split(" ")[0]),1),u("p",null,[p(x,{to:s.path,prefetchOn:"interaction"},{default:E(()=>[M(m(s.title),1)]),_:2},1032,["to"])])]))),128)),p(C,{currentPage:c(a),totalPages:c(f),urlPrefix:"/archives"},null,8,["currentPage","totalPages"])])}}}),b=Object.assign(z(D,[["__scopeId","data-v-0074ca0f"]]),{__name:"ArchiveArticleContainer"});export{b as _};
