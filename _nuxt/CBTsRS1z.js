import{_ as w}from"./CKfdtC_V.js";import{_ as z,u as E,q as $}from"./dO_NVEVu.js";import{d as L,K as M,V as F,q as g,L as N,c as x,w as y,o as m,G as B,C as b,E as f,N as D,O as T,T as q,F as O,I as C,_ as V}from"./B88BixJ4.js";function j(s,e,o){if(o===0)return s;if(o===1)return e;const a=k(s),l=k(e);if(!a||!l)throw new Error("Invalid color format");const p=Math.round(a.r+o*(l.r-a.r)),d=Math.round(a.g+o*(l.g-a.g)),i=Math.round(a.b+o*(l.b-a.b));return A(p,d,i)}function k(s){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function A(s,e,o){return"#"+((1<<24)+(s<<16)+(e<<8)+o).toString(16).slice(1)}const P={class:"text-center tagcloud"},R={key:1},U=40,I=20,G="#bbbbee",H="#337ab7",K=L({__name:"index",async setup(s){let e,o;const{locale:a}=M(),l=F(),p=g(()=>a.value==="zh"?"zh-CN":"en"),d=([e,o]=N(()=>E(`tags-posts-${a.value}`,()=>$("posts").where("lang","=",p.value).select("tags").all())),e=await e,o(),e).data,i=g(()=>{const n={};let u=0,c=1/0;d.value.forEach(t=>{typeof t.tags?.forEach=="function"&&t.tags?.forEach(r=>{r in n?n[r]+=1:n[r]=1})}),Object.keys(n).forEach(t=>{u=Math.max(u,n[t]),c=Math.min(c,n[t])});const _=Object.keys(n).map(t=>{const r=n[t],h=u===c?1:(r-c)/(u-c),S=I+h*(U-I),v=j(G,H,h);return{name:t,count:n[t],style:{fontSize:`${S.toFixed(2)}px`,color:v}}});return _.sort((t,r)=>t.name.localeCompare(r.name,"en-US")),_});return(n,u)=>{const c=w,_=z;return m(),x(_,{title:n.$t("tag")},{default:y(()=>[B("div",P,[f(i).length?(m(!0),b(D,{key:0},T(f(i),t=>(m(),x(c,{class:"tag",key:t.name,to:`${f(l)("/tags")}/${encodeURIComponent(t.name)}`,style:q(t.style)},{default:y(()=>[O(C(t.name),1)]),_:2},1032,["to","style"]))),128)):(m(),b("p",R,C(n.$t("loading_tags")),1))])]),_:1},8,["title"])}}}),X=V(K,[["__scopeId","data-v-333cfb1c"]]);export{X as default};
