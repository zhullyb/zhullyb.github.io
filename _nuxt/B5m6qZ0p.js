const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mo5xpB8W.js","./DDN1AUMT.js","./entry.Cb3Jctur.css","./BC7mfSrw.js"])))=>i.map(i=>d[i]);
import{_ as j}from"./CiO6KLv0.js";import{_ as z}from"./D-o9tBJN.js";import{d as w,C as d,D as f,o as i,Q as T,E as n,y as E,G as a,I as x,_ as R,J as V,q as k,O as S,a as m,w as v,c as g,W as F,X as H,Y as G,Z as J,R as K,K as y,L as Q,H as U,F as h,M as X,N as Y}from"./DDN1AUMT.js";import{a as Z,_ as tt,u as P}from"./CeY-3Hbf.js";import{_ as et}from"./BHjFS2xD.js";import{q as L,b as nt}from"./1rR7eC7m.js";const st={key:0,class:"post-navigation"},ot=["href"],at={class:"nav-content"},it={class:"nav-title"},rt=["href"],lt={class:"nav-content"},ut={class:"nav-title"},ct=w({__name:"PostNavigation",props:{prevPost:{},nextPost:{}},setup(s){return(e,t)=>s.prevPost||s.nextPost?(i(),d("nav",st,[s.prevPost?(i(),d("a",{key:0,class:"nav-button prev",href:s.prevPost.path+"/",onClick:t[0]||(t[0]=T(p=>("navigateTo"in e?e.navigateTo:n(E))(s.prevPost.path+"/"),["prevent"]))},[t[3]||(t[3]=a("div",{class:"nav-arrow"},"←",-1)),a("div",at,[t[2]||(t[2]=a("span",{class:"nav-label"},"上一篇",-1)),a("span",it,x(s.prevPost.title),1)])],8,ot)):f("",!0),s.nextPost?(i(),d("a",{key:1,class:"nav-button next",href:s.nextPost.path+"/",onClick:t[1]||(t[1]=T(p=>("navigateTo"in e?e.navigateTo:n(E))(s.nextPost.path+"/"),["prevent"]))},[a("div",lt,[t[4]||(t[4]=a("span",{class:"nav-label"},"下一篇",-1)),a("span",ut,x(s.nextPost.title),1)]),t[5]||(t[5]=a("div",{class:"nav-arrow"},"→",-1))],8,rt)):f("",!0)])):f("",!0)}}),dt=Object.assign(R(ct,[["__scopeId","data-v-f7d5c848"]]),{__name:"PostNavigation"}),_t={key:1},pt=w({__name:"Waline",setup(s){const e=F(()=>K(()=>import("./mo5xpB8W.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.Waline)),t=V(),p=k(()=>({...S.waline,path:t.path.endsWith("/")?t.path:t.path+"/"})),{targetRef:u,isVisible:c}=Z({rootMargin:"200px",threshold:0});return(r,_)=>{const o=J;return i(),d("div",{id:"waline",ref_key:"walineRef",ref:u},[m(o,null,{default:v(()=>[n(c)?(i(),g(n(e),H(G({key:0},n(p))),null,16)):(i(),d("div",_t,"Waline Loading..."))]),_:1})],512)}}}),mt=Object.assign(pt,{__name:"Waline"}),vt={key:0,class:"english-version-notice"},ft={class:"tags"},ht=w({__name:"index",async setup(s){let e,t;const p=V(),{year:u,month:c,day:r,slug:_}=p.params,{data:o}=([e,t]=y(()=>P(`post-${u}-${c}-${r}-${_}`,()=>L("posts").path(`/${u}/${c}/${r}/${_}`).first())),e=await e,t(),e),{data:W}=([e,t]=y(()=>P(`has-en-${u}-${c}-${r}-${_}`,()=>L("posts").path(`/${u}/${c}/${r}/${_}-en`).count().then(b=>b>0))),e=await e,t(),e);if(!o.value)throw Q({statusCode:404,statusMessage:"Post not found",fatal:!0});const C=([e,t]=y(()=>P(`surround-${u}-${c}-${r}-${_}`,()=>nt("posts",o.value.path,{before:1,after:1,fields:["title","path","date"]}).order("date","DESC"))),e=await e,t(),e).data,O=k(()=>C.value?.[0]||null),D=k(()=>C.value?.[1]||null);return U({meta:[{name:"description",content:o.value?.description||""},{name:"keywords",content:o.value?.tags?.join(",")||""}],link:[{rel:"stylesheet",href:"https://static.031130.xyz/res/github-markdown.css"}]}),(b,l)=>{const N=j,I=z,A=dt,M=mt,q=et,B=tt;return i(),g(B,{title:n(o)?.title},{AfterMain:v(()=>[a("aside",null,[m(q,{body:n(o)?.body},null,8,["body"])])]),default:v(()=>[n(W)?(i(),d("div",vt,[l[1]||(l[1]=h(" This article has an ",-1)),m(N,{to:`${n(o)?.path}/en`},{default:v(()=>[...l[0]||(l[0]=[h("English version",-1)])]),_:1},8,["to"]),l[2]||(l[2]=h(". ",-1))])):f("",!0),n(o)?(i(),g(I,{key:1,value:n(o),tag:"article",class:"markdown-body"},null,8,["value"])):f("",!0),l[3]||(l[3]=a("hr",{class:"article-end-hr"},null,-1)),a("div",ft,[(i(!0),d(X,null,Y(n(o)?.tags,$=>(i(),g(N,{key:$,to:`/tags/${encodeURIComponent($)}`,prefetchOn:"interaction"},{default:v(()=>[h("#"+x($),1)]),_:2},1032,["to"]))),128))]),m(A,{prevPost:n(O),nextPost:n(D)},null,8,["prevPost","nextPost"]),m(M)]),_:1},8,["title"])}}}),wt=R(ht,[["__scopeId","data-v-73cea976"]]);export{wt as default};
