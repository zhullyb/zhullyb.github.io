const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./6-Hz3L6S.js","./DzIPptdI.js","./entry.wK2xKsNV.css","./BT3PaOQP.js"])))=>i.map(i=>d[i]);
import{x as N,g as me,aq as Pe,X as Z,$ as Me,a4 as Re,Z as je,f as V,s as he,a5 as Ae,Y as ye,N as Be,G as h,a2 as Ve,ar as qe,a7 as le,a8 as Fe,as as We,at as ze,au as Ue,av as He,aa as Qe,e as q,aw as Ge,y as Ye,ax as pe,n as Je,D as Xe,al as Ze,ay as Ke,S as et,b as S,o as b,d as g,O as Y,P as K,c as ee,w as U,H as te,J as O,_ as F,F as H,U as be,L as J,h as se,k as we,a as j,T as Ce,ab as De,a0 as Se,ad as tt,az as nt,V as at,aA as st,m as ot,K as ue,W as rt,R as it,aB as $e,aC as ct,ae as lt,I as ut,r as re}from"./DzIPptdI.js";import{_ as ie}from"./BT3PaOQP.js";const dt={trailing:!0};function ft(e,t=25,n={}){if(n={...dt,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let a,s,r=[],i,o;const f=(_,C)=>(i=ht(e,_,C),i.finally(()=>{if(i=null,n.trailing&&o&&!s){const T=f(_,o);return o=null,T}}),i),u=function(..._){return n.trailing&&(o=_),i||new Promise(C=>{const T=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const m=n.leading?a:f(this,_);o=null;for(const p of r)p(m);r=[]},t),T?(a=f(this,_),C(a)):r.push(C)})},c=_=>{_&&(clearTimeout(_),s=null)};return u.isPending=()=>!!s,u.cancel=()=>{c(s),r=[],o=null},u.flush=()=>{if(c(s),!o||i)return;const _=o;return o=null,f(this,_)},u}async function ht(e,t,n){return await e.apply(t,n)}function de(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ke(e[0],e[1])&&e.unshift(t);let[n,a,s={}]=e,r=!1;const i=N(()=>Re(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=me();s.server??=!0,s.default??=gt,s.getCachedData??=Ee,s.lazy??=!1,s.immediate??=!0,s.deep??=Pe.deep,s.dedupe??="cancel",s._functionName,o._asyncData[i.value];function f(){const m={cause:"initial",dedupe:s.dedupe};return o._asyncData[i.value]?._init||(m.cachedData=s.getCachedData(i.value,o,{cause:"initial"}),o._asyncData[i.value]=_e(o,i.value,a,s,m.cachedData)),()=>o._asyncData[i.value].execute(m)}const u=f(),c=o._asyncData[i.value];c._deps++;const _=s.server!==!1&&o.payload.serverRendered;{let m=function(y){const $=o._asyncData[y];$?._deps&&($._deps--,$._deps===0&&$?._off())};const p=Ve();if(p&&_&&s.immediate&&!p.sp&&(p.sp=[]),p&&!p._nuxtOnBeforeMountCbs){p._nuxtOnBeforeMountCbs=[];const y=p._nuxtOnBeforeMountCbs;qe(()=>{y.forEach($=>{$()}),y.splice(0,y.length)}),le(()=>y.splice(0,y.length))}const w=p&&(p._nuxtClientOnly||Fe(We,!1));_&&o.isHydrating&&(c.error.value||c.data.value!==void 0)?c.status.value=c.error.value?"error":"success":p&&(!w&&o.payload.serverRendered&&o.isHydrating||s.lazy)&&s.immediate?p._nuxtOnBeforeMountCbs.push(u):s.immediate&&c.status.value!=="success"&&u();const E=je(),v=Z(i,(y,$)=>{if((y||$)&&y!==$){r=!0;const I=o._asyncData[$]?.data.value!==void 0,A=o._asyncDataPromises[$]!==void 0,R={cause:"initial",dedupe:s.dedupe};if(!o._asyncData[y]?._init){let P;$&&I?P=o._asyncData[$].data.value:(P=s.getCachedData(y,o,{cause:"initial"}),R.cachedData=P),o._asyncData[y]=_e(o,y,a,s,P)}o._asyncData[y]._deps++,$&&m($),(s.immediate||I||A)&&o._asyncData[y].execute(R),ze(()=>{r=!1})}},{flush:"sync"}),L=s.watch?Z(s.watch,()=>{r||c._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};E&&Me(()=>{v(),L(),m(i.value)})}const C={data:X(()=>o._asyncData[i.value]?.data),pending:X(()=>o._asyncData[i.value]?.pending),status:X(()=>o._asyncData[i.value]?.status),error:X(()=>o._asyncData[i.value]?.error),refresh:(...m)=>o._asyncData[i.value]?._init?o._asyncData[i.value].execute(...m):f()(),execute:(...m)=>C.refresh(...m),clear:()=>{const m=o._asyncData[i.value];if(m?._abortController)try{m._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{m._abortController=void 0}xe(o,i.value)}},T=Promise.resolve(o._asyncDataPromises[i.value]).then(()=>C);return Object.assign(T,C),T}function X(e){return N({get(){return e()?.value},set(t){const n=e();n&&(n.value=t)}})}function pt(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ke(e[0],e[1])&&e.unshift(t);const[n,a,s={}]=e;return de(n,a,{...s,lazy:!0},null)}function ke(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function xe(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=h(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function _t(e,t){const n={};for(const a of t)n[a]=e[a];return n}function _e(e,t,n,a,s){e.payload._errors[t]??=void 0;const r=a.getCachedData!==Ee,i=n,o=a.deep?V:he,f=s!==void 0,u=e.hook("app:data:refresh",async _=>{(!_||_.includes(t))&&await c.execute({cause:"refresh:hook"})}),c={data:o(f?s:a.default()),pending:N(()=>c.status.value==="pending"),error:Ae(e.payload._errors,t),status:he("idle"),execute:(..._)=>{const[C,T=void 0]=_,m=C&&T===void 0&&typeof C=="object"?C:{};if(e._asyncDataPromises[t]&&(m.dedupe??a.dedupe)==="defer")return e._asyncDataPromises[t];{const w="cachedData"in m?m.cachedData:a.getCachedData(t,e,{cause:m.cause??"refresh:manual"});if(w!==void 0)return e.payload.data[t]=c.data.value=w,c.error.value=void 0,c.status.value="success",Promise.resolve(w)}c._abortController&&c._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),c._abortController=new AbortController,c.status.value="pending";const p=new Promise((w,E)=>{try{const v=m.timeout??a.timeout,L=vt([c._abortController?.signal,m?.signal],v);if(L.aborted){const y=L.reason;E(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"));return}return L.addEventListener("abort",()=>{const y=L.reason;E(y instanceof Error?y:new DOMException(String(y??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(i(e,{signal:L})).then(w,E)}catch(v){E(v)}}).then(async w=>{let E=w;a.transform&&(E=await a.transform(w)),a.pick&&(E=_t(E,a.pick)),e.payload.data[t]=E,c.data.value=E,c.error.value=void 0,c.status.value="success"}).catch(w=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==p)&&!c._abortController?.signal.aborted){if(typeof DOMException<"u"&&w instanceof DOMException&&w.name==="AbortError"){c.status.value="idle";return}c.error.value=Be(w),c.data.value=h(a.default()),c.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=p,e._asyncDataPromises[t]},_execute:ft((..._)=>c.execute(..._),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{u(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),r||ye(()=>{e._asyncData[t]?._init||(xe(e,t),c.execute=()=>Promise.resolve())})}};return c}const gt=()=>{},Ee=(e,t,n)=>{if(t.isHydrating)return t.payload.data[e];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return t.static.data[e]};function vt(e,t){const n=e.filter(r=>!!r);if(typeof t=="number"&&t>=0){const r=AbortSignal.timeout?.(t);r&&n.push(r)}if(AbortSignal.any)return AbortSignal.any(n);const a=new AbortController;for(const r of n)if(r.aborted){const i=r.reason??new DOMException("Aborted","AbortError");try{a.abort(i)}catch{a.abort()}return a.signal}const s=()=>{const i=n.find(o=>o.aborted)?.reason??new DOMException("Aborted","AbortError");try{a.abort(i)}catch{a.abort()}};for(const r of n)r.addEventListener?.("abort",s,{once:!0});return a.signal}const mt={nuxt:{}},yt=Ue(He,mt);function Le(){const e=me();return e._appConfig||=Qe(yt),e._appConfig}const fe=q({name:"NuxtLinkLocale",props:{...ie.props,locale:{type:String,default:void 0,required:!1}},setup(e,{slots:t}){const n=Ge(),a=N(()=>{const o=e.to||e.href||"";return typeof o=="string"&&Ye(o,{acceptRelative:!0})}),s=N(()=>{const o=e.to??e.href,f=o!=null?n(o,e.locale):o;return f&&pe(e.to)&&(f.state=e.to?.state),o!=null?f:o}),r=N(()=>{if(e.external)return!0;const o=e.to||e.href||"";return pe(o)?!1:o===""||a.value}),i=()=>{const o={...e};return r.value||(o.to=s.value),delete o.href,delete o.locale,o};return()=>Je(ie,i(),t.default)}}),Oe={posts:"v3.5.0--tHnk9YMiKsqBnJWcNVVnLt3eIMiL3eXWvDXRJp_QfKE",others:"v3.5.0--9VPoLkQqIDomami-nsy49a_crqqOSGHRztYQEyP-n_Q"},bt={posts:"_content_posts",others:"_content_others",info:"_content_info"},Mn={posts:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",lang:"string",meta:"json",navigation:"json",path:"string",rawbody:"string",seo:"json",stem:"string",sticky:"boolean",tags:"json"}},others:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",lang:"string",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"}},info:{type:"data",fields:{}}},ne=(e,t)=>{const n=e._conditions;return n.length>0?`(${n.join(` ${t} `)})`:""},ae=e=>{const t=[],n={_conditions:t,where(a,s,r){let i;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(r)){const o=r.map(f=>G(f)).join(", ");i=`"${String(a)}" ${s.toUpperCase()} (${o})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(r)&&r.length===2)i=`"${String(a)}" ${s.toUpperCase()} ${G(r[0])} AND ${G(r[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":i=`"${String(a)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":i=`"${String(a)}" ${s.toUpperCase()} ${G(r)}`;break;default:i=`"${String(a)}" ${s} ${G(typeof r=="boolean"?Number(r):r)}`}return t.push(`${i}`),n},andWhere(a){const s=a(ae());return t.push(ne(s,"AND")),n},orWhere(a){const s=a(ae());return t.push(ne(s,"OR")),n}};return n},wt=(e,t)=>{const n={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},a={__params:n,andWhere(r){const i=r(ae());return n.conditions.push(ne(i,"AND")),a},orWhere(r){const i=r(ae());return n.conditions.push(ne(i,"OR")),a},path(r){return a.where("path","=",Xe(r))},skip(r){return n.offset=r,a},where(r,i,o){return a.andWhere(f=>f.where(String(r),i,o)),a},limit(r){return n.limit=r,a},select(...r){return r.length&&n.selectedFields.push(...r),a},order(r,i){return n.orderBy.push(`"${String(r)}" ${i}`),a},async all(){return t(e,s()).then(r=>r||[])},async first(){return t(e,s({limit:1})).then(r=>r[0]||null)},async count(r="*",i=!1){return t(e,s({count:{field:String(r),distinct:i}})).then(o=>o[0].count)}};function s(r={}){let i="SELECT ";if(r?.count)i+=`COUNT(${r.count.distinct?"DISTINCT ":""}${r.count.field}) as count`;else{const f=Array.from(new Set(n.selectedFields));i+=f.length>0?f.map(u=>`"${String(u)}"`).join(", "):"*"}i+=` FROM ${bt[String(e)]}`,n.conditions.length>0&&(i+=` WHERE ${n.conditions.join(" AND ")}`),n.orderBy.length>0?i+=` ORDER BY ${n.orderBy.join(", ")}`:i+=" ORDER BY stem ASC";const o=r?.limit||n.limit;return o>0&&(n.offset>0?i+=` LIMIT ${o} OFFSET ${n.offset}`:i+=` LIMIT ${o}`),i}return a};function G(e){return`'${String(e).replace(/'/g,"''")}'`}function ge(e){return t=>(t=t||{},(e||[]).filter(n=>typeof t[n]<"u").reduce((n,a)=>Object.assign(n,{[a]:t[a]}),{}))}async function Ct(e,t=[]){e.__params?.orderBy?.length||(e=e.order("stem","ASC"));const a=await e.orWhere(u=>u.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...t||[]).all(),{contents:s,configs:r}=a.reduce((u,c)=>{if(String(c.stem).split("/").pop()===".navigation"){c.title=c.title?.toLowerCase()==="navigation"?"":c.title;const _=c.path.split("/").slice(0,-1).join("/")||"/";u.configs[_]={...c,...c.body}}else u.contents.push(c);return u},{configs:{},contents:[]}),i=u=>({...ge(["title",...t])(u),...u.meta,...ve(u?.navigation)?u.navigation:{}}),o=u=>({...ge(["title",...t])(u),...ve(u?.navigation)?u.navigation:{}}),f=s.reduce((u,c)=>{const _=c.path.substring(1).split("/"),C=c.stem.split("/"),T=!!C[C.length-1]?.match(/([1-9]\d*\.)?index/g),m=v=>({title:v.title,path:v.path,stem:v.stem,children:[],...o(v)}),p=m(c);if(T){const v=r[p.path];if(typeof v?.navigation<"u"&&v?.navigation===!1)return u;if(c.path!=="/"){const L=m(c);p.children.push(L)}v&&Object.assign(p,i(v))}if(_.length===1){const v=u.find(L=>L.path===p.path&&L.page===!1);return T&&v?Object.assign(v,{page:void 0,children:[...p.children||[],...v.children||[]]}):u.push(p),u}const w=_.slice(0,-1).reduce((v,L,y)=>{const $="/"+_.slice(0,y+1).join("/"),I=r[$];if(typeof I?.navigation<"u"&&I.navigation===!1)return[];let A=v.find(R=>R.path===$);if(!A){const R=I?i(I):{};A={...R,title:R.title||Dt(L),path:$,stem:C.slice(0,y+1).join("/"),children:[],page:!1},v.push(A)}return A.children},u),E=w.find(v=>v.path===p.path&&v.page===!1);return E?Object.assign(E,{...p,page:void 0,children:[...p.children||[],...E.children||[]]}):w.push(p),u},[]);return Te(f)}function Te(e){const t=e;for(const n of t)n.children?.length?Te(n.children):delete n.children;return e}function ve(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const Dt=e=>e.split(/[\s-]/g).map(Ze).join(" ");async function St(e,t,n){const{before:a=1,after:s=1,fields:r=[]}=n||{},i=await Ct(e,r),o=Ne(i),f=o.findIndex(_=>_.path===t),u=f===-1?[]:o.slice(f-a,f),c=f===-1?[]:o.slice(f+1,f+s+1);return[...Array.from({length:a}).fill(null).concat(u).slice(u.length),...c.concat(Array.from({length:s}).fill(null)).slice(0,s)]}function Ne(e){return e.flatMap(n=>{const a=n.children?Ne(n.children):[];return n.page===!1||a.length&&a.find(s=>s.path===n.path)?a:[{...n,children:void 0},...a]})}async function Rn(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:Oe[String(t)],t:void 0}})}async function $t(e,t,n){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:Oe[String(t)],t:void 0},method:"POST",body:{sql:n}})}const ce=e=>{const t=Ke()?.ssrContext?.event;return wt(e,(n,a)=>kt(t,n,a))};function jn(e,t,n){return Et(e,a=>St(a,t,n))}async function kt(e,t,n){return window.WebAssembly?xt(t,n):$t(e,String(t),n)}async function xt(e,t){return await et(()=>import("./6-Hz3L6S.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(a=>a.loadDatabaseAdapter(e)).then(a=>a.all(t))}function Et(e,t){const n=ce(e),a={where(s,r,i){return n.where(String(s),r,i),a},andWhere(s){return n.andWhere(s),a},orWhere(s){return n.orWhere(s),a},order(s,r){return n.order(String(s),r),a},then(s,r){return t(n).then(s,r)},catch(s){return this.then(void 0,s)},finally(s){return this.then(void 0,void 0).finally(s)},get[Symbol.toStringTag](){return"Promise"}};return a}const Lt={class:"pc-nav"},Ot={class:"container"},Tt=q({__name:"HeaderNav",props:{navItems:{}},emits:["toggle"],setup(e,{emit:t}){const n=t,a=s=>{n("toggle",s)};return(s,r)=>{const i=fe;return b(),S("nav",null,[g("div",Lt,[(b(!0),S(Y,null,K(e.navItems,o=>(b(),ee(i,{key:o.link,to:o.link},{default:U(()=>[te(O(s.$t(o.text)),1)]),_:2},1032,["to"]))),128))]),g("div",{class:"mobile-nav",onClick:a},[g("div",Ot,[(b(),S(Y,null,K(3,o=>g("div",{class:"mobile-nav-item",key:o})),64))])])])}}}),Nt=Object.assign(F(Tt,[["__scopeId","data-v-49e970ab"]]),{__name:"HeaderNav"}),It={class:"mask"},Pt={class:"title-container"},Mt={class:"title"},Rt={key:0},jt=q({__name:"Banner",props:{title:{},slogan:{},background:{}},setup(e){const t=e,n=N(()=>({...t.background}));return(a,s)=>(b(),S("div",{class:"banner",style:be(h(n))},[g("div",It,[g("div",Pt,[g("div",Mt,[g("h1",null,O(e.title),1),e.slogan?(b(),S("p",Rt,O(e.slogan),1)):H("",!0)])])])],4))}}),At=Object.assign(F(jt,[["__scopeId","data-v-0f1d2f14"]]),{__name:"Banner"}),Bt={class:"search-overlay__panel"},Vt={class:"search-overlay__header"},qt=["placeholder"],Ft=["aria-label"],Wt={key:0,class:"search-overlay__state"},zt={key:1,class:"search-overlay__body"},Ut={key:0,class:"search-overlay__state"},Ht={key:1,class:"search-overlay__state"},Qt={key:2,class:"search-overlay__count"},Gt={key:3,class:"search-overlay__list"},Yt={class:"search-overlay__item-title"},Jt={class:"search-overlay__item-meta"},Xt={key:0},Zt={class:"search-overlay__item-snippet"},Kt=50,en=q({__name:"SearchOverlay",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{t:s,locale:r}=J(),i=N(()=>r.value.startsWith("zh")),o=V(""),f=V(null),u=st(),c=V(!1),_=async()=>{const d=await u("/search/sections.json");if(Array.isArray(d))return d;if(typeof d=="string")try{return JSON.parse(d)}catch(D){console.warn("[search] Failed to parse sections payload",D)}return[]},{data:C,pending:T,refresh:m}=pt("posts-search-sections",_,{server:!1,immediate:!1,default:()=>[]}),p=N(()=>C.value??[]),w=N(()=>{const d=o.value.trim().toLowerCase();if(!d)return[];const D=Array.from(new Set(d.split(/\s+/).filter(Boolean)));if(!D.length)return[];const M=p.value.map(l=>{const k=(l.content??"").replace(/\s+/g," ").trim();if(!k)return null;const W=L(l),Q=y(l),oe=`${W} ${Q} ${k}`.toLowerCase();if(!D.every(B=>oe.includes(B)))return null;let z=0;return D.forEach(B=>{W.toLowerCase().includes(B)?z+=4:Q.toLowerCase().includes(B)?z+=3:z+=1}),{id:l.id,baseId:$(l.id),documentTitle:W,sectionTitle:Q,snippet:R(k,D),score:z}}).filter(l=>!!l).sort((l,k)=>k.score-l.score);if(!M.length)return[];const x=new Map;return M.forEach(l=>{const k=x.get(l.baseId);if(!k){x.set(l.baseId,{id:l.id,baseId:l.baseId,documentTitle:l.documentTitle,sectionTitles:l.sectionTitle?[l.sectionTitle]:[],snippets:[l.snippet],score:l.score,matchCount:1,bestScore:l.score});return}k.matchCount+=1,k.score+=l.score,k.snippets.push(l.snippet),l.sectionTitle&&!k.sectionTitles.includes(l.sectionTitle)&&k.sectionTitles.length<3&&k.sectionTitles.push(l.sectionTitle),l.score>k.bestScore&&(k.bestScore=l.score,k.id=l.id)}),Array.from(x.values()).map(l=>({id:l.id,documentTitle:l.documentTitle,sectionLabel:A(l.sectionTitles,l.matchCount),snippet:I(l.snippets),score:l.score,matchCount:l.matchCount})).sort((l,k)=>k.score-l.score).slice(0,Kt)}),E=d=>{n.modelValue&&d.key==="Escape"&&(d.preventDefault(),v())};Z(()=>n.modelValue,d=>{d?(c.value||(c.value=!0,m()),document.body.style.setProperty("overflow","hidden"),ye(()=>{o.value="",f.value?.focus()})):document.body.style.removeProperty("overflow")}),se(()=>{window.addEventListener("keydown",E)}),we(()=>{window.removeEventListener("keydown",E),document.body.style.removeProperty("overflow")});function v(){a("update:modelValue",!1)}function L(d){return d.titles?.[0]??d.title??s("searchOverlay.untitled")}function y(d){return d.titles?.length?d.titles.slice(1).filter(Boolean).at(-1)??d.title??"":d.title??""}function $(d){const D=d.indexOf("#");return D===-1?d:d.slice(0,D)}function I(d){const D=[];if(d.forEach(x=>{const l=x.trim();l&&(D.includes(l)||D.push(l))}),!D.length)return"";const M=D.slice(0,2).join(" … ");return M.length>240?`${M.slice(0,240)}…`:M}function A(d,D){if(!D)return"";if(D===1)return d[0]??"";if(!d.length)return"";const M=i.value?"、":", ",x=d.join(M),l=s("searchOverlay.sectionMatches",{sections:x}),k=D>d.length?s("searchOverlay.moreSuffix"):"";return`${l}${k}`}function R(d,D){if(!d)return"";const M=d.toLowerCase(),x=D.map(B=>M.indexOf(B)).filter(B=>B>=0).sort((B,Ie)=>B-Ie)[0];if(x===void 0)return P(d);const l=60,k=Math.max(0,x-l),W=Math.min(d.length,x+l),Q=d.slice(k,W),oe=k>0?"…":"",z=W<d.length?"…":"";return`${oe}${Q}${z}`}function P(d){return d.length>140?`${d.slice(0,140)}…`:d}return(d,D)=>{const M=fe;return b(),ee(at,{to:"body"},[j(nt,{name:"search-overlay"},{default:U(()=>[e.modelValue?(b(),S("div",{key:0,class:"search-overlay",role:"dialog","aria-modal":"true",onMousedown:Ce(v,["self"])},[g("div",Bt,[g("div",Vt,[De(g("input",{ref_key:"inputRef",ref:f,type:"search","onUpdate:modelValue":D[0]||(D[0]=x=>Se(o)?o.value=x:null),class:"search-overlay__input",placeholder:h(s)("searchOverlay.placeholder")},null,8,qt),[[tt,h(o)]]),g("button",{class:"search-overlay__close",type:"button",onClick:v,"aria-label":h(s)("searchOverlay.closeLabel")}," × ",8,Ft)]),h(T)?(b(),S("div",Wt,O(h(s)("searchOverlay.indexing")),1)):(b(),S("div",zt,[h(o).trim()?h(w).length?(b(),S("div",Qt,O(h(s)("searchOverlay.resultsCount",{count:h(w).length})),1)):(b(),S("p",Ht,O(h(s)("searchOverlay.noResults")),1)):(b(),S("p",Ut,O(h(s)("searchOverlay.startTyping")),1)),h(w).length?(b(),S("ul",Gt,[(b(!0),S(Y,null,K(h(w),x=>(b(),S("li",{key:x.id,class:"search-overlay__item"},[j(M,{to:x.id,class:"search-overlay__link",onClick:v},{default:U(()=>[g("h3",Yt,O(x.documentTitle),1),g("p",Jt,[te(O(h(s)("searchOverlay.matchCount",{count:x.matchCount}))+" ",1),x.sectionLabel?(b(),S("span",Xt," · "+O(x.sectionLabel),1)):H("",!0)]),g("p",Zt,O(x.snippet),1)]),_:2},1032,["to"])]))),128))])):H("",!0)]))])],32)):H("",!0)]),_:1})])}}}),tn=Object.assign(F(en,[["__scopeId","data-v-63592d71"]]),{__name:"SearchOverlay"}),nn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function an(e,t){return b(),S("svg",nn,[...t[0]||(t[0]=[g("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"},null,-1)])])}const sn=ot({name:"ic-baseline-search",render:an}),on=()=>{const{locale:e}=J(),t=ue(),n=rt(),a=N(()=>e.value==="zh"?"en":"zh"),{data:s}=de(`language-switch-${t.path}-${a.value}`,async()=>{const r=a.value;if(t.params.year&&t.params.month&&t.params.day&&t.params.slug){const{year:o,month:f,day:u,slug:c}=t.params,_=`/${o}/${f}/${u}/${c}`;try{if(await ce("posts").path(_).where("lang","=",r==="zh"?"zh-CN":"en").count()===0)return null}catch(C){return console.error("Failed to check article existence:",C),null}}if(t.params.tag){const o=decodeURIComponent(t.params.tag);try{if(await ce("posts").where("lang","=",r==="zh"?"zh-CN":"en").where("tags","LIKE",`%"${o}"%`).count()===0)return null}catch(f){return console.error("Failed to check tag existence:",f),null}}let i=n(t.fullPath,r);return t.path.includes("/archives/page/")?i=n("/archives",r):t.path.startsWith(n("/page/",e.value))&&(i=n("/",r)),i.endsWith("/")?i:i+"/"},{watch:[()=>t.fullPath]});return{targetPath:s,targetLocale:a}};function rn(){const e=V(!1);let t=!1;const n=()=>{t||(window.requestAnimationFrame(()=>{e.value=window.scrollY>0,t=!1}),t=!0)};return se(()=>{n(),window.addEventListener("scroll",n,{passive:!0})}),le(()=>{window.removeEventListener("scroll",n)}),{isScrolled:e}}function cn(){const e=V(!1),t=a=>{a.stopPropagation(),e.value=!e.value},n=()=>{e.value=!1};return se(()=>{document.addEventListener("click",n)}),le(()=>{document.removeEventListener("click",n)}),{showMobileMenu:e,toggleMobileMenu:t,closeMobileMenu:n}}const ln={class:"header-container"},un={class:"header"},dn={class:"header-right"},fn={class:"lang-switch__label"},hn={class:"lang-switch__label"},pn={class:"search-trigger__label"},_n={key:0,class:"mobile-menu-dropdown"},gn=q({__name:"Header",props:{title:{default:""},background:{}},setup(e){const{t}=J(),n=Le(),a=ue(),{locale:s}=J(),{targetPath:r,targetLocale:i}=on(),o=()=>{alert(i.value==="en"?"English version not available":"暂无中文版本")},f=N(()=>a.path==="/"||a.path.startsWith("/page/")?n.slogan:null),u=e,c=N(()=>u.title||t("title")),{isScrolled:_}=rn(),{showMobileMenu:C,toggleMobileMenu:T,closeMobileMenu:m}=cn(),p=V(!1),w=()=>{m(),p.value=!0};return Z(()=>a.fullPath,()=>{p.value=!1}),(E,v)=>{const L=fe,y=Nt,$=ie,I=sn,A=At,R=tn;return b(),S(Y,null,[g("header",{class:it({scrolled:h(_),"show-mobile-menu":h(C)})},[g("div",ln,[g("div",un,[j(L,{to:"/",class:"header-title"},{default:U(()=>[te(O(h(t)("title")),1)]),_:1}),g("div",dn,[j(y,{"nav-items":h(n).nav.items,onToggle:h(T)},null,8,["nav-items","onToggle"]),h(r)?(b(),ee($,{key:0,to:h(r),class:"lang-switch","aria-label":"Switch Language"},{default:U(()=>[g("span",fn,O(h(s)==="zh"?"En":"中"),1)]),_:1},8,["to"])):(b(),S("button",{key:1,type:"button",class:"lang-switch",onClick:o,"aria-label":"Switch Language"},[g("span",hn,O(h(s)==="zh"?"En":"中"),1)])),g("button",{type:"button",class:"search-trigger",onClick:w,"aria-label":"Search"},[j(I),g("span",pn,O(h(t)("search")),1)])])])]),h(C)?(b(),S("div",_n,[(b(!0),S(Y,null,K(h(n).nav.items,P=>(b(),ee(L,{key:P.link,to:P.link,onClick:h(m)},{default:U(()=>[te(O(h(t)(P.text)),1)]),_:2},1032,["to","onClick"]))),128)),g("a",{onClick:Ce(w,["prevent"])},[j(I)])])):H("",!0)],2),j(A,{background:e.background,title:h(c),slogan:h(f)},null,8,["background","title","slogan"]),j(R,{modelValue:h(p),"onUpdate:modelValue":v[0]||(v[0]=P=>Se(p)?p.value=P:null)},null,8,["modelValue"])],64)}}}),vn=Object.assign(F(gn,[["__scopeId","data-v-c4c9a290"]]),{__name:"Header"}),mn=$e("/static/yxvm-logo.png"),yn=$e("/static/logo2.png"),bn={class:"promo-card"},wn={class:"card-footer"},Cn={__name:"NodeSupport",setup(e){const t=V("61");return(n,a)=>(b(),S("div",bn,[a[1]||(a[1]=ct('<div class="card-header" data-v-a0786609><div class="header-left" data-v-a0786609><div class="logo-yxvm-container" data-v-a0786609><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-a0786609><img src="'+mn+'" alt="yxvm" class="logo-img" data-v-a0786609></a></div><span class="plus-separator" data-v-a0786609>+</span><div class="logo-nodeseek-container" data-v-a0786609><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-a0786609><img src="'+yn+'" alt="nodeseek" class="logo-img" data-v-a0786609></a></div></div><div data-v-a0786609><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-a0786609><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-a0786609><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-a0786609></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-a0786609></g><g id="SVGRepo_iconCarrier" data-v-a0786609><title data-v-a0786609>github [#142]</title><desc data-v-a0786609>Created with Sketch.</desc><defs data-v-a0786609></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-a0786609><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-a0786609><g transform="translate(56.000000, 160.000000)" id="icons" data-v-a0786609><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-a0786609></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-a0786609> NodeSupport Project </h1><p class="card-description" data-v-a0786609> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p>',3)),g("div",wn,[a[0]||(a[0]=g("span",null,"Support ID:",-1)),g("span",null,O(h(t)),1)])]))}},Dn=F(Cn,[["__scopeId","data-v-a0786609"]]),Sn=e=>{const t=V(null),n=V(!1);return se(()=>{if(!t.value)return;const a=new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting&&!n.value&&(n.value=!0,a.disconnect())})},{rootMargin:e?.rootMargin??"100px",threshold:e?.threshold??.1});a.observe(t.value),we(()=>{a.disconnect()})}),{targetRef:t,isVisible:n}},$n={class:"footer-content"},kn={key:0,title:"NodeSupport Sponsorship",frameborder:"0",src:"https://support.nodeget.com/page/promotion?id=61"},xn=q({__name:"Footer",props:{background:{}},setup(e){const t=e,n=N(()=>({minHeight:"120px",...t.background})),{targetRef:a,isVisible:s}=Sn({rootMargin:"100px",threshold:.1});return(r,i)=>{const o=Dn;return b(),S("footer",{ref_key:"footerRef",ref:a,style:be(h(n))},[i[1]||(i[1]=g("div",{class:"footer-mask"},null,-1)),g("div",$n,[i[0]||(i[0]=g("div",null,"©2020 - 2025 By zhullyb",-1)),j(o),h(s)?De((b(),S("iframe",kn,null,512)),[[lt,!1]]):H("",!0)])],4)}}}),En=Object.assign(F(xn,[["__scopeId","data-v-cc99c751"]]),{__name:"Footer"}),Ln={class:"content-wrapper"},On={class:"before-main side"},Tn={class:"after-main side"},Nn=q({__name:"DefaultLayout",props:{title:{default:""}},setup(e){const{t}=J(),n=ue(),a=e,s=Le(),{data:r}=de("randomIndex"+n.path.replace("/en/","/"),async()=>Math.floor(Math.random()*s.backgrounds.length),"$RRY2fi8_v6"),i=N(()=>s.backgrounds[r.value??0]);return ut({title:a.title||t("title")}),(o,f)=>{const u=vn,c=En;return b(),S("div",null,[j(u,{background:h(i),title:e.title},null,8,["background","title"]),g("div",Ln,[g("div",On,[re(o.$slots,"BeforeMain",{},void 0,!0)]),g("main",null,[re(o.$slots,"default",{},void 0,!0)]),g("div",Tn,[re(o.$slots,"AfterMain",{},void 0,!0)])]),j(c,{background:h(i)},null,8,["background"])])}}}),An=Object.assign(F(Nn,[["__scopeId","data-v-40d23075"]]),{__name:"DefaultLayout"});export{An as _,fe as a,Oe as b,Mn as c,Sn as d,jn as e,Rn as f,ce as q,bt as t,de as u};
