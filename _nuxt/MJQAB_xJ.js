import{_ as v}from"./BxA7dWS2.js";import{_ as P}from"./ti_kEYMT.js";import{d as w,J as y,K as l,L as A,C as n,o as r,a as p,M as k,N,G as u,I as m,w as E,F as M,E as c,_ as B}from"./DonGcRKV.js";import{u as d}from"./BlI8RSr9.js";import{q as g}from"./CznzR4WX.js";const D={class:"date"},i=10,I=w({__name:"ArchiveArticleContainer",async setup(L){let t,e;const _=y(),a=_.params.page&&parseInt(_.params.page)||1,o=([t,e]=l(()=>d(`index-page-${a}`,()=>g("posts").order("date","DESC").skip((a-1)*i).limit(i).select("title","date","path","tags").all())),t=await t,e(),t).data,f=([t,e]=l(()=>d("posts-nums-total",()=>g("posts").count())),t=await t,e(),t).data,h=Math.max(1,Math.ceil((f.value??0)/i));if(o.value&&o.value.length===0&&a>1)throw A({statusCode:404,statusMessage:"Page not found",fatal:!0});return(S,V)=>{const x=v,C=P;return r(),n("div",null,[(r(!0),n(k,null,N(c(o),s=>(r(),n("div",{key:s.path,class:"post-item"},[u("p",D,m(s.date?.split(" ")[0]),1),u("p",null,[p(x,{to:s.path},{default:E(()=>[M(m(s.title),1)]),_:2},1032,["to"])])]))),128)),p(C,{currentPage:c(a),totalPages:c(h),urlPrefix:"/archives"},null,8,["currentPage","totalPages"])])}}}),z=Object.assign(B(I,[["__scopeId","data-v-ba19851a"]]),{__name:"ArchiveArticleContainer"});export{z as _};
