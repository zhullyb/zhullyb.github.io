import{_ as P}from"./C0e4w4BS.js";import{_ as y}from"./DzUUEppu.js";import{d as A,J as N,K as k,q as E,L as p,M as I,C as r,o as c,a as m,N as L,O as M,G as d,I as g,w as $,F as q,E as l,_ as z}from"./DMBZNLBx.js";import{u as h,q as f}from"./D42L5MEN.js";const B={class:"date"},i=10,D=A({__name:"ArchiveArticleContainer",async setup(O){let t,e;const u=N(),{locale:n}=k(),a=u.params.page&&parseInt(u.params.page)||1,_=E(()=>n.value==="zh"?"zh-CN":"en"),o=([t,e]=p(()=>h(`index-page-${a}-${n.value}`,()=>f("posts").where("lang","=",_.value).order("date","DESC").skip((a-1)*i).limit(i).select("title","date","path","tags").all())),t=await t,e(),t).data,v=([t,e]=p(()=>h(`posts-nums-total-${n.value}`,()=>f("posts").where("lang","=",_.value).count())),t=await t,e(),t).data,x=Math.max(1,Math.ceil((v.value??0)/i));if(o.value&&o.value.length===0&&a>1)throw I({statusCode:404,statusMessage:"Page not found",fatal:!0});return(S,V)=>{const C=P,w=y;return c(),r("div",null,[(c(!0),r(L,null,M(l(o),s=>(c(),r("div",{key:s.path,class:"post-item"},[d("p",B,g(s.date?.split(" ")[0]),1),d("p",null,[m(C,{to:s.path,prefetchOn:"interaction"},{default:$(()=>[q(g(s.title),1)]),_:2},1032,["to"])])]))),128)),m(w,{currentPage:l(a),totalPages:l(x),urlPrefix:"/archives"},null,8,["currentPage","totalPages"])])}}}),J=Object.assign(z(D,[["__scopeId","data-v-ed50a02f"]]),{__name:"ArchiveArticleContainer"});export{J as _};
