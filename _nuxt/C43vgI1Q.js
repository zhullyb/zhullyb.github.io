import{_ as C}from"./BEOmz6tk.js";import{_ as P}from"./Dg1cbYEh.js";import{f as k,g as w,h as l,i as y,c as n,o as r,b as p,F as A,r as N,a as u,t as m,w as B,d as D,k as c,_ as E}from"./BC302n9z.js";import{u as d}from"./D4gl2bo8.js";import{q as g}from"./B3yjx7uU.js";const M={class:"date"},i=10,S=k({__name:"ArchiveArticleContainer",async setup(V){let t,e;const _=w(),a=_.params.page&&parseInt(_.params.page)||1,o=([t,e]=l(()=>d(`index-page-${a}`,()=>g("posts").order("date","DESC").skip((a-1)*i).limit(i).select("title","date","path","tags").all())),t=await t,e(),t).data,f=([t,e]=l(()=>d("posts-nums-total",()=>g("posts").count())),t=await t,e(),t).data,h=Math.max(1,Math.ceil((f.value??0)/i));if(o.value&&o.value.length===0&&a>1)throw y({statusCode:404,statusMessage:"Page not found",fatal:!0});return(b,q)=>{const x=C,v=P;return r(),n("div",null,[(r(!0),n(A,null,N(c(o),s=>(r(),n("div",{key:s.path,class:"post-item"},[u("p",M,m(s.date?.split(" ")[0]),1),u("p",null,[p(x,{to:s.path+"/"},{default:B(()=>[D(m(s.title),1)]),_:2},1032,["to"])])]))),128)),p(v,{currentPage:c(a),totalPages:c(h),urlPrefix:"/archives"},null,8,["currentPage","totalPages"])])}}}),z=Object.assign(E(S,[["__scopeId","data-v-d61fc717"]]),{__name:"ArchiveArticleContainer"});export{z as _};
