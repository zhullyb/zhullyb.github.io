import{_ as Z}from"./GfG8mrv0.js";import{q as k,e as oe,ao as ge,W as q,Z as be,a3 as ye,Y as De,b as L,s as ne,a4 as K,X as re,L as we,E as v,a1 as Ce,ap as Me,a6 as ee,a7 as Se,aq as Ee,ar as $e,as as xe,at as Ie,a9 as Te,d as A,C as y,o as g,G as d,M as z,N as G,c as te,w as J,F as ae,I as P,_ as H,f as U,D as F,S as ie,i as ce,a as R,Q as Le,aa as Oe,$ as le,ac as Pe,au as ke,T as Be,J as ue,P as Re,H as Ne,r as X}from"./ojyRhkn2.js";const Ve={trailing:!0};function Fe(e,t=25,s={}){if(s={...Ve,...s},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,a,u=[],c,n;const x=(h,I)=>(c=Ae(e,h,I),c.finally(()=>{if(c=null,s.trailing&&n&&!a){const w=x(h,n);return n=null,w}}),c),S=function(...h){return s.trailing&&(n=h),c||new Promise(I=>{const w=!a&&s.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const f=s.leading?o:x(this,h);n=null;for(const p of u)p(f);u=[]},t),w?(o=x(this,h),I(o)):u.push(I)})},l=h=>{h&&(clearTimeout(h),a=null)};return S.isPending=()=>!!a,S.cancel=()=>{l(a),u=[],n=null},S.flush=()=>{if(l(a),!n||c)return;const h=n;return n=null,x(this,h)},S}async function Ae(e,t,s){return await e.apply(t,s)}function de(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;fe(e[0],e[1])&&e.unshift(t);let[s,o,a={}]=e,u=!1;const c=k(()=>ye(s));if(typeof c.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=oe();a.server??=!0,a.default??=qe,a.getCachedData??=me,a.lazy??=!1,a.immediate??=!0,a.deep??=ge.deep,a.dedupe??="cancel",a._functionName,n._asyncData[c.value];function x(){const f={cause:"initial",dedupe:a.dedupe};return n._asyncData[c.value]?._init||(f.cachedData=a.getCachedData(c.value,n,{cause:"initial"}),n._asyncData[c.value]=se(n,c.value,o,a,f.cachedData)),()=>n._asyncData[c.value].execute(f)}const S=x(),l=n._asyncData[c.value];l._deps++;const h=a.server!==!1&&n.payload.serverRendered;{let f=function(m){const M=n._asyncData[m];M?._deps&&(M._deps--,M._deps===0&&M?._off())};const p=Ce();if(p&&h&&a.immediate&&!p.sp&&(p.sp=[]),p&&!p._nuxtOnBeforeMountCbs){p._nuxtOnBeforeMountCbs=[];const m=p._nuxtOnBeforeMountCbs;Me(()=>{m.forEach(M=>{M()}),m.splice(0,m.length)}),ee(()=>m.splice(0,m.length))}const C=p&&(p._nuxtClientOnly||Se(Ee,!1));h&&n.isHydrating&&(l.error.value||l.data.value!==void 0)?l.status.value=l.error.value?"error":"success":p&&(!C&&n.payload.serverRendered&&n.isHydrating||a.lazy)&&a.immediate?p._nuxtOnBeforeMountCbs.push(S):a.immediate&&l.status.value!=="success"&&S();const E=De(),T=q(c,(m,M)=>{if((m||M)&&m!==M){u=!0;const W=n._asyncData[M]?.data.value!==void 0,r=n._asyncDataPromises[M]!==void 0,_={cause:"initial",dedupe:a.dedupe};if(!n._asyncData[m]?._init){let $;M&&W?$=n._asyncData[M].data.value:($=a.getCachedData(m,n,{cause:"initial"}),_.cachedData=$),n._asyncData[m]=se(n,m,o,a,$)}n._asyncData[m]._deps++,M&&f(M),(a.immediate||W||r)&&n._asyncData[m].execute(_),$e(()=>{u=!1})}},{flush:"sync"}),B=a.watch?q(a.watch,()=>{u||l._execute({cause:"watch",dedupe:a.dedupe})}):()=>{};E&&be(()=>{T(),B(),f(c.value)})}const I={data:Y(()=>n._asyncData[c.value]?.data),pending:Y(()=>n._asyncData[c.value]?.pending),status:Y(()=>n._asyncData[c.value]?.status),error:Y(()=>n._asyncData[c.value]?.error),refresh:(...f)=>n._asyncData[c.value]?._init?n._asyncData[c.value].execute(...f):x()(),execute:(...f)=>I.refresh(...f),clear:()=>{const f=n._asyncData[c.value];if(f?._abortController)try{f._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{f._abortController=void 0}_e(n,c.value)}},w=Promise.resolve(n._asyncDataPromises[c.value]).then(()=>I);return Object.assign(w,I),w}function Y(e){return k({get(){return e()?.value},set(t){const s=e();s&&(s.value=t)}})}function He(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;fe(e[0],e[1])&&e.unshift(t);const[s,o,a={}]=e;return de(s,o,{...a,lazy:!0},null)}function fe(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function _e(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=v(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function je(e,t){const s={};for(const o of t)s[o]=e[o];return s}function se(e,t,s,o,a){e.payload._errors[t]??=void 0;const u=o.getCachedData!==me,c=s,n=o.deep?L:ne,x=a!==void 0,S=e.hook("app:data:refresh",async h=>{(!h||h.includes(t))&&await l.execute({cause:"refresh:hook"})}),l={data:n(x?a:o.default()),pending:k(()=>l.status.value==="pending"),error:K(e.payload._errors,t),status:ne("idle"),execute:(...h)=>{const[I,w=void 0]=h,f=I&&w===void 0&&typeof I=="object"?I:{};if(e._asyncDataPromises[t]&&(f.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];{const C="cachedData"in f?f.cachedData:o.getCachedData(t,e,{cause:f.cause??"refresh:manual"});if(C!==void 0)return e.payload.data[t]=l.data.value=C,l.error.value=void 0,l.status.value="success",Promise.resolve(C)}l._abortController&&l._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),l._abortController=new AbortController,l.status.value="pending";const p=new Promise((C,E)=>{try{const T=f.timeout??o.timeout,B=ze([l._abortController?.signal,f?.signal],T);if(B.aborted){const m=B.reason;E(m instanceof Error?m:new DOMException(String(m??"Aborted"),"AbortError"));return}return B.addEventListener("abort",()=>{const m=B.reason;E(m instanceof Error?m:new DOMException(String(m??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(c(e,{signal:B})).then(C,E)}catch(T){E(T)}}).then(async C=>{let E=C;o.transform&&(E=await o.transform(C)),o.pick&&(E=je(E,o.pick)),e.payload.data[t]=E,l.data.value=E,l.error.value=void 0,l.status.value="success"}).catch(C=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==p)&&!l._abortController?.signal.aborted){if(typeof DOMException<"u"&&C instanceof DOMException&&C.name==="AbortError"){l.status.value="idle";return}l.error.value=we(C),l.data.value=v(o.default()),l.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=p,e._asyncDataPromises[t]},_execute:Fe((...h)=>l.execute(...h),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{S(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),u||re(()=>{e._asyncData[t]?._init||(_e(e,t),l.execute=()=>Promise.resolve())})}};return l}const qe=()=>{},me=(e,t,s)=>{if(t.isHydrating)return t.payload.data[e];if(s.cause!=="refresh:manual"&&s.cause!=="refresh:hook")return t.static.data[e]};function ze(e,t){const s=e.filter(u=>!!u);if(typeof t=="number"&&t>=0){const u=AbortSignal.timeout?.(t);u&&s.push(u)}if(AbortSignal.any)return AbortSignal.any(s);const o=new AbortController;for(const u of s)if(u.aborted){const c=u.reason??new DOMException("Aborted","AbortError");try{o.abort(c)}catch{o.abort()}return o.signal}const a=()=>{const c=s.find(n=>n.aborted)?.reason??new DOMException("Aborted","AbortError");try{o.abort(c)}catch{o.abort()}};for(const u of s)u.addEventListener?.("abort",a,{once:!0});return o.signal}function Ue(){return globalThis.$fetch}const We={nuxt:{}},Ye=xe(Ie,We);function he(){const e=oe();return e._appConfig||=Te(Ye),e._appConfig}const Ge={class:"pc-nav"},Je={class:"container"},Qe=A({__name:"HeaderNav",props:{navItems:{}},emits:["toggle"],setup(e,{emit:t}){const s=t,o=a=>{s("toggle",a)};return(a,u)=>{const c=Z;return g(),y("nav",null,[d("div",Ge,[(g(!0),y(z,null,G(e.navItems,n=>(g(),te(c,{key:n.link,to:n.link},{default:J(()=>[ae(P(n.text),1)]),_:2},1032,["to"]))),128))]),d("div",{class:"mobile-nav",onClick:o},[d("div",Je,[(g(),y(z,null,G(3,n=>d("div",{class:"mobile-nav-item",key:n})),64))])])])}}}),Xe=Object.assign(H(Qe,[["__scopeId","data-v-f0d77200"]]),{__name:"HeaderNav"});function ve(e){const t=L(!1),s=typeof e=="string"?L(e):e,o=()=>{const a=new Image;a.onload=()=>{t.value=!0},a.onerror=()=>{t.value=!0},a.src=s.value};return U(()=>{o()}),q(s,()=>{t.value=!1,o()},{immediate:!1}),{imageLoaded:t}}const Ze={class:"mask"},Ke={class:"title-container"},et={class:"title"},tt={key:0},at=A({__name:"Banner",props:{bannerImg:{},title:{},slogan:{}},setup(e){const t=e,{imageLoaded:s}=ve(K(t,"bannerImg")),o=k(()=>({backgroundColor:"#3c4658",backgroundImage:s.value?`url(${t.bannerImg})`:"none"}));return(a,u)=>(g(),y("div",{class:"banner",style:ie(v(o))},[d("div",Ze,[d("div",Ke,[d("div",et,[d("h1",null,P(e.title),1),e.slogan?(g(),y("p",tt,P(e.slogan),1)):F("",!0)])])])],4))}}),nt=Object.assign(H(at,[["__scopeId","data-v-8f7d5b1a"]]),{__name:"Banner"}),st={class:"search-overlay__panel"},ot={class:"search-overlay__header"},rt={key:0,class:"search-overlay__state"},it={key:1,class:"search-overlay__body"},ct={key:0,class:"search-overlay__state"},lt={key:1,class:"search-overlay__state"},ut={key:2,class:"search-overlay__count"},dt={key:3,class:"search-overlay__list"},ft={class:"search-overlay__item-title"},_t={class:"search-overlay__item-meta"},mt={key:0},ht={class:"search-overlay__item-snippet"},vt=50,pt=A({__name:"SearchOverlay",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,a=L(""),u=L(null),c=Ue(),n=L(!1),x=async()=>{const r=await c("/search/sections.json");if(Array.isArray(r))return r;if(typeof r=="string")try{return JSON.parse(r)}catch(_){console.warn("[search] Failed to parse sections payload",_)}return[]},{data:S,pending:l,refresh:h}=He("posts-search-sections",x,{server:!1,immediate:!1,default:()=>[]}),I=k(()=>S.value??[]),w=k(()=>{const r=a.value.trim().toLowerCase();if(!r)return[];const _=Array.from(new Set(r.split(/\s+/).filter(Boolean)));if(!_.length)return[];const $=I.value.map(i=>{const b=(i.content??"").replace(/\s+/g," ").trim();if(!b)return null;const N=C(i),j=E(i),Q=`${N} ${j} ${b}`.toLowerCase();if(!_.every(O=>Q.includes(O)))return null;let V=0;return _.forEach(O=>{N.toLowerCase().includes(O)?V+=4:j.toLowerCase().includes(O)?V+=3:V+=1}),{id:i.id,baseId:T(i.id),documentTitle:N,sectionTitle:j,snippet:M(b,_),score:V}}).filter(i=>!!i).sort((i,b)=>b.score-i.score);if(!$.length)return[];const D=new Map;return $.forEach(i=>{const b=D.get(i.baseId);if(!b){D.set(i.baseId,{id:i.id,baseId:i.baseId,documentTitle:i.documentTitle,sectionTitles:i.sectionTitle?[i.sectionTitle]:[],snippets:[i.snippet],score:i.score,matchCount:1,bestScore:i.score});return}b.matchCount+=1,b.score+=i.score,b.snippets.push(i.snippet),i.sectionTitle&&!b.sectionTitles.includes(i.sectionTitle)&&b.sectionTitles.length<3&&b.sectionTitles.push(i.sectionTitle),i.score>b.bestScore&&(b.bestScore=i.score,b.id=i.id)}),Array.from(D.values()).map(i=>({id:i.id,documentTitle:i.documentTitle,sectionLabel:m(i.sectionTitles,i.matchCount),snippet:B(i.snippets),score:i.score,matchCount:i.matchCount})).sort((i,b)=>b.score-i.score).slice(0,vt)}),f=r=>{s.modelValue&&r.key==="Escape"&&(r.preventDefault(),p())};q(()=>s.modelValue,r=>{r?(n.value||(n.value=!0,h()),document.body.style.setProperty("overflow","hidden"),re(()=>{a.value="",u.value?.focus()})):document.body.style.removeProperty("overflow")}),U(()=>{window.addEventListener("keydown",f)}),ce(()=>{window.removeEventListener("keydown",f),document.body.style.removeProperty("overflow")});function p(){o("update:modelValue",!1)}function C(r){return r.titles?.[0]??r.title??"æœªå‘½åæ–‡ç« "}function E(r){return r.titles?.length?r.titles.slice(1).filter(Boolean).at(-1)??r.title??"":r.title??""}function T(r){const _=r.indexOf("#");return _===-1?r:r.slice(0,_)}function B(r){const _=[];if(r.forEach(D=>{const i=D.trim();i&&(_.includes(i)||_.push(i))}),!_.length)return"";const $=_.slice(0,2).join(" â€¦ ");return $.length>240?`${$.slice(0,240)}â€¦`:$}function m(r,_){return _?_===1?r[0]??"":r.length?`æ¶‰åŠæ®µè½ï¼š${r.join("ã€")}${_>r.length?"â€¦":""}`:"":""}function M(r,_){if(!r)return"";const $=r.toLowerCase(),D=_.map(O=>$.indexOf(O)).filter(O=>O>=0).sort((O,pe)=>O-pe)[0];if(D===void 0)return W(r);const i=60,b=Math.max(0,D-i),N=Math.min(r.length,D+i),j=r.slice(b,N),Q=b>0?"â€¦":"",V=N<r.length?"â€¦":"";return`${Q}${j}${V}`}function W(r){return r.length>140?`${r.slice(0,140)}â€¦`:r}return(r,_)=>{const $=Z;return g(),te(Be,{to:"body"},[R(ke,{name:"search-overlay"},{default:J(()=>[e.modelValue?(g(),y("div",{key:0,class:"search-overlay",role:"dialog","aria-modal":"true",onMousedown:Le(p,["self"])},[d("div",st,[d("div",ot,[Oe(d("input",{ref_key:"inputRef",ref:u,type:"search","onUpdate:modelValue":_[0]||(_[0]=D=>le(a)?a.value=D:null),class:"search-overlay__input",placeholder:"æœç´¢æ–‡ç« ï¼Œæ”¯æŒå¤šä¸ªå…³é”®è¯"},null,512),[[Pe,v(a)]]),d("button",{class:"search-overlay__close",type:"button",onClick:p,"aria-label":"å…³é—­æœç´¢"}," Ã— ")]),v(l)?(g(),y("div",rt,"æ­£åœ¨å‡†å¤‡ç´¢å¼•â€¦")):(g(),y("div",it,[v(a).trim()?v(w).length?(g(),y("div",ut," å…±æ‰¾åˆ° "+P(v(w).length)+" æ¡ç»“æžœ ",1)):(g(),y("p",lt," æ²¡æœ‰æ‰¾åˆ°åŒ¹é…å†…å®¹ï¼Œæ¢ä¸ªå…³é”®è¯è¯•è¯•ï¼Ÿ ")):(g(),y("p",ct," è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢ã€‚ ")),v(w).length?(g(),y("ul",dt,[(g(!0),y(z,null,G(v(w),D=>(g(),y("li",{key:D.id,class:"search-overlay__item"},[R($,{to:D.id,class:"search-overlay__link",onClick:p},{default:J(()=>[d("h3",ft,P(D.documentTitle),1),d("p",_t,[ae(" å…± "+P(D.matchCount)+" å¤„åŒ¹é… ",1),D.sectionLabel?(g(),y("span",mt," Â· "+P(D.sectionLabel),1)):F("",!0)]),d("p",ht,P(D.snippet),1)]),_:2},1032,["to"])]))),128))])):F("",!0)]))])],32)):F("",!0)]),_:1})])}}}),gt=Object.assign(H(pt,[["__scopeId","data-v-62b29045"]]),{__name:"SearchOverlay"});function bt(){const e=L(!1);let t=!1;const s=()=>{t||(window.requestAnimationFrame(()=>{e.value=window.scrollY>0,t=!1}),t=!0)};return U(()=>{s(),window.addEventListener("scroll",s)}),ee(()=>{window.removeEventListener("scroll",s)}),{isScrolled:e}}function yt(){const e=L(!1),t=o=>{o.stopPropagation(),e.value=!e.value},s=()=>{e.value=!1};return U(()=>{document.addEventListener("click",s)}),ee(()=>{document.removeEventListener("click",s)}),{showMobileMenu:e,toggleMobileMenu:t,closeMobileMenu:s}}const Dt={class:"header-container"},wt={class:"header"},Ct={href:"/",class:"header-title"},Mt={class:"header-right"},St={key:0,class:"mobile-menu-dropdown"},Et=A({__name:"Header",props:{bannerImg:{},title:{default:""}},setup(e){const t=he(),s=ue(),o=k(()=>s.path==="/"||s.path.startsWith("/page/")?t.slogan:null),a=e,u=k(()=>a.title||t.title),{isScrolled:c}=bt(),{showMobileMenu:n,toggleMobileMenu:x,closeMobileMenu:S}=yt(),l=L(!1),h=()=>{S(),l.value=!0};return q(()=>s.fullPath,()=>{l.value=!1}),(I,w)=>{const f=Xe,p=Z,C=nt,E=gt;return g(),y(z,null,[d("header",{class:Re({scrolled:v(c),"show-mobile-menu":v(n)})},[d("div",Dt,[d("div",wt,[d("a",Ct,P(v(t).title),1),d("div",Mt,[R(f,{"nav-items":v(t).nav.items,onToggle:v(x)},null,8,["nav-items","onToggle"]),d("button",{type:"button",class:"search-trigger",onClick:h,"aria-label":"æœç´¢æ–‡ç« "},[...w[1]||(w[1]=[d("span",{"aria-hidden":"true"},"ðŸ”",-1),d("span",{class:"search-trigger__label"},"æœç´¢",-1)])])])])]),v(n)?(g(),y("div",St,[(g(!0),y(z,null,G(v(t).nav.items,T=>(g(),te(p,{key:T.link,to:T.link,onClick:v(S)},{default:J(()=>[ae(P(T.text),1)]),_:2},1032,["to","onClick"]))),128))])):F("",!0)],2),R(C,{"banner-img":e.bannerImg,title:v(u),slogan:v(o)},null,8,["banner-img","title","slogan"]),R(E,{modelValue:v(l),"onUpdate:modelValue":w[0]||(w[0]=T=>le(l)?l.value=T:null)},null,8,["modelValue"])],64)}}}),$t=Object.assign(H(Et,[["__scopeId","data-v-995e7b74"]]),{__name:"Header"}),xt=e=>{const t=L(null),s=L(!1);return U(()=>{if(!t.value)return;const o=new IntersectionObserver(a=>{a.forEach(u=>{u.isIntersecting&&!s.value&&(s.value=!0,o.disconnect())})},{rootMargin:e?.rootMargin??"100px",threshold:e?.threshold??.1});o.observe(t.value),ce(()=>{o.disconnect()})}),{targetRef:t,isVisible:s}},It={class:"footer-content"},Tt={key:0,frameborder:"0",src:"https://support.nodeget.com/page/promotion?id=61",style:{"border-radius":"8px",height:"246px",transform:"scale(0.8)","transform-origin":"top center"}},Lt=A({__name:"Footer",props:{bannerImg:{}},setup(e){const t=e,{imageLoaded:s}=ve(K(t,"bannerImg")),o=k(()=>({backgroundColor:"#3c4658",backgroundImage:s.value?`url(${t.bannerImg})`:"none",minHeight:"120px",color:"white"})),{targetRef:a,isVisible:u}=xt({rootMargin:"100px",threshold:.1});return(c,n)=>(g(),y("footer",{ref_key:"footerRef",ref:a,style:ie(v(o))},[n[1]||(n[1]=d("div",{class:"footer-mask"},null,-1)),d("div",It,[n[0]||(n[0]=d("div",null,"Â©2020 - 2025 By zhullyb",-1)),v(u)?(g(),y("iframe",Tt)):F("",!0)])],4))}}),Ot=Object.assign(H(Lt,[["__scopeId","data-v-fb2b996b"]]),{__name:"Footer"}),Pt={class:"content-wrapper"},kt={class:"before-main side"},Bt={class:"after-main side"},Rt=A({__name:"DefaultLayout",props:{title:{default:""}},setup(e){const t=ue(),s=e,o=he(),{data:a}=de("randomIndex"+t.path,async()=>Math.floor(Math.random()*o.imgs.length),"$RRY2fi8_v6"),u=k(()=>o.imgs[a.value??0]);return Ne({title:s.title||o.title,link:[{rel:"preload",as:"image",href:u.value,fetchpriority:"high"}]}),(c,n)=>{const x=$t,S=Ot;return g(),y("div",null,[R(x,{"banner-img":v(u),title:e.title},null,8,["banner-img","title"]),d("div",Pt,[d("div",kt,[X(c.$slots,"BeforeMain",{},void 0,!0)]),d("main",null,[X(c.$slots,"default",{},void 0,!0)]),d("div",Bt,[X(c.$slots,"AfterMain",{},void 0,!0)])]),R(S,{"banner-img":v(u)},null,8,["banner-img"])])}}}),Ft=Object.assign(H(Rt,[["__scopeId","data-v-03b6b78b"]]),{__name:"DefaultLayout"});export{Ft as _,xt as a,de as u};
