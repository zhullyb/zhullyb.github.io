import{e as p,f as m,x as k,h as b,k as S,b as l,o as n,d as r,F as c,c as x,J as v,S as f,U as _,G as z,V as B,_ as C}from"./Ch7MUHPH.js";const E={class:"prose-img-wrapper"},I=["src","alt","title","width","height"],N={key:0,class:"prose-img-caption"},P=["src","alt"],M={key:0,class:"prose-img-preview-scale-indicator"},F=.5,V=4,D=p({__name:"ProseImg",props:{src:{type:String,required:!0},alt:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0}},setup(e){const o=m(!1),t=m(1),g=k(()=>({transform:`scale(${t.value})`,transition:"transform 0.15s",cursor:t.value!==1?"zoom-out":"zoom-in"}));function h(){o.value=!0,t.value=1,document.body.style.overflow="hidden"}function i(){o.value=!1,document.body.style.overflow=""}function y(a){if(!o.value)return;const u=a.deltaY;let s=t.value;u<0?s*=1.1:s/=1.1,s=Math.max(F,Math.min(V,s)),t.value=Number(s.toFixed(2))}function w(){t.value=1}function d(a){o.value&&(a.key==="Escape"||a.key==="Esc")&&i()}return b(()=>{window.addEventListener("keydown",d)}),S(()=>{window.removeEventListener("keydown",d),document.body.style.overflow=""}),(a,u)=>(n(),l("span",E,[r("img",{src:e.src,alt:e.alt,title:e.title,width:e.width,height:e.height,loading:"lazy",class:"prose-img",onClick:h,style:{cursor:"zoom-in"}},null,8,I),e.alt?(n(),l("span",N,v(e.alt),1)):c("",!0),(n(),x(B,{to:"body"},[o.value?(n(),l("div",{key:0,class:"prose-img-preview-mask",onClick:f(i,["self"]),onWheel:f(y,["prevent"])},[r("img",{src:e.src,alt:e.alt,class:"prose-img-preview-img",style:_(z(g)),onDblclick:w},null,44,P),r("button",{class:"prose-img-preview-close",onClick:i,"aria-label":"关闭预览"}," × "),t.value!==1?(n(),l("div",M,v((t.value*100).toFixed(0))+"% ",1)):c("",!0)],32)):c("",!0)]))]))}}),U=Object.assign(C(D,[["__scopeId","data-v-4f488808"]]),{__name:"ProseImg"});export{U as default};
