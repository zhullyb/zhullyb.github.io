import{_ as w}from"./BPGXFScA.js";import{_ as z,u as M,q as $}from"./D3d1GDAj.js";import{e as E,L,W as B,x as g,M as D,c as x,w as y,o as m,d as F,b,G as f,O as N,P as O,U as P,H as T,J as C,_ as U}from"./Da-wsQMw.js";function j(s,e,o){if(o===0)return s;if(o===1)return e;const a=k(s),l=k(e);if(!a||!l)throw new Error("Invalid color format");const p=Math.round(a.r+o*(l.r-a.r)),d=Math.round(a.g+o*(l.g-a.g)),i=Math.round(a.b+o*(l.b-a.b));return q(p,d,i)}function k(s){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function q(s,e,o){return"#"+((1<<24)+(s<<16)+(e<<8)+o).toString(16).slice(1)}const A={class:"text-center tagcloud"},H={key:1},R=40,I=20,V="#bbbbee",G="#337ab7",J=E({__name:"index",async setup(s){let e,o;const{locale:a}=L(),l=B(),p=g(()=>a.value==="zh"?"zh-CN":"en"),d=([e,o]=D(()=>M(`tags-posts-${a.value}`,()=>$("posts").where("lang","=",p.value).select("tags").all())),e=await e,o(),e).data,i=g(()=>{const n={};let u=0,c=1/0;d.value.forEach(t=>{typeof t.tags?.forEach=="function"&&t.tags?.forEach(r=>{r in n?n[r]+=1:n[r]=1})}),Object.keys(n).forEach(t=>{u=Math.max(u,n[t]),c=Math.min(c,n[t])});const _=Object.keys(n).map(t=>{const r=n[t],h=u===c?1:(r-c)/(u-c),S=I+h*(R-I),v=j(V,G,h);return{name:t,count:n[t],style:{fontSize:`${S.toFixed(2)}px`,color:v}}});return _.sort((t,r)=>t.name.localeCompare(r.name,"en-US")),_});return(n,u)=>{const c=w,_=z;return m(),x(_,{title:n.$t("tag")},{default:y(()=>[F("div",A,[f(i).length?(m(!0),b(N,{key:0},O(f(i),t=>(m(),x(c,{class:"tag",key:t.name,to:`${f(l)("/tags")}/${encodeURIComponent(t.name)}`,style:P(t.style)},{default:y(()=>[T(C(t.name),1)]),_:2},1032,["to","style"]))),128)):(m(),b("p",H,C(n.$t("loading_tags")),1))])]),_:1},8,["title"])}}}),X=U(J,[["__scopeId","data-v-ec3aca73"]]);export{X as default};
