[{"data":1,"prerenderedAt":157},["ShallowReactive",2],{"post-2021-01-25-how-to-solve-the-adb-devices-unauthorized-problem-zh":3,"surround-2021-01-25-how-to-solve-the-adb-devices-unauthorized-problem-zh":145,"randomIndex/2021/01/25/how-to-solve-the-adb-devices-unauthorized-problem/":156},{"id":4,"title":5,"body":6,"date":130,"description":12,"extension":131,"lang":132,"meta":133,"navigation":134,"path":135,"rawbody":136,"seo":137,"stem":138,"sticky":139,"tags":140,"__hash__":144},"posts/posts/zh/how-to-solve-the-adb-devices-unauthorized-problem.md","如何解决adb未授权的问题",{"type":7,"value":8,"toc":127},"minimark",[9,13,23,26,123],[10,11,12],"p",{},"在调试安卓设备的时候，我们经常会遇到adb未授权的问题，本方案适用于未开机时遇到以下两种情况。",[14,15,16,20],"ol",{},[17,18,19],"li",{},"当我们编译eng的时候，adb应该会默认授权所有设备，但是有部分Rom并不会。",[17,21,22],{},"当我们编译userdebug的时候，adb就不会授权给所有设备了，如果卡开机，使用adb抓取log将会是非常麻烦的事情。",[10,24,25],{},"此时我们需要手动导入我们的adbkey",[14,27,28,31,38,115],{},[17,29,30],{},"手机重启到Recovery模式",[17,32,33,34],{},"找到你电脑的adbkey公钥，一般叫做",[35,36,37],"code",{},"adbkey.pub",[17,39,40,98,99],{},[41,42,47],"pre",{"className":43,"code":44,"language":45,"meta":46,"style":46},"language-bash shiki shiki-themes one-light one-dark-pro","adb push ${the/location/to/your/key} /data/misc/adb/adb_keys\n","bash","",[35,48,49],{"__ignoreMap":46},[50,51,54,58,62,66,70,74,77,79,82,84,87,89,92,95],"span",{"class":52,"line":53},"line",1,[50,55,57],{"class":56},"sAdtL","adb",[50,59,61],{"class":60},"sDhpE"," push",[50,63,65],{"class":64},"sr1Ac"," ${",[50,67,69],{"class":68},"sJa8x","the",[50,71,73],{"class":72},"s5ixo","/",[50,75,76],{"class":68},"location",[50,78,73],{"class":72},[50,80,81],{"class":68},"to",[50,83,73],{"class":72},[50,85,86],{"class":68},"your",[50,88,73],{"class":72},[50,90,91],{"class":68},"key",[50,93,94],{"class":64},"}",[50,96,97],{"class":60}," /data/misc/adb/adb_keys\n","比如我就是",[41,100,102],{"className":43,"code":101,"language":45,"meta":46,"style":46},"adb push ~/.android/adbkey.pub /data/misc/adb/adb_keys\n",[35,103,104],{"__ignoreMap":46},[50,105,106,108,110,113],{"class":52,"line":53},[50,107,57],{"class":56},[50,109,61],{"class":60},[50,111,112],{"class":60}," ~/.android/adbkey.pub",[50,114,97],{"class":60},[17,116,117,118,122],{},"重启手机，",[119,120,121],"del",{},"愉快","苦逼地去抓log",[124,125,126],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sr1Ac, html code.shiki .sr1Ac{--shiki-default:#E45649;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":46,"searchDepth":128,"depth":128,"links":129},2,[],"2021-01-25","md","zh-CN",{},true,"/2021/01/25/how-to-solve-the-adb-devices-unauthorized-problem","---\ntitle: 如何解决adb未授权的问题\ndate: 2021-01-25\ntags: \n      - Android\n      - Linux\n      - Rom编译\n---\n\n在调试安卓设备的时候，我们经常会遇到adb未授权的问题，本方案适用于未开机时遇到以下两种情况。\n\n1. 当我们编译eng的时候，adb应该会默认授权所有设备，但是有部分Rom并不会。\n\n2. 当我们编译userdebug的时候，adb就不会授权给所有设备了，如果卡开机，使用adb抓取log将会是非常麻烦的事情。\n\n此时我们需要手动导入我们的adbkey\n\n1. 手机重启到Recovery模式\n\n2. 找到你电脑的adbkey公钥，一般叫做```adbkey.pub```\n\n3. \n   ```bash\n   adb push ${the/location/to/your/key} /data/misc/adb/adb_keys\n   ```\n\n   比如我就是\n\n   ```bash\n   adb push ~/.android/adbkey.pub /data/misc/adb/adb_keys\n   ```\n\n4. 重启手机，~~愉快~~苦逼地去抓log\n",{"title":5,"description":12},"posts/zh/how-to-solve-the-adb-devices-unauthorized-problem",false,[141,142,143],"Android","Linux","Rom编译","PHGZ9vx-4ojgDFjx2_85nzQ-79WvBltg37sPtaePZPA",[146,151],{"title":147,"path":148,"stem":149,"date":150,"lang":132,"children":-1},"在Archlinux上解包A/B机型的payload.bin","/2021/02/07/extract-payload-dot-bin-on-archlinux","posts/zh/extract-payload-dot-bin-on-archlinux","2021-02-07",{"title":152,"path":153,"stem":154,"date":155,"lang":132,"children":-1},"虚拟Python环境","/2021/01/20/python-virtualenv","posts/zh/python-virtualenv","2021-01-20",6,1763584500157]