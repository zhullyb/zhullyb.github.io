[{"data":1,"prerenderedAt":150},["ShallowReactive",2],{"post-2021-01-25-how-to-solve-the-adb-devices-unauthorized-problem":3,"surround-2021-01-25-how-to-solve-the-adb-devices-unauthorized-problem":138,"randomIndex/2021/01/25/how-to-solve-the-adb-devices-unauthorized-problem":149},{"id":4,"title":5,"body":6,"date":124,"description":12,"extension":125,"meta":126,"navigation":127,"path":128,"rawbody":129,"seo":130,"stem":131,"sticky":132,"tags":133,"__hash__":137},"posts/posts/how-to-solve-the-adb-devices-unauthorized-problem.md","如何解决adb未授权的问题",{"type":7,"value":8,"toc":121},"minimark",[9,13,23,26,117],[10,11,12],"p",{},"在调试安卓设备的时候，我们经常会遇到adb未授权的问题，本方案适用于未开机时遇到以下两种情况。",[14,15,16,20],"ol",{},[17,18,19],"li",{},"当我们编译eng的时候，adb应该会默认授权所有设备，但是有部分Rom并不会。",[17,21,22],{},"当我们编译userdebug的时候，adb就不会授权给所有设备了，如果卡开机，使用adb抓取log将会是非常麻烦的事情。",[10,24,25],{},"此时我们需要手动导入我们的adbkey",[14,27,28,31,38,109],{},[17,29,30],{},"手机重启到Recovery模式",[17,32,33,34],{},"找到你电脑的adbkey公钥，一般叫做",[35,36,37],"code",{},"adbkey.pub",[17,39,40,91,92],{},[41,42,47],"pre",{"className":43,"code":44,"language":45,"meta":46,"style":46},"language-bash shiki shiki-themes github-light github-dark","adb push ${the/location/to/your/key} /data/misc/adb/adb_keys\n","bash","",[35,48,49],{"__ignoreMap":46},[50,51,54,58,62,66,70,73,75,78,80,83,85,88],"span",{"class":52,"line":53},"line",1,[50,55,57],{"class":56},"sScJk","adb",[50,59,61],{"class":60},"sZZnC"," push",[50,63,65],{"class":64},"sVt8B"," ${the",[50,67,69],{"class":68},"szBVR","/",[50,71,72],{"class":64},"location",[50,74,69],{"class":68},[50,76,77],{"class":64},"to",[50,79,69],{"class":68},[50,81,82],{"class":64},"your",[50,84,69],{"class":68},[50,86,87],{"class":64},"key} ",[50,89,90],{"class":60},"/data/misc/adb/adb_keys\n","比如我就是",[41,93,95],{"className":43,"code":94,"language":45,"meta":46,"style":46},"adb push ~/.android/adbkey.pub /data/misc/adb/adb_keys\n",[35,96,97],{"__ignoreMap":46},[50,98,99,101,103,106],{"class":52,"line":53},[50,100,57],{"class":56},[50,102,61],{"class":60},[50,104,105],{"class":60}," ~/.android/adbkey.pub",[50,107,108],{"class":60}," /data/misc/adb/adb_keys\n",[17,110,111,112,116],{},"重启手机，",[113,114,115],"del",{},"愉快","苦逼地去抓log",[118,119,120],"style",{},"html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .szBVR, html code.shiki .szBVR{--shiki-default:#D73A49;--shiki-dark:#F97583}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":46,"searchDepth":122,"depth":122,"links":123},2,[],"2021-01-25","md",{},true,"/2021/01/25/how-to-solve-the-adb-devices-unauthorized-problem","---\ntitle: 如何解决adb未授权的问题\ndate: 2021-01-25\ntags: \n      - Android\n      - Linux\n      - Rom编译\n---\n\n在调试安卓设备的时候，我们经常会遇到adb未授权的问题，本方案适用于未开机时遇到以下两种情况。\n\n1. 当我们编译eng的时候，adb应该会默认授权所有设备，但是有部分Rom并不会。\n\n2. 当我们编译userdebug的时候，adb就不会授权给所有设备了，如果卡开机，使用adb抓取log将会是非常麻烦的事情。\n\n此时我们需要手动导入我们的adbkey\n\n1. 手机重启到Recovery模式\n\n2. 找到你电脑的adbkey公钥，一般叫做```adbkey.pub```\n\n3. \n   ```bash\n   adb push ${the/location/to/your/key} /data/misc/adb/adb_keys\n   ```\n\n   比如我就是\n\n   ```bash\n   adb push ~/.android/adbkey.pub /data/misc/adb/adb_keys\n   ```\n\n4. 重启手机，~~愉快~~苦逼地去抓log\n",{"title":5,"description":12},"posts/how-to-solve-the-adb-devices-unauthorized-problem",false,[134,135,136],"Android","Linux","Rom编译","7vFYFJgu83Fs3hkkrlJtuJbxSrBO04Z35ZcA_ZSFa_I",[139,144],{"title":140,"path":141,"stem":142,"date":143,"children":-1},"在Archlinux上解包A/B机型的payload.bin","/2021/02/07/extract-payload-dot-bin-on-archlinux","posts/extract-payload-dot-bin-on-archlinux","2021-02-07",{"title":145,"path":146,"stem":147,"date":148,"children":-1},"虚拟Python环境","/2021/01/20/python-virtualenv","posts/python-virtualenv","2021-01-20",16,1761697386734]