[{"data":1,"prerenderedAt":116},["ShallowReactive",2],{"post-2021-04-16-fuck-jekyll-github-metadata-on-gitlab-zh":3,"surround-2021-04-16-fuck-jekyll-github-metadata-on-gitlab-zh":104,"randomIndex/2021/04/16/fuck-jekyll-github-metadata-on-gitlab/":114,"language-switch-/2021/04/16/fuck-jekyll-github-metadata-on-gitlab/-en":115},{"id":4,"title":5,"body":6,"date":91,"description":12,"extension":92,"lang":93,"meta":94,"navigation":95,"path":96,"rawbody":97,"seo":98,"stem":99,"sticky":100,"tags":101,"__hash__":103},"posts/posts/zh/fuck-jekyll-github-metadata-on-gitlab.md","记一次在Gitlab部署Jekyll博客时遇到的jekyll-github-metadata报错问题",{"type":7,"value":8,"toc":88},"minimark",[9,13,16,23,26,36,47,73,83],[10,11,12],"p",{},"我的博客是挂在GitlabPages上的，在为博客更换主题的时候遇到了一点点小麻烦。",[10,14,15],{},"报错如图：",[10,17,18],{},[19,20],"img",{"alt":21,"src":22},"","https://static.031130.xyz/uploads/2024/08/12/62f3caf233039.webp",[10,24,25],{},"当然，我这边也会附上详细的报错日志，以便后人能够通过关键词搜索到。",[27,28,33],"pre",{"className":29,"code":31,"language":32},[30],"language-text","Configuration file: /builds/zhullyb/test/_config.yml\n            Source: /builds/zhullyb/test\n       Destination: public\n Incremental build: disabled. Enable with --incremental\n      Generating...\n       Jekyll Feed: Generating feed for posts\n   GitHub Metadata: No GitHub API authentication could be found. Some fields may be missing or have incorrect data.\n   GitHub Metadata: Error processing value 'url':\n             ERROR: YOUR SITE COULD NOT BE BUILT:\n                    ------------------------------------\n                    No repo name found. Specify using PAGES_REPO_NWO environment variables, 'repository' in your configuration, or set up an 'origin' git remote pointing to your github.com repository.\nCleaning up file based variables 00:01\nERROR: Job failed: exit code 1\n","text",[34,35,31],"code",{"__ignoreMap":21},[10,37,38,39,46],{},"经过了一番瞎折腾以后，我依然没有解决问题，而每次push都要等待gitlab的ci构建两三分钟，实在磨不动的我去看了",[40,41,45],"a",{"href":42,"rel":43},"https://github.com/jekyll/github-metadata",[44],"nofollow","jekyll-github-metadata","的README，结合上文的报错，我一下子就看懂了。",[10,48,49,51,52,55,56,55,59,55,62,65,66,69,70],{},[34,50,45],{},"可以通过github中的信息自动为jekyll提供",[34,53,54],{},"site.github","、",[34,57,58],{},"site.title",[34,60,61],{},"site.description",[34,63,64],{},"site.url","和",[34,67,68],{},"site.baseurl","。而由于我们在用的是Gitlab，所以jekyll-github-metadata就无法获取到这些信息，需要我们手动指定。报错中缺少的就是",[34,71,72],{},"url",[10,74,75,76,79,80,82],{},"于是打开",[34,77,78],{},"_config.yml","，把",[34,81,72],{},"给补上，顺便把别的变量一同加上，如图：",[10,84,85],{},[19,86],{"alt":21,"src":87},"https://static.031130.xyz/uploads/2024/08/12/62f3caf51bdb5.webp",{"title":21,"searchDepth":89,"depth":89,"links":90},2,[],"2021-04-16","md","zh-CN",{},true,"/2021/04/16/fuck-jekyll-github-metadata-on-gitlab","---\ntitle:      记一次在Gitlab部署Jekyll博客时遇到的jekyll-github-metadata报错问题\ndate:       2021-04-16\ntags:\n- Notes\n---\n\n\n我的博客是挂在GitlabPages上的，在为博客更换主题的时候遇到了一点点小麻烦。\n\n报错如图：\n\n![](https://static.031130.xyz/uploads/2024/08/12/62f3caf233039.webp)\n\n当然，我这边也会附上详细的报错日志，以便后人能够通过关键词搜索到。\n\n```\nConfiguration file: /builds/zhullyb/test/_config.yml\n            Source: /builds/zhullyb/test\n       Destination: public\n Incremental build: disabled. Enable with --incremental\n      Generating...\n       Jekyll Feed: Generating feed for posts\n   GitHub Metadata: No GitHub API authentication could be found. Some fields may be missing or have incorrect data.\n   GitHub Metadata: Error processing value 'url':\n             ERROR: YOUR SITE COULD NOT BE BUILT:\n                    ------------------------------------\n                    No repo name found. Specify using PAGES_REPO_NWO environment variables, 'repository' in your configuration, or set up an 'origin' git remote pointing to your github.com repository.\nCleaning up file based variables 00:01\nERROR: Job failed: exit code 1\n```\n\n经过了一番瞎折腾以后，我依然没有解决问题，而每次push都要等待gitlab的ci构建两三分钟，实在磨不动的我去看了[jekyll-github-metadata](https://github.com/jekyll/github-metadata)的README，结合上文的报错，我一下子就看懂了。\n\n`jekyll-github-metadata`可以通过github中的信息自动为jekyll提供`site.github`、`site.title`、`site.description`、`site.url`和`site.baseurl`。而由于我们在用的是Gitlab，所以jekyll-github-metadata就无法获取到这些信息，需要我们手动指定。报错中缺少的就是`url`\n\n于是打开`_config.yml`，把`url`给补上，顺便把别的变量一同加上，如图：\n\n![](https://static.031130.xyz/uploads/2024/08/12/62f3caf51bdb5.webp)\n",{"title":5,"description":12},"posts/zh/fuck-jekyll-github-metadata-on-gitlab",false,[102],"Notes","kn7P313EOpcbO17tpLvmAjzzuP-0A2FFQKttC2eyt3g",[105,110],{"title":106,"path":107,"stem":108,"date":109,"lang":93,"children":-1},"在系统使用暗色主题时禁用Firefox的夜间模式","/2021/04/23/disable-firefox-nightmode-when-your-system-is-using-that","posts/zh/disable-firefox-nightmode-when-your-system-is-using-that","2021-04-23",{"title":111,"path":112,"stem":113,"date":91,"lang":93,"children":-1},"我在Archlinux上的常用软件","/2021/04/16/the-software-i-use-on-archlinux","posts/zh/the-software-i-use-on-archlinux",11,null,1763906184652]