[{"data":1,"prerenderedAt":328},["ShallowReactive",2],{"post-2021-11-20-what-is-deepin-elf-verify-zh":3,"surround-2021-11-20-what-is-deepin-elf-verify-zh":314,"randomIndex/2021/11/20/what-is-deepin-elf-verify/":326,"language-switch-/2021/11/20/what-is-deepin-elf-verify/-en":327},{"title":4,"date":5,"path":6,"tags":7,"body":10,"description":67},"deepin-elf-verify究竟是何物？","2021-11-20","/2021/11/20/what-is-deepin-elf-verify",[8,9],"deepin","Linux",{"type":11,"value":12,"toc":303},"minimark",[13,17,34,37,61,104,107,113,120,123,131,134,144,147,154,160,178,206,209,214,221,227,233,236,241,247,250,279,283,288,294,299],[14,15,16],"h2",{"id":16},"起因",[18,19,20,21,25,26,30,31,33],"p",{},"越来越多上架在 Deepin 应用商店中的 deb 包中开始依赖了一个叫做 ",[22,23,24],"code",{},"deepin-elf-verify"," 的依赖，今天来讲讲这个",[27,28,29],"del",{},"神奇","的 ",[22,32,24],{}," 到底为何物，为什么这么多程序都要依赖于他来工作。",[14,35,36],{"id":36},"下载拆包",[18,38,39,40,47,48,53,54,57,58,60],{},"打开 ",[41,42,46],"a",{"href":43,"rel":44},"https://mirrors.bfsu.edu.cn/",[45],"nofollow","Bfsu镜像站"," ，可以很轻松地找到 ",[41,49,52],{"href":50,"rel":51},"https://mirrors.bfsu.edu.cn/deepin/dists/apricot/main/binary-amd64/Packages",[45],"Packages"," —— 在 apt 源中记录了各个文件信息（包括他在仓库中的相对位置）的这么一个",[55,56,29],"em",{},"的文件，就是体积有点大，达到了68MB的样子。我们可以通过以下命令检索今天的主角——",[22,59,24],{},"。",[62,63,68],"pre",{"className":64,"code":65,"language":66,"meta":67,"style":67},"language-bash shiki shiki-themes one-light one-dark-pro","curl -s https://mirrors.bfsu.edu.cn/deepin/dists/apricot/main/binary-amd64/Packages | grep deepin-elf-sign | grep pool\n","bash","",[22,69,70],{"__ignoreMap":67},[71,72,75,79,83,87,91,94,97,99,101],"span",{"class":73,"line":74},"line",1,[71,76,78],{"class":77},"sAdtL","curl",[71,80,82],{"class":81},"sAGMh"," -s",[71,84,86],{"class":85},"sDhpE"," https://mirrors.bfsu.edu.cn/deepin/dists/apricot/main/binary-amd64/Packages",[71,88,90],{"class":89},"s5ixo"," | ",[71,92,93],{"class":77},"grep",[71,95,96],{"class":85}," deepin-elf-sign",[71,98,90],{"class":89},[71,100,93],{"class":77},[71,102,103],{"class":85}," pool\n",[18,105,106],{},"得到了输出:",[108,109,110],"blockquote",{},[18,111,112],{},"Filename: pool/main/d/deepin-elf-verify/deepin-elf-verify_0.2.0.6-1_amd64.deb",[18,114,115,116],{},"我们就可以把完整的下载链接拼出来: ",[41,117,118],{"href":118,"rel":119},"https://mirrors.bfsu.edu.cn/deepin/pool/main/d/deepin-elf-verify/deepin-elf-verify_0.2.0.6-1_amd64.deb",[45],[18,121,122],{},"下载解压，大概是这么一个目录结构:",[62,124,129],{"className":125,"code":127,"language":128},[126],"language-text","deepin-elf-verify_0.2.0.6-1_amd64\n├── control.tar.xz\n├── data.tar.xz\n└── debian-binary\n","text",[22,130,127],{"__ignoreMap":67},[18,132,133],{},"是个常规的deb包该有的结构了。",[135,136,137,141],"ul",{},[138,139,140],"li",{},"control.tar.xz 中存放了deb包的相关信息",[138,142,143],{},"data.tar.xz 是整个包最终会被安装到系统中的文件",[18,145,146],{},"终于到了激动人心的时刻了，打开 data.tar.xz ！",[18,148,149],{},[150,151],"img",{"alt":152,"src":153},"空的？","https://static.031130.xyz/uploads/2024/08/12/62f3ccc192986.webp",[18,155,156],{},[157,158,159],"strong",{},"搞错了，再来",[18,161,162,163,168,169,171,172,174,175,177],{},"打开UOS的",[41,164,167],{"href":165,"rel":166},"https://uos.deepin.cn/uos/",[45],"源链接","，使用",[22,170,78],{},"+",[22,173,93],{},"检索",[22,176,24],{},"在源中的相对位置",[62,179,181],{"className":64,"code":180,"language":66,"meta":67,"style":67},"curl -sL https://uos.deepin.cn/uos/dists/eagle/main/binary-amd64/Packages | grep deepin-elf-verify | grep pool\n",[22,182,183],{"__ignoreMap":67},[71,184,185,187,190,193,195,197,200,202,204],{"class":73,"line":74},[71,186,78],{"class":77},[71,188,189],{"class":81}," -sL",[71,191,192],{"class":85}," https://uos.deepin.cn/uos/dists/eagle/main/binary-amd64/Packages",[71,194,90],{"class":89},[71,196,93],{"class":77},[71,198,199],{"class":85}," deepin-elf-verify",[71,201,90],{"class":89},[71,203,93],{"class":77},[71,205,103],{"class":85},[18,207,208],{},"获得输出:",[108,210,211],{},[18,212,213],{},"Filename: pool/main/d/deepin-elf-verify/deepin-elf-verify_0.0.14.5-1_amd64.deb\nFilename: pool/main/d/deepin-elf-verify/deepin-elf-verify-dbgsym_0.0.14.5-1_amd64.deb",[18,215,216,217],{},"拼接为链接: ",[41,218,219],{"href":219,"rel":220},"https://uos.deepin.cn/uos/pool/main/d/deepin-elf-verify/deepin-elf-verify_0.0.14.5-1_amd64.deb",[45],[18,222,223,224],{},"下载后打开 ",[22,225,226],{},"data.tar.xz",[18,228,229],{},[150,230],{"alt":231,"src":232},"看来还是有东西的","https://static.031130.xyz/uploads/2024/08/12/62f3ccc53d544.webp",[14,234,235],{"id":235},"说说结论吧",[237,238,240],"h3",{"id":239},"对于uos","对于UOS",[18,242,243,244,246],{},"在UOS下，",[22,245,24],{},"用于检测用户运行的进程是否被deepin信任的证书签名过，虽然有些过于限制用户，对于一个将要广泛用于政府机关的发行版而言是可以理解的。",[237,248,249],{"id":249},"对于deepin",[135,251,252,257,266],{},[138,253,254,256],{},[22,255,24],{}," 在 deepin 上就是个空包。",[138,258,259,260,262,263,265],{},"当我们使用 deepin 安装一个含有 ",[22,261,24],{}," 的软件包时，apt 会自动从源内搜索并安装 ",[22,264,24],{},"，由于是个空包，他对于系统不会有任何负担。",[138,267,268,269,271,272,275,276,278],{},"大多数依赖",[22,270,24],{},"的程序都把依赖写成了",[22,273,274],{},"deepin-elf-verify (>= 0.0.16.7-1)","，而在deepin源中，",[22,277,24],{},"版本号是 0.2.0.6，因此在未来的很长一段时间里应该都是满足要求的，说明统信那边并没有「想要让deepin装不上UOS的包」的这种想法，可见在这一点上，统信还没有明显的偏心。",[237,280,282],{"id":281},"在别的deb发行版下","在别的Deb发行版下",[18,284,285,287],{},[22,286,24],{},"存在于、并且仅仅存在于 deepin 和 UOS 的源内。",[18,289,290,291,293],{},"而当我们使用别的 deb 发行版（如Debian、Ubuntu）时，apt 无法在他们自己的源内找到 ",[22,292,24],{}," ，apt就会报错并且停止安装。",[18,295,296],{},[157,297,298],{},"小结: 至于其最终目的，是为了__________________________",[300,301,302],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":67,"searchDepth":304,"depth":304,"links":305},2,[306,307,308],{"id":16,"depth":304,"text":16},{"id":36,"depth":304,"text":36},{"id":235,"depth":304,"text":235,"children":309},[310,312,313],{"id":239,"depth":311,"text":240},3,{"id":249,"depth":311,"text":249},{"id":281,"depth":311,"text":282},[315,321],{"title":316,"path":317,"stem":318,"date":319,"lang":320,"children":-1},"我是来吹CloudflareMirrors的","/2021/11/21/use-cloudflare-mirrors","posts/zh/use-cloudflare-mirrors","2021-11-21 01:48:49","zh-CN",{"title":322,"path":323,"stem":324,"date":325,"lang":320,"children":-1},"【翻译】请别再使用主题装饰我们的软件","/2021/11/05/please-dont-theme-our-apps","posts/zh/please-dont-theme-our-apps","2021-11-05 20:35:58",9,null,1765307312637]