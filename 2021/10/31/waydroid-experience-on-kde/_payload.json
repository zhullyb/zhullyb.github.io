[{"data":1,"prerenderedAt":392},["ShallowReactive",2],{"post-2021-10-31-waydroid-experience-on-kde":3,"surround-2021-10-31-waydroid-experience-on-kde":380,"randomIndex/2021/10/31/waydroid-experience-on-kde/":391},{"id":4,"title":5,"body":6,"date":364,"description":96,"extension":365,"meta":366,"navigation":368,"path":369,"rawbody":370,"seo":371,"stem":372,"sticky":373,"tags":374,"__hash__":379},"posts/posts/waydroid-experience-on-kde.md","Waydroid on KDE 初体验",{"type":7,"value":8,"toc":352},"minimark",[9,30,35,38,41,48,51,67,84,87,90,119,126,140,144,159,162,174,194,197,200,218,221,237,240,243,255,266,269,287,290,299,302,328,331,336,342,348],[10,11,12],"blockquote",{},[13,14,15,16,23,24,29],"p",{},"在",[17,18,22],"a",{"href":19,"rel":20},"https://yanqiyu.info/",[21],"nofollow","西木野羰基的博客","中看到了其在Fedora中使用waydroid跑明日方舟的",[17,25,28],{"href":26,"rel":27},"https://static.031130.xyz/uploads/2024/08/12/62f3cc0d6b9e8.webp",[21],"截图","，心里有有些痒痒了，决定在Archlinux上尝试使用waydroid。",[31,32,34],"h2",{"id":33},"waydroid是什么","Waydroid是什么",[13,36,37],{},"Waydroid是一个基于lxc容器技术，用以启动完整安卓系统的方案。",[13,39,40],{},"默认使用了LineageOS-17.1，对应 Aosp10，相比起 anbox 显然是更加新了。",[13,42,43],{},[44,45],"img",{"alt":46,"src":47},"是长成这样","https://static.031130.xyz/uploads/2024/08/12/62f3cb238c027.webp",[31,49,50],{"id":50},"内核支持",[13,52,53,54,58,59,62,63,66],{},"waydroid需要内核提供",[55,56,57],"code",{},"Ashmem","和",[55,60,61],{},"binder","支持，西木野羰基是使用的自己编译的内核。而我在使用Archlinux，因此直接使用",[55,64,65],{},"linux-zen","即可。",[10,68,69],{},[13,70,71,72,75,76,79,80,83],{},"注: AUR上的",[55,73,74],{},"linux-xanmod","虽然也有这些模块支持，但是在编译时设置了",[55,77,78],{},"psi=0","以提升性能，而waydroid恰巧需要",[55,81,82],{},"psi=1","的支持，故不可使用。",[31,85,86],{"id":86},"安装",[13,88,89],{},"Archlinux已经有人将其打包上传到了AUR，我们直接安装即可。我使用的 AUR Helper 是 yay，所以直接",[91,92,97],"pre",{"className":93,"code":94,"language":95,"meta":96,"style":96},"language-bash shiki shiki-themes one-light one-dark-pro","yay -S waydroid --noconfirm\n","bash","",[55,98,99],{"__ignoreMap":96},[100,101,104,108,112,116],"span",{"class":102,"line":103},"line",1,[100,105,107],{"class":106},"sAdtL","yay",[100,109,111],{"class":110},"sAGMh"," -S",[100,113,115],{"class":114},"sDhpE"," waydroid",[100,117,118],{"class":110}," --noconfirm\n",[13,120,121,122,125],{},"再装个",[55,123,124],{},"python-pyclip","解决剪切板同步的问题",[91,127,129],{"className":93,"code":128,"language":95,"meta":96,"style":96},"yay -S python-pyclip\n",[55,130,131],{"__ignoreMap":96},[100,132,133,135,137],{"class":102,"line":103},[100,134,107],{"class":106},[100,136,111],{"class":110},[100,138,139],{"class":114}," python-pyclip\n",[31,141,143],{"id":142},"下载waydroid镜像","下载Waydroid镜像",[91,145,147],{"className":93,"code":146,"language":95,"meta":96,"style":96},"sudo waydroid init\n",[55,148,149],{"__ignoreMap":96},[100,150,151,154,156],{"class":102,"line":103},[100,152,153],{"class":106},"sudo",[100,155,115],{"class":114},[100,157,158],{"class":114}," init\n",[13,160,161],{},"这一步将会自动（从SourceForge）下载纯净的LineageOS镜像压缩包并解压，处于中国大陆网络环境的用户记得（          ）",[13,163,164,165,168,169],{},"如果你需要Gapps，可以指定下载Gapps版本，但是这将需要你获取",[55,166,167],{},"Android ID","并向谷歌提交 Custom Rom 的 Gapps 申请。见",[17,170,173],{"href":171,"rel":172},"https://www.google.com/android/uncertified/",[21],"这里",[91,175,177],{"className":93,"code":176,"language":95,"meta":96,"style":96},"sudo waydroid init -s GAPPS\n",[55,178,179],{"__ignoreMap":96},[100,180,181,183,185,188,191],{"class":102,"line":103},[100,182,153],{"class":106},[100,184,115],{"class":114},[100,186,187],{"class":114}," init",[100,189,190],{"class":110}," -s",[100,192,193],{"class":114}," GAPPS\n",[31,195,196],{"id":196},"启用服务",[13,198,199],{},"这个没什么好说的，使用systemctl启动服务。",[91,201,203],{"className":93,"code":202,"language":95,"meta":96,"style":96},"sudo systemctl start waydroid-container.service\n",[55,204,205],{"__ignoreMap":96},[100,206,207,209,212,215],{"class":102,"line":103},[100,208,153],{"class":106},[100,210,211],{"class":114}," systemctl",[100,213,214],{"class":114}," start",[100,216,217],{"class":114}," waydroid-container.service\n",[31,219,220],{"id":220},"开启waydroid",[91,222,224],{"className":93,"code":223,"language":95,"meta":96,"style":96},"waydroid session start\n",[55,225,226],{"__ignoreMap":96},[100,227,228,231,234],{"class":102,"line":103},[100,229,230],{"class":106},"waydroid",[100,232,233],{"class":114}," session",[100,235,236],{"class":114}," start\n",[31,238,239],{"id":239},"一些简单的使用技巧",[13,241,242],{},"如果你想直接展示整个系统界面，可以使用",[91,244,246],{"className":93,"code":245,"language":95,"meta":96,"style":96},"waydroid show-full-ui\n",[55,247,248],{"__ignoreMap":96},[100,249,250,252],{"class":102,"line":103},[100,251,230],{"class":106},[100,253,254],{"class":114}," show-full-ui\n",[13,256,257,258,261,262,265],{},"我们也可以用",[55,259,260],{},"waydroid app launch ${package_name}","的方式来启动单个应用（包名可以使用",[55,263,264],{},"waydroid app list","来获取",[13,267,268],{},"当然，可以直接在Linux环境里 安装 某个apk",[91,270,272],{"className":93,"code":271,"language":95,"meta":96,"style":96},"waydroid app install path/to/apkfile.apk\n",[55,273,274],{"__ignoreMap":96},[100,275,276,278,281,284],{"class":102,"line":103},[100,277,230],{"class":106},[100,279,280],{"class":114}," app",[100,282,283],{"class":114}," install",[100,285,286],{"class":114}," path/to/apkfile.apk\n",[13,288,289],{},"F11有助于解决应用分辨率问题，左Alt有助于解决键盘无法输入的问题。",[13,291,292,293,298],{},"Github上有个",[17,294,297],{"href":295,"rel":296},"https://github.com/casualsnek/waydroid_script",[21],"脚本","，可以帮助 安装OpenGapps/Magisk/arm转译库/获取Android ID。",[31,300,301],{"id":301},"牢骚时间",[303,304,305,309,312,315,318,321],"ul",{},[306,307,308],"li",{},"对AMD和英伟达的显卡支持都不太行",[306,310,311],{},"不能直接输入中文，还是得借助安卓系统内的输入法。",[306,313,314],{},"不自带arm转译库，通过脚本安装的转译库似乎兼容性挺差（至少我是成功打开什么arm软件",[306,316,317],{},"系统运行的流畅度还可以",[306,319,320],{},"相关的资料似乎有点少，官方的文档也没有写得太详细",[306,322,323,324,327],{},"Waydroid会自动在",[55,325,326],{},"$HOME/.local/share/applications/","为wayland内的安装应用添加Desktop文件（这让我有些反感",[31,329,330],{"id":330},"一些截图",[13,332,333],{},[44,334],{"alt":96,"src":335},"https://static.031130.xyz/uploads/2024/08/12/62f3cb26cba03.webp",[13,337,338],{},[44,339],{"alt":340,"src":341},"原生安卓从未变过的应用抽屉","https://static.031130.xyz/uploads/2024/08/12/62f3cc722835c.webp",[13,343,344],{},[44,345],{"alt":346,"src":347},"这充电速度太刺激啦！","https://static.031130.xyz/uploads/2024/08/12/62f3cc76b986c.webp",[349,350,351],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":96,"searchDepth":353,"depth":353,"links":354},2,[355,356,357,358,359,360,361,362,363],{"id":33,"depth":353,"text":34},{"id":50,"depth":353,"text":50},{"id":86,"depth":353,"text":86},{"id":142,"depth":353,"text":143},{"id":196,"depth":353,"text":196},{"id":220,"depth":353,"text":220},{"id":239,"depth":353,"text":239},{"id":301,"depth":353,"text":301},{"id":330,"depth":353,"text":330},"2021-10-31 15:57:57","md",{"index_img":367},"https://static.031130.xyz/uploads/2024/08/12/62f3ca1a5eb50.webp",true,"/2021/10/31/waydroid-experience-on-kde","---\ntitle: Waydroid on KDE 初体验\ndate: 2021-10-31 15:57:57\nsticky:\nindex_img: https://static.031130.xyz/uploads/2024/08/12/62f3ca1a5eb50.webp\ntags:\n- Archlinux\n- Waydroid\n- KDE\n- Experience\n---\n\n> 在[西木野羰基的博客](https://yanqiyu.info/)中看到了其在Fedora中使用waydroid跑明日方舟的[截图](https://static.031130.xyz/uploads/2024/08/12/62f3cc0d6b9e8.webp)，心里有有些痒痒了，决定在Archlinux上尝试使用waydroid。\n\n## Waydroid是什么\n\nWaydroid是一个基于lxc容器技术，用以启动完整安卓系统的方案。\n\n默认使用了LineageOS-17.1，对应 Aosp10，相比起 anbox 显然是更加新了。\n\n![是长成这样](https://static.031130.xyz/uploads/2024/08/12/62f3cb238c027.webp)\n\n## 内核支持\n\nwaydroid需要内核提供`Ashmem`和`binder`支持，西木野羰基是使用的自己编译的内核。而我在使用Archlinux，因此直接使用`linux-zen`即可。\n\n> 注: AUR上的`linux-xanmod`虽然也有这些模块支持，但是在编译时设置了`psi=0`以提升性能，而waydroid恰巧需要`psi=1`的支持，故不可使用。\n\n## 安装\n\nArchlinux已经有人将其打包上传到了AUR，我们直接安装即可。我使用的 AUR Helper 是 yay，所以直接\n\n```bash\nyay -S waydroid --noconfirm\n```\n\n再装个`python-pyclip`解决剪切板同步的问题\n\n```bash\nyay -S python-pyclip\n```\n\n## 下载Waydroid镜像\n\n```bash\nsudo waydroid init\n```\n\n这一步将会自动（从SourceForge）下载纯净的LineageOS镜像压缩包并解压，处于中国大陆网络环境的用户记得（          ）\n\n如果你需要Gapps，可以指定下载Gapps版本，但是这将需要你获取`Android ID`并向谷歌提交 Custom Rom 的 Gapps 申请。见[这里](https://www.google.com/android/uncertified/)\n\n```bash\nsudo waydroid init -s GAPPS\n```\n\n## 启用服务\n\n这个没什么好说的，使用systemctl启动服务。\n\n```bash\nsudo systemctl start waydroid-container.service\n```\n\n## 开启waydroid\n\n```bash\nwaydroid session start\n```\n\n## 一些简单的使用技巧\n\n如果你想直接展示整个系统界面，可以使用\n\n```bash\nwaydroid show-full-ui\n```\n\n我们也可以用`waydroid app launch ${package_name}`的方式来启动单个应用（包名可以使用`waydroid app list`来获取\n\n当然，可以直接在Linux环境里 安装 某个apk\n\n```bash\nwaydroid app install path/to/apkfile.apk\n```\n\nF11有助于解决应用分辨率问题，左Alt有助于解决键盘无法输入的问题。\n\nGithub上有个[脚本](https://github.com/casualsnek/waydroid_script)，可以帮助 安装OpenGapps/Magisk/arm转译库/获取Android ID。\n\n## 牢骚时间\n\n- 对AMD和英伟达的显卡支持都不太行\n- 不能直接输入中文，还是得借助安卓系统内的输入法。\n- 不自带arm转译库，通过脚本安装的转译库似乎兼容性挺差（至少我是成功打开什么arm软件\n- 系统运行的流畅度还可以\n- 相关的资料似乎有点少，官方的文档也没有写得太详细\n- Waydroid会自动在`$HOME/.local/share/applications/`为wayland内的安装应用添加Desktop文件（这让我有些反感\n\n## 一些截图\n\n![](https://static.031130.xyz/uploads/2024/08/12/62f3cb26cba03.webp)\n\n![原生安卓从未变过的应用抽屉](https://static.031130.xyz/uploads/2024/08/12/62f3cc722835c.webp)\n\n![这充电速度太刺激啦！](https://static.031130.xyz/uploads/2024/08/12/62f3cc76b986c.webp)\n",{"title":5,"description":96},"posts/waydroid-experience-on-kde",false,[375,376,377,378],"Archlinux","Waydroid","KDE","Experience","AUqxYGyNvmPlM4wYIxuZZRYWJJt8qJNeUTMZdJ-zCts",[381,386],{"title":382,"path":383,"stem":384,"date":385,"children":-1},"【翻译】请别再使用主题装饰我们的软件","/2021/11/05/please-dont-theme-our-apps","posts/please-dont-theme-our-apps","2021-11-05 20:35:58",{"title":387,"path":388,"stem":389,"date":390,"children":-1},"PicUploader使用系列（二）——为KDE的dolphin添加右键快捷菜单","/2021/10/24/picuploader-with-kde-action","posts/picuploader-with-kde-action","2021-10-24 22:26:50",10,1761769024145]