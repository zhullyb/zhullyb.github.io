[{"data":1,"prerenderedAt":377},["ShallowReactive",2],{"post-2021-10-02-nutstore-guide-on-archlinux-kde-zh":3,"surround-2021-10-02-nutstore-guide-on-archlinux-kde-zh":364,"randomIndex/2021/10/02/nutstore-guide-on-archlinux-kde/":318,"language-switch-/2021/10/02/nutstore-guide-on-archlinux-kde/-en":376},{"title":4,"date":5,"path":6,"tags":7,"body":9,"description":29},"Archlinux坚果云踩坑实录","2021-10-02 00:21:34","/2021/10/02/nutstore-guide-on-archlinux-kde",[8],"Archlinux",{"type":10,"value":11,"toc":356},"minimark",[12,19,23,50,53,56,59,65,72,78,84,106,109,112,118,124,130,134,140,149,180,186,190,193,199,206,236,240,243,261,267,352],[13,14,15],"blockquote",{},[16,17,18],"p",{},"在Archlinux上，坚果云似乎出现了一些问题。",[20,21,22],"h2",{"id":22},"安装",[24,25,30],"pre",{"className":26,"code":27,"language":28,"meta":29,"style":29},"language-bash shiki shiki-themes one-light one-dark-pro","yay -S nutstore\n","bash","",[31,32,33],"code",{"__ignoreMap":29},[34,35,38,42,46],"span",{"class":36,"line":37},"line",1,[34,39,41],{"class":40},"sAdtL","yay",[34,43,45],{"class":44},"sAGMh"," -S",[34,47,49],{"class":48},"sDhpE"," nutstore\n",[16,51,52],{},"这个没什么可说的，AUR还是Archlinuxcn都无所谓，都是一模一样的。",[20,54,55],{"id":55},"白屏",[16,57,58],{},"双击图标，咦？怎么白屏了？",[16,60,61],{},[62,63],"img",{"alt":55,"src":64},"https://static.031130.xyz/uploads/2024/08/12/62f3cc797bc09.webp",[16,66,67,68,71],{},"看看AUR评论区，有人说",[31,69,70],{},"nutstore-experimental","修了？",[16,73,74],{},[62,75],{"alt":76,"src":77},"AUR评论区","https://static.031130.xyz/uploads/2024/08/12/62f3cc7df08ad.webp",[16,79,80,81],{},"对比了一下，就是改了改",[31,82,83],{},"/opt/nutstore/conf/nutstore.properties",[24,85,87],{"className":26,"code":86,"language":28,"meta":29,"style":29},"sudo sed -i 's|webui.enable=true|webui.enable=false|' /opt/nutstore/conf/nutstore.properties\n",[31,88,89],{"__ignoreMap":29},[34,90,91,94,97,100,103],{"class":36,"line":37},[34,92,93],{"class":40},"sudo",[34,95,96],{"class":48}," sed",[34,98,99],{"class":44}," -i",[34,101,102],{"class":48}," 's|webui.enable=true|webui.enable=false|'",[34,104,105],{"class":48}," /opt/nutstore/conf/nutstore.properties\n",[16,107,108],{},"轻松解决",[20,110,111],{"id":111},"窗口太小不能登陆",[16,113,114],{},[62,115],{"alt":116,"src":117},"调出窗口规则设置界面","https://static.031130.xyz/uploads/2024/08/12/62f3cc822fbe9.webp",[16,119,120],{},[62,121],{"alt":122,"src":123},"进行设置","https://static.031130.xyz/uploads/2024/08/12/62f3cc864a783.webp",[16,125,126],{},[62,127],{"alt":128,"src":129},"完成","https://static.031130.xyz/uploads/2024/08/12/62f3cc89ca4eb.webp",[20,131,133],{"id":132},"桌面使用了暗色主题导致部分字体不清晰","桌面使用了暗色主题导致部分字体不清晰？",[16,135,136],{},[62,137],{"alt":138,"src":139},"这字体鬼看得见？","https://static.031130.xyz/uploads/2024/08/12/62f3cc8f193b1.webp",[16,141,142,143,148],{},"参考",[144,145,147],"a",{"href":146},"/2021/09/05/wrong-fonts-color-fix-under-kde-with-a-dark-theme/","使用fakehome方案暂时解决跑在KDE暗色主题下的程序使用亮色字体的问题","编写启动命令",[24,150,152],{"className":26,"code":151,"language":28,"meta":29,"style":29},"bwrap --dev-bind / / --tmpfs $HOME/.config /usr/bin/nutstore\n",[31,153,154],{"__ignoreMap":29},[34,155,156,159,162,165,167,170,174,177],{"class":36,"line":37},[34,157,158],{"class":40},"bwrap",[34,160,161],{"class":44}," --dev-bind",[34,163,164],{"class":48}," /",[34,166,164],{"class":48},[34,168,169],{"class":44}," --tmpfs",[34,171,173],{"class":172},"sJa8x"," $HOME",[34,175,176],{"class":48},"/.config",[34,178,179],{"class":48}," /usr/bin/nutstore\n",[16,181,182],{},[62,183],{"alt":184,"src":185},"测试通过","https://static.031130.xyz/uploads/2024/08/12/62f3cc9245d26.webp",[20,187,189],{"id":188},"本地markdown文件的文件类型被识别成了坚果云-markdown","本地markdown文件的文件类型被识别成了「坚果云 Markdown」",[16,191,192],{},"这个是由于坚果云自作主张推广他自己并不好用的lightapp，写了几条 mime 的规则，如图",[16,194,195],{},[62,196],{"alt":197,"src":198},"没错，整整5个xml","https://static.031130.xyz/uploads/2024/08/12/62f3cc95f0dd1.webp",[16,200,201,202,205],{},"看来在我们的启动命令中也需要防止坚果云接触到",[31,203,204],{},"$HOME/.local/share/","这个路径，所以现在的启动命令得写成这样。",[24,207,209],{"className":26,"code":208,"language":28,"meta":29,"style":29},"bwrap --dev-bind / / --tmpfs $HOME/.config --tmpfs $HOME/.local/share/ /usr/bin/nutstore\n",[31,210,211],{"__ignoreMap":29},[34,212,213,215,217,219,221,223,225,227,229,231,234],{"class":36,"line":37},[34,214,158],{"class":40},[34,216,161],{"class":44},[34,218,164],{"class":48},[34,220,164],{"class":48},[34,222,169],{"class":44},[34,224,173],{"class":172},[34,226,176],{"class":48},[34,228,169],{"class":44},[34,230,173],{"class":172},[34,232,233],{"class":48},"/.local/share/",[34,235,179],{"class":48},[20,237,239],{"id":238},"修改desktop文件使其使用我们自己攥写的启动命令","修改desktop文件，使其使用我们自己攥写的启动命令",[16,241,242],{},"首先，复制一份desktop文件到我们的 $HOME 目录下，好处是下次更新的时候我们所做的更改不会被包管理器覆盖。",[24,244,246],{"className":26,"code":245,"language":28,"meta":29,"style":29},"cp /usr/share/applications/nutstore.desktop $HOME/.local/share/applications/\n",[31,247,248],{"__ignoreMap":29},[34,249,250,253,256,258],{"class":36,"line":37},[34,251,252],{"class":40},"cp",[34,254,255],{"class":48}," /usr/share/applications/nutstore.desktop",[34,257,173],{"class":172},[34,259,260],{"class":48},"/.local/share/applications/\n",[16,262,263,264],{},"再修改",[31,265,266],{},"$HOME/.local/share/applications/nutstore.desktop",[24,268,272],{"className":269,"code":270,"language":271,"meta":29,"style":29},"language-diff shiki shiki-themes one-light one-dark-pro","[Desktop Entry]\nEncoding=UTF-8\nType=Application\nTerminal=false\nIcon=nutstore\n-Exec=/usr/bin/nutstore\n+Exec=bwrap --dev-bind / / --tmpfs $HOME/.config --tmpfs $HOME/.local/share/applications --tmpfs $HOME/.local/share/mime /usr/bin/nutstore\nStartupWMClass=Nutstore\nName=Nutstore\nName[zh_CN]=坚果云 \nComment=Data Sync, Sharing, Backup\nComment[zh_CN]=数据同步,共享和备份\nCategories=Network;Application;\n","diff",[31,273,274,280,286,292,298,304,310,316,322,328,334,340,346],{"__ignoreMap":29},[34,275,276],{"class":36,"line":37},[34,277,279],{"class":278},"s5ixo","[Desktop Entry]\n",[34,281,283],{"class":36,"line":282},2,[34,284,285],{"class":278},"Encoding=UTF-8\n",[34,287,289],{"class":36,"line":288},3,[34,290,291],{"class":278},"Type=Application\n",[34,293,295],{"class":36,"line":294},4,[34,296,297],{"class":278},"Terminal=false\n",[34,299,301],{"class":36,"line":300},5,[34,302,303],{"class":278},"Icon=nutstore\n",[34,305,307],{"class":36,"line":306},6,[34,308,309],{"class":172},"-Exec=/usr/bin/nutstore\n",[34,311,313],{"class":36,"line":312},7,[34,314,315],{"class":48},"+Exec=bwrap --dev-bind / / --tmpfs $HOME/.config --tmpfs $HOME/.local/share/applications --tmpfs $HOME/.local/share/mime /usr/bin/nutstore\n",[34,317,319],{"class":36,"line":318},8,[34,320,321],{"class":278},"StartupWMClass=Nutstore\n",[34,323,325],{"class":36,"line":324},9,[34,326,327],{"class":278},"Name=Nutstore\n",[34,329,331],{"class":36,"line":330},10,[34,332,333],{"class":278},"Name[zh_CN]=坚果云 \n",[34,335,337],{"class":36,"line":336},11,[34,338,339],{"class":278},"Comment=Data Sync, Sharing, Backup\n",[34,341,343],{"class":36,"line":342},12,[34,344,345],{"class":278},"Comment[zh_CN]=数据同步,共享和备份\n",[34,347,349],{"class":36,"line":348},13,[34,350,351],{"class":278},"Categories=Network;Application;\n",[353,354,355],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}",{"title":29,"searchDepth":282,"depth":282,"links":357},[358,359,360,361,362,363],{"id":22,"depth":282,"text":22},{"id":55,"depth":282,"text":55},{"id":111,"depth":282,"text":111},{"id":132,"depth":282,"text":133},{"id":188,"depth":282,"text":189},{"id":238,"depth":282,"text":239},[365,371],{"title":366,"path":367,"stem":368,"date":369,"lang":370,"children":-1},"PicUploader使用系列（一）——在Archlinux上使用Caddy部署PicUploader","/2021/10/21/picuploader-on-archlinux-with-caddy","posts/zh/picuploader-on-archlinux-with-caddy","2021-10-21 22:15:33","zh-CN",{"title":372,"path":373,"stem":374,"date":375,"lang":370,"children":-1},"把老版的火狐顶栏UI带回来","/2021/10/01/bring-firefox-old-topbar-back","posts/zh/bring-firefox-old-topbar-back","2021-10-01 19:20:23",null,1765307577229]