[{"data":1,"prerenderedAt":124},["ShallowReactive",2],{"post-2023-05-03-checkout-lfs-file-after-repo-sync-zh":3,"surround-2023-05-03-checkout-lfs-file-after-repo-sync-zh":110,"randomIndex/2023/05/03/checkout-lfs-file-after-repo-sync/":122,"language-switch-/2023/05/03/checkout-lfs-file-after-repo-sync/-en":123},{"title":4,"date":5,"path":6,"tags":7,"body":9,"description":80},"执行 repo sync 后将 git-lfs 中的资源文件 checkout","2023-05-03 01:15:35","/2023/05/03/checkout-lfs-file-after-repo-sync",[8],"Notes",{"type":10,"value":11,"toc":107},"minimark",[12,19,35,54,64,74,103],[13,14,15],"blockquote",{},[16,17,18],"p",{},"最近期中考试挺忙的，五一好不容易有一些自己的时间，于是打算重操旧业，搞点有意思的内容，没想到准备阶段就出了新问题，有点跟不上时代了",[16,20,21,22,26,27,30,31,34],{},"本次遇到的问题是在执行 ",[23,24,25],"code",{},"repo sync"," 命令后储存在 git-lfs 中的文件没有被自动 pull 并 checkout 出来，尽管我在 ",[23,28,29],{},"repo init"," 阶段已经加了 ",[23,32,33],{},"--git-lfs"," 参数了。",[16,36,37,38,45,46,49,50,53],{},"上 google 简单查了查，查到一篇 ",[39,40,44],"a",{"href":41,"rel":42},"https://stackoverflow.com/questions/67280310/how-to-run-git-lfs-automatically-after-repo-sync",[43],"nofollow","stackoverflow"," 的回答，给出的思路是使用 ",[23,47,48],{},"repo forall -c 'git lfs pull'"," 的方案解决的，意思是在 repo 同步的每一个 git 仓库中都自动执行 ",[23,51,52],{},"git lfs pull"," 命令，但这个解决方案在我这有两个问题。",[55,56,57,61],"ul",{},[58,59,60],"li",{},"仓库的 git-lfs 没有被安装，所以 git-lfs 会直接报错",[58,62,63],{},"将整个安装源码一千多个仓库一一执行这些命令的速度太慢了",[16,65,66,67,70,71],{},"解决方案也很简单，直接检测每个 git 仓库下是否存在 ",[23,68,69],{},".lfsconfg"," 文件，存在的话就执行 ",[23,72,73],{},"git lfs install && git lfs pull",[75,76,81],"pre",{"className":77,"code":78,"language":79,"meta":80,"style":80},"language-bash shiki shiki-themes one-light one-dark-pro","repo forall -c 'test -e .lfsconfig && git lfs install && git lfs pull'\n","bash","",[23,82,83],{"__ignoreMap":80},[84,85,88,92,96,100],"span",{"class":86,"line":87},"line",1,[84,89,91],{"class":90},"sAdtL","repo",[84,93,95],{"class":94},"sDhpE"," forall",[84,97,99],{"class":98},"sAGMh"," -c",[84,101,102],{"class":94}," 'test -e .lfsconfig && git lfs install && git lfs pull'\n",[104,105,106],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":80,"searchDepth":108,"depth":108,"links":109},2,[],[111,117],{"title":112,"path":113,"stem":114,"date":115,"lang":116,"children":-1},"Azure 教育订阅申请时遇到的麻烦","/2023/05/12/troubles-when-applying-azure-education","posts/zh/troubles-when-applying-azure-education","2023-05-12 23:38:29","zh-CN",{"title":118,"path":119,"stem":120,"date":121,"lang":116,"children":-1},"隐式转发——骚套路建站方案","/2023/03/26/implicit-forwarding-is-a-new-site-deploying-method","posts/zh/implicit-forwarding-is-a-new-site-deploying-method","2023-03-26 00:10:02",3,null,1771555479502]