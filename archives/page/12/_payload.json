[{"data":1,"prerenderedAt":2128},["ShallowReactive",2],{"randomIndex/archives/page/12/":3,"index-page-12-zh":4,"language-switch-/archives/page/12/-en":2126,"posts-nums-total-zh":2127},3,[5,170,292,353,432,481,706,745,790,2007],{"title":6,"date":7,"path":8,"tags":9,"body":12},"使用vercel创建一个随机图片api","2021-05-21","/2021/05/21/create-a-random-picture-api-with-vercel",[10,11],"Network","Vercel",{"type":13,"value":14,"toc":168},"minimark",[15,30,41,44,47,59,62,67,80,91,94,100,164],[16,17,18,19,29],"p",{},"如果你的网络环境不算太差的话，你在访问我博客的时候应该可以看到顶部有一张背景图。假如你访问我的博客时留心观察，你或许会发现每次你访问我博客时的背景都是不一样的。如果你没玩够，或许你可以尝试",[20,21,25],"a",{"href":22,"rel":23},"https://randompic.zhul.in/api/randomtoppic.php",[24],"nofollow",[26,27,28],"strong",{},"点击这里","，我总共搜集了20张壁纸供诸位赏玩。",[16,31,32,33,40],{},"是的，这是使用php实现的随机图片api，托管于vercel，你可以在",[20,34,37],{"href":35,"rel":36},"https://note.aya1.top/#/4-phpapi",[24],[26,38,39],{},"aya的博客","上找到我使用的代码。具体配置方式我不再赘述。",[16,42,43],{},"然而，我们还需要解决一个问题: php在哪里运行？",[16,45,46],{},"如果你拥有自己的服务器，在国内访问速度毫不逊色，那就好办了，直接扔自己服务器上即可。然而，我并没有。我需要找到一个在国内访问速度给力的地方来部署我的api，以确保访客在打开我的博客时可以在第一时间获取到图片的真实链接并开始加载。",[16,48,49,50,54,55,58],{},"起初，我将其部署在我的好朋友(",[51,52,53],"del",{},"你可以猜猜他是谁",")的国内vps上，访问速度自然不用说。然而，他的服务器",[26,56,57],{},"不支持https","，这就导致使用chrome访问的时候chrome不会自动访问我的api，博客顶部一片惨蓝。。。",[16,60,61],{},"随后，我使用的是000webhost提供的虚拟主机，国内访问起来也还不错，大概正常运行了半个月左右的时间，然后莫名开始502了。我懂，作为不交钱的白嫖用户应该自觉滚蛋了，这点觉悟咱还是有。",[16,63,64],{},[26,65,66],{},"随后，我找到了目前的方案——vercel",[16,68,69,70,73,74,79],{},"vercel是被我用来部署静态网页的，但我没想到他也能",[26,71,72],{},"支持php","。参考了",[20,75,78],{"href":76,"rel":77},"https://github.com/juicyfx/vercel-php",[24],"vercel-php","项目后，我大致了解了整个仓库结构。",[81,82,87],"pre",{"className":83,"code":85,"language":86},[84],"language-text","project\n├── api\n│   └── index.php\n└── vercel.json\n","text",[88,89,85],"code",{"__ignoreMap":90},"",[16,92,93],{},"php和附带的资源文件(如果有的话)一定要放到api文件夹下才能够正常被vercel识别。",[16,95,96,97],{},"以下附",[88,98,99],{},"vercel.json",[81,101,105],{"className":102,"code":103,"language":104,"meta":90,"style":90},"language-json shiki shiki-themes one-light one-dark-pro","{\n  \"functions\": {\n    \"api/index.php\": {\n      \"runtime\": \"vercel-php@0.4.0\"\n    }\n  }\n}\n","json",[88,106,107,116,126,133,146,152,158],{"__ignoreMap":90},[108,109,112],"span",{"class":110,"line":111},"line",1,[108,113,115],{"class":114},"s5ixo","{\n",[108,117,119,123],{"class":110,"line":118},2,[108,120,122],{"class":121},"sJa8x","  \"functions\"",[108,124,125],{"class":114},": {\n",[108,127,128,131],{"class":110,"line":3},[108,129,130],{"class":121},"    \"api/index.php\"",[108,132,125],{"class":114},[108,134,136,139,142],{"class":110,"line":135},4,[108,137,138],{"class":121},"      \"runtime\"",[108,140,141],{"class":114},": ",[108,143,145],{"class":144},"sDhpE","\"vercel-php@0.4.0\"\n",[108,147,149],{"class":110,"line":148},5,[108,150,151],{"class":114},"    }\n",[108,153,155],{"class":110,"line":154},6,[108,156,157],{"class":114},"  }\n",[108,159,161],{"class":110,"line":160},7,[108,162,163],{"class":114},"}\n",[165,166,167],"style",{},"html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":90,"searchDepth":118,"depth":118,"links":169},[],{"title":171,"date":172,"path":173,"tags":174,"body":178},"禁止deepin-wine-tim使用simsun字体渲染","2021-04-27","/2021/04/27/hide-simsun-from-deepin-wine-tim",[175,176,177],"Archlinux","Linux","Bwrap",{"type":13,"value":179,"toc":290},[180,194,197,200,206,209,212,223,230,236,239,253,259,265,268,273,276,281,284],[181,182,183],"blockquote",{},[16,184,185,186,189,190,193],{},"本文中，我通过bwrap命令对运行Tim的wine程序屏蔽了simsun字体以获得了一个更为舒适的字体渲染效果。我所使用的Tim为",[88,187,188],{},"deepin-wine-tim","，至于",[88,191,192],{},"deepin-wine-qq","通过相同的方式应该也能达到相同的效果，spark商店的Tim我自己测试下来似乎是没法达到这样的效果，而使用其他方法安装simsun字体的网友们则需要注意灵活变通，不要照抄我给出的字体路径。",[16,195,196],{},"在Archlinux下，我们通常会使用deepin-wine5来运行QQ/Tim.",[16,198,199],{},"但是当我们在系统中倒入simsun字体时，无论使用什么奇迹淫巧似乎都无法阻止deepin-wine5找到simsun并优先使用它。于是，字体渲染就会变成如图这样奇奇怪怪的画风:",[16,201,202],{},[203,204],"img",{"alt":90,"src":205},"https://static.031130.xyz/uploads/2024/08/12/62f3c887040ff.webp",[16,207,208],{},"但是我并不喜欢这样的渲染效果，使用simsun渲染出来的字体总感觉有一种上世纪的风格，况且，在我的1080p小屏下显示并不清晰。",[16,210,211],{},"于是，在尝试了更改注册表、在wine容器的系统路径下直接塞入字体文件等等方式无果后，我选择了逃避——直接让wine程序读取不到simsun。",[16,213,214,215,218,219,222],{},"我的simsun是通过",[88,216,217],{},"ttf-ms-win10-zh_cn","这个包安装上去的，被安装在",[88,220,221],{},"/usr/share/fonts/TTF/","路径下。",[16,224,225,226,229],{},"使用",[88,227,228],{},"pacman -Qo /usr/share/fonts/TTF/","命令查找这个路径下所安装的字体包，我这里的输出如下:",[81,231,234],{"className":232,"code":233,"language":86},[84],"[zhullyb@Archlinux ~]$ pacman -Qo /usr/share/fonts/TTF/\n/usr/share/fonts/TTF/ is owned by ttf-cascadia-code 2102.25-1\n/usr/share/fonts/TTF/ is owned by ttf-fira-code 5.2-1\n/usr/share/fonts/TTF/ is owned by ttf-hack 3.003-3\n/usr/share/fonts/TTF/ is owned by ttf-monaco 6.1-6\n/usr/share/fonts/TTF/ is owned by ttf-ms-win10-zh_cn 2019ltsc-1\n/usr/share/fonts/TTF/ is owned by ttf-opensans 1.101-2\n",[88,235,233],{"__ignoreMap":90},[16,237,238],{},"可以看到，并没有什么对wine程序运行特别重要的字体包，于是我计划通过bwrap命令对运行Tim的wine程序直接屏蔽这个路径。",[16,240,241,242,245,246,249,250],{},"首先安装提供",[88,243,244],{},"bwrap","命令的",[88,247,248],{},"bubblewrap","程序: ",[88,251,252],{},"sudo pacman -S bubblewrap --needed",[16,254,255,256],{},"通过查找deepin-wine-tim的desktop文件发现Tim的启动命令是",[88,257,258],{},"/opt/apps/com.qq.office.deepin/files/run.sh",[16,260,261,262],{},"在终端中输入命令进行测试",[88,263,264],{},"bwrap --dev-bind / / --tmpfs /usr/share/fonts/TTF/ /opt/apps/com.qq.office.deepin/files/run.sh",[16,266,267],{},"出现如下界面，看来方法是可行的。",[16,269,270],{},[203,271],{"alt":90,"src":272},"https://static.031130.xyz/uploads/2024/08/12/62f3c88b119f8.webp",[16,274,275],{},"于是，我们进一步更改deepin-wine-tim的desktop文件，以方便我们不需要每次都在Terminal中执行这么一大长串命令。需要更改的地方如下图红色方框圈出部分",[16,277,278],{},[203,279],{"alt":90,"src":280},"https://static.031130.xyz/uploads/2024/08/12/62f3c88f41790.webp",[16,282,283],{},"我这里附一下图中的命令方便诸位复制粘贴。",[81,285,288],{"className":286,"code":287,"language":86},[84],"[zhullyb@Archlinux ~]$ cat /usr/share/applications/com.qq.office.deepin.desktop \n#!/usr/bin/env xdg-open\n\n[Desktop Entry]\nEncoding=UTF-8\nType=Application\nX-Created-By=Deepin WINE Team\nCategories=chat;Network;\nIcon=com.qq.office.deepin\nExec=bwrap --dev-bind / / --tmpfs /usr/share/fonts/TTF/ /opt/apps/com.qq.office.deepin/files/run.sh\nName=TIM\nName[zh_CN]=TIM\nComment=Tencent TIM Client on Deepin Wine\nStartupWMClass=tim.exe\nMimeType=\n",[88,289,287],{"__ignoreMap":90},{"title":90,"searchDepth":118,"depth":118,"links":291},[],{"title":293,"date":294,"path":295,"tags":296,"body":299},"在系统使用暗色主题时禁用Firefox的夜间模式","2021-04-23","/2021/04/23/disable-firefox-nightmode-when-your-system-is-using-that",[297,298],"Notes","Firefox",{"type":13,"value":300,"toc":351},[301,304,307,314,317,323,330,336,342],[16,302,303],{},"在我使用Archlinux的时候经常会使用一些暗色主题，但是我并不希望我浏览网页时一些自作聪明的网页自动切换成夜间模式。",[16,305,306],{},"这个设置我找了好久，每次在谷歌上检索都会跳出来一堆教我改Firefox主题的、用插件开夜间模式的，却都不是我的目的。",[16,308,309,310,313],{},"我们所需要做的是在浏览器地址栏输入",[88,311,312],{},"about:config","进入高级设置",[16,315,316],{},"搜索并添加一个值",[81,318,321],{"className":319,"code":320,"language":86},[84],"ui.systemUsesDarkTheme\n",[88,322,320],{"__ignoreMap":90},[16,324,325,326,329],{},"将这个选项的",[26,327,328],{},"数值","设置为0即可。",[16,331,332],{},[203,333],{"alt":334,"src":335},"步骤1","https://static.031130.xyz/uploads/2024/08/12/62f36c8f05efd.webp",[16,337,338],{},[203,339],{"alt":340,"src":341},"步骤2","https://static.031130.xyz/uploads/2024/08/12/62f36cce30773.webp",[16,343,344,345,350],{},"2021.12.13更新: Firefox 更新 95.0 以后，如果遇到原方案失效的问题，可以参考 ",[20,346,349],{"href":347,"rel":348},"https://blog.cubercsl.site/post/%E5%9C%A8%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E6%9A%97%E8%89%B2%E4%B8%BB%E9%A2%98%E6%97%B6%E7%A6%81%E6%AD%A2%E7%94%A8-firefox-%E7%9A%84%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F/",[24],"CSL的博客","。",{"title":90,"searchDepth":118,"depth":118,"links":352},[],{"title":354,"date":355,"path":356,"tags":357,"body":358},"记一次在Gitlab部署Jekyll博客时遇到的jekyll-github-metadata报错问题","2021-04-16","/2021/04/16/fuck-jekyll-github-metadata-on-gitlab",[297],{"type":13,"value":359,"toc":430},[360,363,366,371,374,380,389,415,425],[16,361,362],{},"我的博客是挂在GitlabPages上的，在为博客更换主题的时候遇到了一点点小麻烦。",[16,364,365],{},"报错如图：",[16,367,368],{},[203,369],{"alt":90,"src":370},"https://static.031130.xyz/uploads/2024/08/12/62f3caf233039.webp",[16,372,373],{},"当然，我这边也会附上详细的报错日志，以便后人能够通过关键词搜索到。",[81,375,378],{"className":376,"code":377,"language":86},[84],"Configuration file: /builds/zhullyb/test/_config.yml\n            Source: /builds/zhullyb/test\n       Destination: public\n Incremental build: disabled. Enable with --incremental\n      Generating...\n       Jekyll Feed: Generating feed for posts\n   GitHub Metadata: No GitHub API authentication could be found. Some fields may be missing or have incorrect data.\n   GitHub Metadata: Error processing value 'url':\n             ERROR: YOUR SITE COULD NOT BE BUILT:\n                    ------------------------------------\n                    No repo name found. Specify using PAGES_REPO_NWO environment variables, 'repository' in your configuration, or set up an 'origin' git remote pointing to your github.com repository.\nCleaning up file based variables 00:01\nERROR: Job failed: exit code 1\n",[88,379,377],{"__ignoreMap":90},[16,381,382,383,388],{},"经过了一番瞎折腾以后，我依然没有解决问题，而每次push都要等待gitlab的ci构建两三分钟，实在磨不动的我去看了",[20,384,387],{"href":385,"rel":386},"https://github.com/jekyll/github-metadata",[24],"jekyll-github-metadata","的README，结合上文的报错，我一下子就看懂了。",[16,390,391,393,394,397,398,397,401,397,404,407,408,411,412],{},[88,392,387],{},"可以通过github中的信息自动为jekyll提供",[88,395,396],{},"site.github","、",[88,399,400],{},"site.title",[88,402,403],{},"site.description",[88,405,406],{},"site.url","和",[88,409,410],{},"site.baseurl","。而由于我们在用的是Gitlab，所以jekyll-github-metadata就无法获取到这些信息，需要我们手动指定。报错中缺少的就是",[88,413,414],{},"url",[16,416,417,418,421,422,424],{},"于是打开",[88,419,420],{},"_config.yml","，把",[88,423,414],{},"给补上，顺便把别的变量一同加上，如图：",[16,426,427],{},[203,428],{"alt":90,"src":429},"https://static.031130.xyz/uploads/2024/08/12/62f3caf51bdb5.webp",{"title":90,"searchDepth":118,"depth":118,"links":431},[],{"title":433,"date":355,"path":434,"tags":435,"body":436},"我在Archlinux上的常用软件","/2021/04/16/the-software-i-use-on-archlinux",[297,175],{"type":13,"value":437,"toc":479},[438,446,449,452,455,458,461,464,467,470,473,476],[181,439,440,443],{},[16,441,442],{},"最近基本固定了在Archlinux上的常用软件，也供各位参考一下。",[16,444,445],{},"我是KDE用户，所以KDE家的软件会用得比较多。",[16,447,448],{},"浏览器：Firefox，Chromium备用（主要是使用chromium的网页翻译功能，还有就是打开一些对Firefox不太友好的网站）",[16,450,451],{},"下载器：curl，wget，motrix\t根据不同使用场景更换下载器",[16,453,454],{},"终端：konsole",[16,456,457],{},"输入法：fcitx5-chinese-addons",[16,459,460],{},"即时通讯：telegram，deepin-wine-tim，deepin-wine-wechat，electron-qq，wechat-uos，linuxqq",[16,462,463],{},"播放器：vlc",[16,465,466],{},"编辑器：nano，kate，visual-studio-code-bin，typora，wps",[16,468,469],{},"图形类：pinta，drawio-desktop-bin，imagemagick",[16,471,472],{},"文件管理器：dolphin",[16,474,475],{},"文件传输：sftp（命令行里的），filezilla",[16,477,478],{},"系统、网络工具：latte-dock-git，v2raya，htop，gtop",{"title":90,"searchDepth":118,"depth":118,"links":480},[],{"title":482,"date":483,"path":484,"tags":485,"body":486},"使用Chrome的同步api为chromium开启同步功能","2021-04-15","/2021/04/15/login-chromium-with-the-api-of-chrome",[297],{"type":13,"value":487,"toc":704},[488,491,498,508,535,538,543,554,632,646,652,701],[16,489,490],{},"今年两三月的时候，Google限制了chromium的同步api次数，导致各个发行版内置的chromium将不再能继续使用Google的数据同步功能。",[16,492,493,494],{},"今天在翻 archlinuxcn 的群组的时候翻到了一段脚本: ",[20,495,496],{"href":496,"rel":497},"https://gist.github.com/foutrelis/14e339596b89813aa9c37fd1b4e5d9d5",[24],[16,499,500,501,407,504,507],{},"大意就是说，由于Archlinux特殊的chromium启动方式导致我们可以在设置",[88,502,503],{},"oauth2-client-id",[88,505,506],{},"oauth2-client-secret","的情况下通过chrome的同步api继续使用Google的同步服务，说得太多了也没必要，毕竟原文就在那里，看不看取决于你，我这里直接给命令吧。",[81,509,513],{"className":510,"code":511,"language":512,"meta":90,"style":90},"language-shell shiki shiki-themes one-light one-dark-pro","echo \"--oauth2-client-id=77185425430.apps.googleusercontent.com\n--oauth2-client-secret=OTJgUOQcT7lO7GsGZq2G4IlT\" >> ~/.config/chromium-flags.conf\n","shell",[88,514,515,524],{"__ignoreMap":90},[108,516,517,521],{"class":110,"line":111},[108,518,520],{"class":519},"s_Sar","echo",[108,522,523],{"class":144}," \"--oauth2-client-id=77185425430.apps.googleusercontent.com\n",[108,525,526,529,532],{"class":110,"line":118},[108,527,528],{"class":144},"--oauth2-client-secret=OTJgUOQcT7lO7GsGZq2G4IlT\"",[108,530,531],{"class":114}," >> ",[108,533,534],{"class":144},"~/.config/chromium-flags.conf\n",[16,536,537],{},"再次打开chromium,你就会发现你心心念念的同步功能回来了。",[16,539,540],{},[203,541],{"alt":90,"src":542},"https://static.031130.xyz/uploads/2024/08/12/62f3cafe4a5ec.webp",[16,544,545],{},[51,546,547,548,553],{},"然而，并不是所有的发行版都像 Archlinux 这样考虑到 oauth，我们也不可能像 Archlinux 官方那样有这个闲情雅致为没一个 Chromium 去添加这个 ",[20,549,552],{"href":550,"rel":551},"https://github.com/archlinux/svntogit-packages/blob/packages/chromium/trunk/use-oauth2-client-switches-as-default.patch",[24],"patch"," 以后重新编译一遍，大部分人都是直接用发行版源里的。针对这种情况，我们可以直接手写一个脚本",[81,555,559],{"className":556,"code":557,"language":558,"meta":90,"style":90},"language-bash shiki shiki-themes one-light one-dark-pro","#!/usr/bin/bash\nexport GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com\nexport GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT\nexec /usr/bin/chromium-browser \"$@\"     # 我用的 Fedora 的启动命令是 chromium-browser，别的发行版用户还请自行调整\n","bash",[88,560,561,567,599,611],{"__ignoreMap":90},[108,562,563],{"class":110,"line":111},[108,564,566],{"class":565},"sW2Sy","#!/usr/bin/bash\n",[108,568,569,573,576,580,583,586,589,591,594,596],{"class":110,"line":118},[108,570,572],{"class":571},"sLKXg","export",[108,574,575],{"class":121}," GOOGLE_DEFAULT_CLIENT_ID",[108,577,579],{"class":578},"sknuh","=",[108,581,582],{"class":121},"77185425430",[108,584,585],{"class":114},".",[108,587,588],{"class":121},"apps",[108,590,585],{"class":114},[108,592,593],{"class":121},"googleusercontent",[108,595,585],{"class":114},[108,597,598],{"class":121},"com\n",[108,600,601,603,606,608],{"class":110,"line":3},[108,602,572],{"class":571},[108,604,605],{"class":121}," GOOGLE_DEFAULT_CLIENT_SECRET",[108,607,579],{"class":578},[108,609,610],{"class":121},"OTJgUOQcT7lO7GsGZq2G4IlT\n",[108,612,613,616,619,622,626,629],{"class":110,"line":135},[108,614,615],{"class":519},"exec",[108,617,618],{"class":144}," /usr/bin/chromium-browser",[108,620,621],{"class":144}," \"",[108,623,625],{"class":624},"s8iYz","$@",[108,627,628],{"class":144},"\"",[108,630,631],{"class":565},"     # 我用的 Fedora 的启动命令是 chromium-browser，别的发行版用户还请自行调整\n",[16,633,634,635,638,639,642,643,645],{},"当我满心欢喜地把脚本扔进 ",[88,636,637],{},"$HOME/.local/bin"," 后，我却突然发现 Fedora 官方源中把 chromium 的启动命令写死在了 ",[88,640,641],{},"/usr/bin/chromium-browser","，如果直接去改 ",[88,644,641],{}," 的话，每次更新都会被覆盖。",[16,647,648,651],{},[26,649,650],{},"正确的做法","应该是把 desktop 文件复制一份到桌面，再去改内容。",[81,653,655],{"className":556,"code":654,"language":558,"meta":90,"style":90},"mkdir -p $HOME/.local/share/applications/\ncp /usr/share/applications/chromium-browser.desktop $HOME/.local/share/applications/\nsed -i \"s|/usr/bin/chromium-browser|GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT /usr/bin/chromium-browser|g\" $HOME/.local/share/applications/chromium-browser.desktop\n",[88,656,657,673,685],{"__ignoreMap":90},[108,658,659,663,667,670],{"class":110,"line":111},[108,660,662],{"class":661},"sAdtL","mkdir",[108,664,666],{"class":665},"sAGMh"," -p",[108,668,669],{"class":121}," $HOME",[108,671,672],{"class":144},"/.local/share/applications/\n",[108,674,675,678,681,683],{"class":110,"line":118},[108,676,677],{"class":661},"cp",[108,679,680],{"class":144}," /usr/share/applications/chromium-browser.desktop",[108,682,669],{"class":121},[108,684,672],{"class":144},[108,686,687,690,693,696,698],{"class":110,"line":3},[108,688,689],{"class":661},"sed",[108,691,692],{"class":665}," -i",[108,694,695],{"class":144}," \"s|/usr/bin/chromium-browser|GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT /usr/bin/chromium-browser|g\"",[108,697,669],{"class":121},[108,699,700],{"class":144},"/.local/share/applications/chromium-browser.desktop\n",[165,702,703],{},"html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sknuh, html code.shiki .sknuh{--shiki-default:#383A42;--shiki-dark:#56B6C2}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}",{"title":90,"searchDepth":118,"depth":118,"links":705},[],{"title":707,"date":708,"path":709,"tags":710,"body":711},"Appimage的文件储存在哪里","2021-04-13","/2021/04/13/where-will-appimage-put-its-file",[297],{"type":13,"value":712,"toc":743},[713,716,721,724,729,732],[16,714,715],{},"我不饿：",[181,717,718],{},[16,719,720],{},"有人知道怎么删除appimage的用户数据吗？",[16,722,723],{},"liolok | 李皓奇:",[181,725,726],{},[16,727,728],{},"还是可以在用户的家目录下面乱写的吧",[16,730,731],{},"Lipis Apple:",[181,733,734,737,740],{},[16,735,736],{},"不太讲武德：~/.local/share/(app)",[16,738,739],{},"算讲武德：~/.config/(app)",[16,741,742],{},"不讲武德：~/.(app)",{"title":90,"searchDepth":118,"depth":118,"links":744},[],{"title":746,"date":747,"path":748,"tags":749,"body":750},"使用Motrix接管Firefox的下载","2021-04-11","/2021/04/11/use-motrix-install-of-firefox-to-download",[297],{"type":13,"value":751,"toc":788},[752,757,760,763,766,775,778],[181,753,754],{},[16,755,756],{},"本文是一篇个人笔记，不具有太强的技术性，仅仅是为后来者指个方向。",[16,758,759],{},"熟悉我的人都知道，我是一个Firefox的忠实用户，原因有二：",[16,761,762],{},"​\t一/ Firefox国际版同步功能国内可用",[16,764,765],{},"​\t二/ moz://a（Firefox用户应该能在地址栏直接访问这个链接）",[16,767,768,769,774],{},"但是Motrix没有推出适用于Firefox的接管浏览器下载功能的插件，于是只能用",[20,770,773],{"href":771,"rel":772},"https://addons.mozilla.org/firefox/addon/aria2-integration",[24],"aria2的插件","。这个插件内置了AriaNG,对于aria2用户来说会比较实用，但是对于Motrix用户而言其实功能有些多余且不兼容，比如什么自动启动aria2什么的是无法实现的。",[16,776,777],{},"主要的配置过程我就图解了，退出前记得保存配置。",[16,779,780,784],{},[203,781],{"alt":782,"src":783},"step 1","https://static.031130.xyz/uploads/2024/08/12/62f36d3a79438.webp",[203,785],{"alt":786,"src":787},"step 2","https://static.031130.xyz/uploads/2024/08/12/62f36d3d08a23.webp",{"title":90,"searchDepth":118,"depth":118,"links":789},[],{"title":791,"date":792,"path":793,"tags":794,"body":795},"yay进阶","2021-04-04","/2021/04/04/yay-more",[175],{"type":13,"value":796,"toc":1989},[797,815,820,825,829,845,850,860,865,876,882,885,890,918,925,934,940,953,956,962,965,971,981,987,990,996,999,1005,1008,1014,1017,1023,1034,1040,1043,1049,1055,1058,1064,1075,1081,1091,1097,1104,1113,1119,1122,1128,1131,1135,1138,1144,1150,1157,1163,1170,1176,1179,1185,1188,1194,1197,1200,1203,1206,1212,1215,1221,1224,1230,1233,1239,1242,1248,1255,1261,1264,1270,1273,1276,1282,1285,1291,1294,1300,1303,1306,1312,1317,1323,1329,1332,1338,1341,1347,1350,1360,1366,1369,1375,1378,1381,1384,1391,1394,1400,1403,1409,1415,1421,1424,1427,1433,1436,1442,1445,1451,1455,1461,1463,1466,1472,1475,1481,1484,1490,1495,1501,1503,1506,1512,1515,1521,1524,1530,1535,1541,1543,1546,1552,1555,1561,1564,1570,1573,1576,1582,1585,1591,1594,1597,1603,1606,1612,1615,1618,1624,1627,1633,1636,1639,1645,1648,1654,1657,1661,1664,1669,1676,1682,1685,1688,1693,1696,1702,1705,1708,1713,1716,1722,1725,1731,1734,1737,1742,1745,1751,1754,1760,1763,1769,1772,1775,1780,1783,1789,1792,1795,1800,1803,1809,1812,1815,1821,1824,1830,1833,1836,1842,1845,1851,1862,1880,1883,1899,1905,1915,1921,1930,1936,1939,1945,1948,1954,1957,1963,1966,1969,1975,1986],[181,798,799,802,805,808],{},[16,800,801],{},"yay是一个AUR Helper，他可以执行pacman的几乎所有操作，并在此基础上添加了很多额外用法。",[16,803,804],{},"我没有在网络上查找到关于yay的、除了pacman基础用法和安装AUR包以外的中文教程，英文的也几乎没有看到，这也是我写这篇文章的原因所在。",[16,806,807],{},"本文通篇详讲yay的每一个设置/选项（大概就是archwiki那种干涩的行文思路），最后会给出我自己的一些常用命令，但不会做解释。",[16,809,810,811,814],{},"写作时参考了yay的英文使用手册，如果你的arch安装了yay，那么即可通过",[88,812,813],{},"man yay","命令随时查阅它。",[16,816,817],{},[26,818,819],{},"Tips1: 本文中出现的foo一般是指包名，标注*的表示该选项默认启用。",[16,821,822],{},[26,823,824],{},"Tips2: 使用电脑端的访客可以在侧栏以获取目录。",[826,827,828],"h2",{"id":828},"基本用法",[16,830,831,832,397,835,407,838,841,842,844],{},"yay的基本用法是",[88,833,834],{},"yay \u003Coperation> [options] [targets]",[88,836,837],{},"yay foo",[88,839,840],{},"yay","，",[88,843,834],{},"的用法可以讨论的点比较多，我会在后文中一一道来。",[846,847,848],"h3",{"id":840},[88,849,840],{},[16,851,852,853,855,856,859],{},"当我们仅执行",[88,854,840],{},"，后面不跟任何参数时，yay会执行操作",[88,857,858],{},"yay -Syu","，他会先调用pacman更新源的数据库、更新所有从源内安装的软件包，并检查你的AUR包有没有更新。",[846,861,863],{"id":862},"yay-foo",[88,864,837],{},[16,866,867,868,871,872,875],{},"通过yay后面直接跟包名的命令会让yay直接在源和AUR内搜索带有",[88,869,870],{},"foo","关键词的包（包名和简介中只要出现foo都会被一网打尽），以下是我执行",[88,873,874],{},"yay dingtalk","的输出",[81,877,880],{"className":878,"code":879,"language":86},[84],"5 aur/com.dingtalk.deepin 5.0.15deepin7-1 (+0 0.00)\n    Deepin Wine dingtalk\n4 aur/deepin.com.dingtalk.com 5.1.28.12-2 (+1 0.12)\n    DingTalk Client on Deepin Wine\n3 aur/dingtalk 2.1.3-1 (+3 0.00)\n    钉钉桌面版，基于electron和钉钉网页版开发，支持Windows、Linux和macOS\n2 aur/dingtalk-linux 3.5.5-1 (+6 0.12)\n    May be the official Linux experimental version\n1 aur/dingtalk-electron 2.1.9-1 (+9 0.15)\n    钉钉Linux版本\n==> Packages to install (eg: 1 2 3, 1-3 or ^4)\n==\n",[88,881,879],{"__ignoreMap":90},[16,883,884],{},"输入每一项对应的序号即可进入相应的安装过程。",[846,886,888],{"id":887},"yay-operation-options-targets",[88,889,834],{},[16,891,892,893,407,896,899,900,902,903,906,907,910,911,407,914,917],{},"在这里，\u003Coperation>每次只能有一个，",[108,894,895],{},"options",[108,897,898],{},"targets","可以有多个，且多个",[108,901,895],{},"可以合起来写在一起。比如",[88,904,905],{},"yay -P -s -f","可以直接写成",[88,908,909],{},"yay -Psf","，顺序也可以颠倒，",[88,912,913],{},"-Psf",[88,915,916],{},"-sPf","没区别。",[919,920,922],"h4",{"id":921},"y-yay",[88,923,924],{},"-Y (--yay)",[16,926,927,928,407,931,350],{},"-Y行为其实是yay的默认行为，当你没有加其他的行为参数时，yay就会执行-Y参数，可以跟",[88,929,930],{},"--gendb",[88,932,933],{},"-c",[935,936,938],"h5",{"id":937},"gendb",[88,939,930],{},[16,941,942,943,946],{},"生成AUR数据库。",[26,944,945],{},"仅当从另一个AUR Helper迁移到yay时，才应使用此选项。",[51,947,948,949,952],{},"（根据我的个人理解，是根据你Arch内安装的源内找不到的包的包名去AUR里寻找对应的PKGBUILD，并且把能找到的PKGBUILD给clone到",[88,950,951],{},"~/.cache/yay/","目录下）",[16,954,955],{},"千玄子大佬说：“简单说来就是把在 AUR 的 PKGBUILD 下下来然后比对是否要更新。”",[935,957,959],{"id":958},"c-clean",[88,960,961],{},"-c（--clean）",[16,963,964],{},"清除不再需要的、没有被依赖的包。（相当于apt中的autoremove）",[919,966,968],{"id":967},"p-show",[88,969,970],{},"-P(--show)",[16,972,973,974,977,978],{},"执行特定的Print操作。可以跟的",[108,975,976],{},"option","有",[88,979,980],{},"-c、-f、-d、-g、-n、-s、-u、-w、-q",[935,982,984],{"id":983},"c-complete",[88,985,986],{},"-c(--complete)",[16,988,989],{},"Print所有源内和AUR软件包的列表。这是给命令行操作提供的，并不打算由用户直接使用。（意思是启用了这个选项以后你的终端会出现一大串长常的列表来告诉你你的Arch到底可以从哪里安装哪些包，并不是直接给你用的，是作为数据留给别的命令来玩耍的）",[935,991,993],{"id":992},"f-fish",[88,994,995],{},"-f(--fish)",[16,997,998],{},"在输出结果到终端时，会专门为fish用户做微调。（但是根据SamLukeYes大佬说他用fish体验下来并没有感知到加不加有什么区别，应该是属于感知不强的选项）",[935,1000,1002],{"id":1001},"d-defaultconfig",[88,1003,1004],{},"-d(--defaultconfig)",[16,1006,1007],{},"Print默认的yay配置。",[935,1009,1011],{"id":1010},"g-currentconfig",[88,1012,1013],{},"-g(--currentconfig)",[16,1015,1016],{},"Print当前的yay配置。",[935,1018,1020],{"id":1019},"n-numberupgrades",[88,1021,1022],{},"-n(--numberupgrades)",[16,1024,1025,1026,1029,1030,1033],{},"数一数你现在还有多少AUR包待更新。yay作者不推荐你使用呢，他推荐你用",[88,1027,1028],{},"yay -Qu","或者",[88,1031,1032],{},"wc -l","来代替它。",[935,1035,1037],{"id":1036},"s-stats",[88,1038,1039],{},"-s(--stats)",[16,1041,1042],{},"会展示一大堆信息，如下",[81,1044,1047],{"className":1045,"code":1046,"language":86},[84],"[zhullyb@Archlinux ~]$ yay -Ps\n==> Yay version v10.2.0                             #yay版本\n===========================================\n==> Total installed packages: 1240                  #总共安装了多少包\n==> Total foreign installed packages: 24            #多少包不是从源里安装的\n==> Explicitly installed packages: 271              #有多少包是你自己主动安装的(而不是作为依赖安装的)\n==> Total Size occupied by packages: 14.3 GiB       #安装的所有包合在一起一共占了你多少空间\n===========================================\n==> Ten biggest packages:                           #十个体积最大的包\nwps-office-cn: 990.9 MiB\nttf-sarasa-gothic: 855.5 MiB\nlinux-firmware: 652.3 MiB\nbaidunetdisk-bin: 494.7 MiB\ncom.antutu.benchmark: 412.0 MiB\nwine: 402.2 MiB\nlinux-xanmod-cacule-uksm-cjktty: 324.4 MiB\nmicrosoft-edge-dev-bin: 316.4 MiB\nwine-mono: 316.2 MiB\ndeepin-wine5-i386: 259.5 MiB\n===========================================\n:: Querying AUR...\n -> Missing AUR Packages:  zhullyb-archlinux-git    #AUR里找不到的包\n -> Flagged Out Of Date AUR Packages:  xml2         #AUR中被人标注过期的包\n",[88,1048,1046],{"__ignoreMap":90},[935,1050,1052],{"id":1051},"u-upgrades",[88,1053,1054],{},"-u(--upgrades)",[16,1056,1057],{},"展示你所有待更新的包。",[935,1059,1061],{"id":1060},"w-news",[88,1062,1063],{},"-w(--news)",[16,1065,1066,1067,1070,1071,1074],{},"展示来自archlinux.org的新闻。需要注意的是，这里的新闻是具有时效性的，只有在你的Arch最后一次更新以后发出来的新闻才会被显示出来。如果你不想要yay判断新闻时效性，你可以通过",[88,1068,1069],{},"yay -Pww","（即两个",[88,1072,1073],{},"w","）来获取所有能获得的新闻。",[935,1076,1078],{"id":1077},"q-quiet",[88,1079,1080],{},"-q(--quiet)",[16,1082,1083,1084,1087,1088,350],{},"在输出新闻的时候，仅输出新闻的标题。该功能需要与",[88,1085,1086],{},"-w","连用，即",[88,1089,1090],{},"yay -Pwq",[919,1092,1094],{"id":1093},"g-getpkgbuild",[88,1095,1096],{},"-G(--getpkgbuild)",[16,1098,1099,1100,1103],{},"后跟包名。需要注意的是，如果指定的包不存在于官方源，则无法输出，后跟",[88,1101,1102],{},"-f、-p","参数。",[16,1105,1106],{},[1107,1108,1109,1110,1103],"em",{},"如果希望仅获取来自AUR（即排除第三方源的干扰）的PKGBUILD，后需跟",[88,1111,1112],{},"-a",[935,1114,1116],{"id":1115},"f-force",[88,1117,1118],{},"-f(--force)",[16,1120,1121],{},"强制下载AUR中的PKGBUILD，如果它在yay缓存目录已经存在了，那就覆盖它！",[935,1123,1125],{"id":1124},"p-print",[88,1126,1127],{},"-p(--print)",[16,1129,1130],{},"Print指定包的PKGBUILD。",[846,1132,1134],{"id":1133},"pacman-拓展用法","pacman 拓展用法",[16,1136,1137],{},"yay虽然可以使用pacman的所有\u003Coperation>，但是它远不仅于此。在这一段，我将向你介绍yay中包含的那些pacman不包括的pacman \u003Coperation",[919,1139,1141],{"id":1140},"s",[88,1142,1143],{},"-S",[935,1145,1147],{"id":1146},"s-si-sl-ss-su-sc-qu",[88,1148,1149],{},"-S, -Si, -Sl, -Ss, -Su, -Sc, -Qu",[16,1151,1152,1153,1156],{},"这些操作pacman都支持，而与pacman不同的是，yay的这些操作可以涵盖到",[26,1154,1155],{},"官方源/第三方源和AUR","中的所有包。",[919,1158,1160],{"id":1159},"sc",[88,1161,1162],{},"-Sc",[16,1164,1165,1166,1169],{},"yay将会清除AUR包构建时的缓存和没有被track的文件。没有被track的文件在这里指AUR包构建时下载的sources或者构建完成的pkg包，但是vcs sources会被保留（比如.",[88,1167,1168],{},"git","文件夹）",[919,1171,1173,1174],{"id":1172},"全局的options","全局的",[108,1175,895],{},[16,1177,1178],{},"全局是指在所有\u003Coperation>下都可以加啦。",[935,1180,1182],{"id":1181},"repo",[88,1183,1184],{},"--repo",[16,1186,1187],{},"假定你给出的包名只存在源里（忽视AUR的存在）",[935,1189,1191],{"id":1190},"a-aur",[88,1192,1193],{},"-a(--aur)",[16,1195,1196],{},"假定你给出的包名只存在AUR中（忽视源的存在）",[826,1198,1199],{"id":1199},"配置设置",[16,1201,1202],{},"原版的man手册排的比较混乱，我这里自己细分了几个类型，或许不是特别专业，但我希望能够帮助你们理解。",[846,1204,1205],{"id":1205},"自定义调用命令型",[935,1207,1209],{"id":1208},"editor-command",[88,1210,1211],{},"--editor \u003Ccommand>",[16,1213,1214],{},"设置编辑时调用的编辑器。",[935,1216,1218],{"id":1217},"makepkg-command",[88,1219,1220],{},"--makepkg \u003Ccommand>",[16,1222,1223],{},"设置makepkg时需要调用makepkg命令（一般情况下用不到）",[935,1225,1227],{"id":1226},"pacman-command",[88,1228,1229],{},"--pacman \u003Ccommand>",[16,1231,1232],{},"设置运行pacman时需要调用pacman命令（一般情况下用不到）",[935,1234,1236],{"id":1235},"tar-command",[88,1237,1238],{},"--tar \u003Ccommand>",[16,1240,1241],{},"设置makepkg解压tar资源时调用的tar命令（一般情况下用不到）",[935,1243,1245],{"id":1244},"git-command",[88,1246,1247],{},"--git \u003Ccommand>",[16,1249,1250,1251,1254],{},"设置makepkg clone git资源时调用的git命令（比如你可以安装AUR中的fgit-go，使用",[88,1252,1253],{},"--git fgit","参数来让fastgit代理clone的过程）",[935,1256,1258],{"id":1257},"gpg-command",[88,1259,1260],{},"--gpg \u003Ccommand>",[16,1262,1263],{},"设置gpg验证资源时调用的gpg命令",[935,1265,1267],{"id":1266},"sudo-command",[88,1268,1269],{},"--sudo \u003Ccommand>",[16,1271,1272],{},"设置调用sudo获取su权限安装pkg时所调用的sudo命令。",[846,1274,1275],{"id":1275},"自定义配置文件型",[935,1277,1279],{"id":1278},"config-file",[88,1280,1281],{},"--config \u003Cfile>",[16,1283,1284],{},"设置读取的pacman配置文件。",[935,1286,1288],{"id":1287},"makepkgconf-file",[88,1289,1290],{},"--makepkgconf \u003Cfile>",[16,1292,1293],{},"设置读取的makepkg配置文件。",[935,1295,1297],{"id":1296},"nomakepkgconf",[88,1298,1299],{},"--nomakepkgconf",[16,1301,1302],{},"不读取系统中的makepkg.conf，仅使用Arch默认状态下的配置文件。",[846,1304,1305],{"id":1305},"自定义路径类型",[935,1307,1309],{"id":1308},"builddir-dir",[88,1310,1311],{},"--builddir \u003Cdir>",[16,1313,1314,1315],{},"设置build路径，默认路径为",[88,1316,951],{},[935,1318,1320],{"id":1319},"absdir-dir",[88,1321,1322],{},"--absdir \u003Cdir>",[16,1324,1325,1326],{},"设置abs路径，默认路径为",[88,1327,1328],{},"~/.cache/yay/abs/",[846,1330,1331],{"id":1331},"参数传递型",[935,1333,1335],{"id":1334},"editorflags-flags",[88,1336,1337],{},"--editorflags \u003Cflags>",[16,1339,1340],{},"后跟需要跟随传递给编辑器的参数。如果需要传递多个参数，可以使用引号。",[935,1342,1344],{"id":1343},"mflags-flags",[88,1345,1346],{},"--mflags \u003Cflags>",[16,1348,1349],{},"后跟需要跟随传递给makepkg的参数。如果需要传递多个参数，可以使用引号。",[16,1351,1352,1353,1355,1356,1359],{},"这个用的人不多，但其实是非常好用的一个功能。在我们安装",[88,1354,188],{},"等包的时候，很可能会遇到文件明明完整但checksum不通过的情况，这时我们可以跟一个",[88,1357,1358],{},"--skipchecksums","参数传递给makepkg以跳过checksum的过程。",[935,1361,1363],{"id":1362},"gpgflags-flags",[88,1364,1365],{},"--gpgflags \u003Cflags>",[16,1367,1368],{},"后跟需要跟随传递给pgp的参数。如果需要传递多个参数，可以使用引号。",[935,1370,1372],{"id":1371},"sudoflags-flags",[88,1373,1374],{},"--sudoflags \u003Cflags>",[16,1376,1377],{},"后跟需要跟随传递给sudo的参数。如果需要传递多个参数，可以使用引号。",[846,1379,1380],{"id":1380},"菜单配置型",[919,1382,1383],{"id":1383},"clean菜单",[935,1385,1387,1388],{"id":1386},"cleanmenu","*",[88,1389,1390],{},"--cleanmenu",[16,1392,1393],{},"启用清除询问菜单。（询问你是否需要清除已存在的文件）",[935,1395,1397],{"id":1396},"nocleanmenu",[88,1398,1399],{},"--nocleanmenu",[16,1401,1402],{},"禁用清除询问菜单。（不询问你是否需要清除已存在的文件）",[935,1404,1406],{"id":1405},"answerclean",[88,1407,1408],{},"--answerclean",[16,1410,1411,1412,1103],{},"自动回答cleanmenu，后跟",[88,1413,1414],{},"\u003CAll|None|Installed|NotInstalled>",[935,1416,1387,1418],{"id":1417},"noanswerclean",[88,1419,1420],{},"--noanswerclean",[16,1422,1423],{},"不设置自动回答。",[919,1425,1426],{"id":1426},"diff菜单",[935,1428,1387,1430],{"id":1429},"diffmenu",[88,1431,1432],{},"--diffmenu",[16,1434,1435],{},"启用对比询问菜单。（询问你是否需要对比本地文件和AUR文件）",[935,1437,1439],{"id":1438},"nodiffmenu",[88,1440,1441],{},"--nodiffmenu",[16,1443,1444],{},"禁用对比询问菜单。（不询问你是否需要对比本地文件和AUR文件）",[935,1446,1448],{"id":1447},"answerdiff",[88,1449,1450],{},"--answerdiff",[16,1452,1411,1453,1103],{},[88,1454,1414],{},[935,1456,1387,1458],{"id":1457},"noanswerdiff",[88,1459,1460],{},"--noanswerdiff",[16,1462,1423],{},[919,1464,1465],{"id":1465},"edit菜单",[935,1467,1469],{"id":1468},"editmenu",[88,1470,1471],{},"--editmenu",[16,1473,1474],{},"启用修改询问菜单。（询问你是否需要修改PKGBUILD以及相关文件）",[935,1476,1387,1478],{"id":1477},"noeditmenu",[88,1479,1480],{},"--noeditmenu",[16,1482,1483],{},"禁用修改询问菜单。（不询问你是否需要修改PKGBUILD以及相关文件）",[935,1485,1487],{"id":1486},"answeredit",[88,1488,1489],{},"--answeredit",[16,1491,1492,1493,1103],{},"自动回答editmenu，后跟",[88,1494,1414],{},[935,1496,1387,1498],{"id":1497},"noansweredit",[88,1499,1500],{},"--noansweredit",[16,1502,1423],{},[919,1504,1505],{"id":1505},"upgrade菜单",[935,1507,1387,1509],{"id":1508},"upgrademenu",[88,1510,1511],{},"--upgrademenu",[16,1513,1514],{},"启用更新询问菜单。（询问你是否需要更新AUR包）",[935,1516,1518],{"id":1517},"noupgrademenu",[88,1519,1520],{},"--noupgrademenu",[16,1522,1523],{},"禁用更新询问菜单。（不询问你是否需要更新AUR包）",[935,1525,1527],{"id":1526},"answerupgrade",[88,1528,1529],{},"--answerupgrade",[16,1531,1532,1533,1103],{},"自动回答upgrademenu，后跟",[88,1534,1414],{},[935,1536,1387,1538],{"id":1537},"noanswerupgrade",[88,1539,1540],{},"--noanswerupgrade",[16,1542,1423],{},[919,1544,1545],{"id":1545},"removemake菜单",[935,1547,1387,1549],{"id":1548},"askremovemake",[88,1550,1551],{},"--askremovemake",[16,1553,1554],{},"在编译结束后，询问是否删除make depend。",[935,1556,1558],{"id":1557},"removemake",[88,1559,1560],{},"--removemake",[16,1562,1563],{},"在编译结束后，删除make depend。",[935,1565,1567],{"id":1566},"noremovemake",[88,1568,1569],{},"--noremovemake",[16,1571,1572],{},"在编译结束后，不删除make depend。",[919,1574,1575],{"id":1575},"provides菜单",[935,1577,1387,1579],{"id":1578},"provides",[88,1580,1581],{},"--provides",[16,1583,1584],{},"搜索AUR包时，一同寻找其在AUR上的依赖程序。 当找到多个提供该依赖的包时，将出现一个菜单，提示您选择一个。尽管这不会引起注意，但这会增加依赖项解决时间。",[935,1586,1588],{"id":1587},"noprovides",[88,1589,1590],{},"--noprovides",[16,1592,1593],{},"搜索AUR包时，不在AUR上寻找其依赖程序。尽管yay不会再次弹出依赖菜单供你选择，yay调用pacman时依然会出现pacman的选择菜单让你选择。",[919,1595,1596],{"id":1596},"pgpfetch菜单",[935,1598,1387,1600],{"id":1599},"pgpfetch",[88,1601,1602],{},"--pgpfetch",[16,1604,1605],{},"询问你是否从每个PKGBUILD的validpgpkeys字段导入未知的PGP密钥。",[935,1607,1609],{"id":1608},"nopgpfetch",[88,1610,1611],{},"--nopgpfetch",[16,1613,1614],{},"不自动导入陌生的PGP密钥。",[919,1616,1617],{"id":1617},"useask选项",[935,1619,1387,1621],{"id":1620},"useask",[88,1622,1623],{},"--useask",[16,1625,1626],{},"调用pacman的--ask询问用户是否删除系统中与当前包冲突的软件包。",[935,1628,1630],{"id":1629},"nouseask",[88,1631,1632],{},"--nouseask",[16,1634,1635],{},"不调用pacman的--ask询问用户是否删除系统中与当前包冲突的软件包，遇到冲突的软件包时直接报错，由用户来手动解决。",[919,1637,1638],{"id":1638},"combinedupgrade菜单",[935,1640,1642],{"id":1641},"combinedupgrade",[88,1643,1644],{},"--combinedupgrade",[16,1646,1647],{},"在系统更新期间，将源内包和AUR包的更新菜单合并到一起。",[935,1649,1387,1651],{"id":1650},"nocombinedupgrade",[88,1652,1653],{},"--nocombinedupgrade",[16,1655,1656],{},"在系统更新期间，先支持源内包的升级，完成后再进行AUR包的升级。",[846,1658,1660],{"id":1659},"t-or-f-型","T or F 型",[919,1662,1663],{"id":1663},"devel",[935,1665,1666],{"id":1663},[88,1667,1668],{},"--devel",[16,1670,1671,1672,1675],{},"在系统更新期间，检查AUR的vcs包是否有更新，当前仅支持AUR的-git包。 devel查询是使用",[88,1673,1674],{},"git ls-remote","对比安装时和现在最新的commit_id完成的。",[935,1677,1387,1679],{"id":1678},"nodevel",[88,1680,1681],{},"--nodevel",[16,1683,1684],{},"在系统更新期间， 不检查AUR的vcs包是否有更新。",[919,1686,1687],{"id":1687},"timeupdate",[935,1689,1690],{"id":1687},[88,1691,1692],{},"--timeupdate",[16,1694,1695],{},"在系统更新期间，将已安装软件包的构建时间与每个软件包的AUR的最后修改时间进行比较。",[935,1697,1387,1699],{"id":1698},"notimeupdate",[88,1700,1701],{},"--notimeupdate",[16,1703,1704],{},"在系统更新期间，不将已安装软件包的构建时间与每个软件包的AUR的最后修改时间进行比较。",[919,1706,1707],{"id":1707},"redownload",[935,1709,1710],{"id":1707},[88,1711,1712],{},"--redownload",[16,1714,1715],{},"就算PKGBUILD已经存在，也要重新从AUR上获取一份新的PKGBUILD并覆盖原有PKGBUILD。",[935,1717,1719],{"id":1718},"redownloadall",[88,1720,1721],{},"--redownloadall",[16,1723,1724],{},"就算PKGBUILD已经存在，也要重新从AUR上获取所有AUR包的PKGBUILD并覆盖原有PKGBUILD。",[935,1726,1387,1728],{"id":1727},"noredownload",[88,1729,1730],{},"--noredownload",[16,1732,1733],{},"当下载PKGBUILD时，，如果发现cache中的PKGBUILD版本＞＝AUR上的版本时，直接使用本地的PKGBUILD。",[919,1735,1736],{"id":1736},"rebuild",[935,1738,1739],{"id":1736},[88,1740,1741],{},"--rebuild",[16,1743,1744],{},"即使在cache中有可用的二进制包的情况下，也始终要重新编译目标软件包。",[935,1746,1748],{"id":1747},"rebuildall",[88,1749,1750],{},"--rebuildall",[16,1752,1753],{},"即使在cache中有可用的二进制包的情况下，也始终要重新编译所有的AUR包。",[935,1755,1757],{"id":1756},"rebuildtree",[88,1758,1759],{},"--rebuildtree",[16,1761,1762],{},"安装AUR包时，以递归方式重新编译并重新安装其所有AUR依赖包，即使已安装的依赖项也是如此。 该选项使您可以轻松地针对当前系统的库重新构建软件包，如果它们变得不兼容。（比如python3.8->3.9）",[935,1764,1387,1766],{"id":1765},"norebuild",[88,1767,1768],{},"--norebuild",[16,1770,1771],{},"构建软件包时，如果在缓存中找到该软件包并且该软件包与想要的软件包的版本相同，则跳过软件包的编译过程并使用现有的二进制程序。",[919,1773,1774],{"id":1774},"sudoloop",[935,1776,1777],{"id":1774},[88,1778,1779],{},"--sudoloop",[16,1781,1782],{},"在后台循环调用sudo，以防止sudo授权在长时间构建期间超时。",[935,1784,1387,1786],{"id":1785},"nosudoloop",[88,1787,1788],{},"--nosudoloop",[16,1790,1791],{},"不在后台循环调用sudo，可能会导致sudo授权在长时间构建期间超时。",[919,1793,1794],{"id":1794},"batchinstall",[935,1796,1797],{"id":1794},[88,1798,1799],{},"--batchinstall",[16,1801,1802],{},"在构建和安装AUR包时，对每个软件包的安装进行排序，而并非在构建之后立刻安装每个软件包时。 需要注意的是，一旦构建了所有软件包，或者需要构建队列中的软件包作为构建另一个软件包的依赖项，应当在安装队列中安装所有软件包。",[935,1804,1387,1806],{"id":1805},"nobatchinstall",[88,1807,1808],{},"--nobatchinstall",[16,1810,1811],{},"在构建AUR包成功后立即安装。",[919,1813,1814],{"id":1814},"clearafter",[935,1816,1818],{"id":1817},"cleanafter",[88,1819,1820],{},"--cleanafter",[16,1822,1823],{},"在构建AUR包完成以后清除cache文件。",[935,1825,1387,1827],{"id":1826},"nocleanafter",[88,1828,1829],{},"--nocleanafter",[16,1831,1832],{},"在构建AUR包完成以后不清除cache文件。",[846,1834,1835],{"id":1835},"其他型",[935,1837,1839],{"id":1838},"save",[88,1840,1841],{},"--save",[16,1843,1844],{},"把你这一次执行yay后面跟的配置参数永久保存下来。",[935,1846,1848],{"id":1847},"aururl",[88,1849,1850],{},"--aururl",[16,1852,1853,1854,1858,1859],{},"更改aur源地址（默认为 ",[20,1855,1856],{"href":1856,"rel":1857},"https://aur.archlinux.org",[24]," ），",[51,1860,1861],{},"适用于中国用户，可以使用此参数将AUR的地址设置成清华的反代，具体的配置命令为",[81,1863,1865],{"className":556,"code":1864,"language":558,"meta":90,"style":90},"yay --aururl \"https://aur.tuna.tsinghua.edu.cn\" --save\n",[88,1866,1867],{"__ignoreMap":90},[108,1868,1869,1871,1874,1877],{"class":110,"line":111},[108,1870,840],{"class":661},[108,1872,1873],{"class":665}," --aururl",[108,1875,1876],{"class":144}," \"https://aur.tuna.tsinghua.edu.cn\"",[108,1878,1879],{"class":665}," --save\n",[16,1881,1882],{},"TUNA 的反代已经取消，可以使用如下命令设置回 AUR 官方源",[81,1884,1886],{"className":556,"code":1885,"language":558,"meta":90,"style":90},"yay --aururl \"https://aur.archlinux.org\" --save\n",[88,1887,1888],{"__ignoreMap":90},[108,1889,1890,1892,1894,1897],{"class":110,"line":111},[108,1891,840],{"class":661},[108,1893,1873],{"class":665},[108,1895,1896],{"class":144}," \"https://aur.archlinux.org\"",[108,1898,1879],{"class":665},[935,1900,1902],{"id":1901},"sortby",[88,1903,1904],{},"--sortby",[16,1906,1907,1908,1911,1912,350],{},"在搜索过程中，按特定条件对AUR结果进行排序，后跟",[88,1909,1910],{},"\u003Cvotes|popularity|id|baseid|name|base|submitted|modified","参数，默认为",[88,1913,1914],{},"votes",[935,1916,1918],{"id":1917},"searchby",[88,1919,1920],{},"--searchby",[16,1922,1923,1924,1911,1927,350],{},"通过指定查询类型来搜索AUR软件包，后跟",[88,1925,1926],{},"\u003Cname|name-desc|maintainer|depends|checkdepends|makedepends|optdepends",[88,1928,1929],{},"name-desc",[935,1931,1387,1933],{"id":1932},"topdown",[88,1934,1935],{},"--topdown",[16,1937,1938],{},"优先展示源内包，其次才是AUR包",[935,1940,1942],{"id":1941},"bottomup",[88,1943,1944],{},"--bottomup",[16,1946,1947],{},"优先展示AUR包，其次才是源内包",[935,1949,1951],{"id":1950},"requestsplitn-number",[88,1952,1953],{},"--requestsplitn \u003Cnumber>",[16,1955,1956],{},"设置在每次向AUR的请求的最大数值（默认150）。数值越高，请求时间越短，但是单次请求的数值过大会导致error。当这个数值＞500时你应当特别注意这一点。",[935,1958,1960],{"id":1959},"completioninterval-days",[88,1961,1962],{},"--completioninterval \u003Cdays>",[16,1964,1965],{},"刷新完成高速缓存的时间（以天为单位,默认为7）。 将此值设置为0将导致每次刷新缓存，而将其设置为-1将导致永远不刷新缓存。",[826,1967,1968],{"id":1968},"我个人的常用命令",[81,1970,1973],{"className":1971,"code":1972,"language":86},[84],"yay\nyay foo\nyay -Sa foo\nyay -Scc\nyay -Ps\nyay -Pww\nyay -Gpa\nyay -Ga\n",[88,1974,1972],{"__ignoreMap":90},[16,1976,1977],{},[1107,1978,1979,1980,1985],{},"本文同时发布于「",[20,1981,1984],{"href":1982,"rel":1983},"https://zhuanlan.zhihu.com/p/363666022",[24],"知乎专栏","」，如果你恰好有知乎帐号的话或许可以考虑帮我点个赞？",[165,1987,1988],{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":90,"searchDepth":118,"depth":118,"links":1990},[1991,1997,2006],{"id":828,"depth":118,"text":828,"children":1992},[1993,1994,1995,1996],{"id":840,"depth":3,"text":840},{"id":862,"depth":3,"text":837},{"id":887,"depth":3,"text":834},{"id":1133,"depth":3,"text":1134},{"id":1199,"depth":118,"text":1199,"children":1998},[1999,2000,2001,2002,2003,2004,2005],{"id":1205,"depth":3,"text":1205},{"id":1275,"depth":3,"text":1275},{"id":1305,"depth":3,"text":1305},{"id":1331,"depth":3,"text":1331},{"id":1380,"depth":3,"text":1380},{"id":1659,"depth":3,"text":1660},{"id":1835,"depth":3,"text":1835},{"id":1968,"depth":118,"text":1968},{"title":2008,"date":2009,"path":2010,"tags":2011,"body":2012},"抛弃DisplayManager，拥抱startx","2021-03-14","/2021/03/14/lets-fuck-dm-and-use-startx",[176],{"type":13,"value":2013,"toc":2124},[2014,2017,2020,2042,2045,2062,2065,2080,2083,2089,2097,2102,2105,2111,2114,2121],[16,2015,2016],{},"在正常情况下，我们会给Linux装上一个DisplayManager以方便我们输入账号密码来进入图形化系统，但是我不想要额外装一个DM来启动我的图形化系统（而且之前我一直用的sddm也出过一小阵子的问题）",[16,2018,2019],{},"首先卸载我的sddm",[81,2021,2023],{"className":510,"code":2022,"language":512,"meta":90,"style":90},"sudo pacman -Rsnc sddm sddm-kcm\n",[88,2024,2025],{"__ignoreMap":90},[108,2026,2027,2030,2033,2036,2039],{"class":110,"line":111},[108,2028,2029],{"class":661},"sudo",[108,2031,2032],{"class":144}," pacman",[108,2034,2035],{"class":665}," -Rsnc",[108,2037,2038],{"class":144}," sddm",[108,2040,2041],{"class":144}," sddm-kcm\n",[16,2043,2044],{},"安装startx所在的软件包",[81,2046,2048],{"className":510,"code":2047,"language":512,"meta":90,"style":90},"sudo pacman -S xorg-xinit\n",[88,2049,2050],{"__ignoreMap":90},[108,2051,2052,2054,2056,2059],{"class":110,"line":111},[108,2053,2029],{"class":661},[108,2055,2032],{"class":144},[108,2057,2058],{"class":665}," -S",[108,2060,2061],{"class":144}," xorg-xinit\n",[16,2063,2064],{},"从/etc/X11/xinit/xinitrc拷贝一份.xinitrc",[81,2066,2068],{"className":510,"code":2067,"language":512,"meta":90,"style":90},"cp /etc/X11/xinit/xinitrc ~/.xinitrc\n",[88,2069,2070],{"__ignoreMap":90},[108,2071,2072,2074,2077],{"class":110,"line":111},[108,2073,677],{"class":661},[108,2075,2076],{"class":144}," /etc/X11/xinit/xinitrc",[108,2078,2079],{"class":144}," ~/.xinitrc\n",[16,2081,2082],{},"注释掉最后5行",[81,2084,2087],{"className":2085,"code":2086,"language":86},[84],"#twm &\n#xclock -geometry 50x50-1+1 &\n#xterm -geometry 80x50+494+51 &\n#xterm -geometry 80x20+494-0 &\n#exec xterm -geometry 80x66+0+0 -name login\n",[88,2088,2086],{"__ignoreMap":90},[16,2090,2091,2092],{},"然后需要在结尾处写上我们的配置。我用的桌面是Plasma，查询",[20,2093,2096],{"href":2094,"rel":2095},"https://wiki.archlinux.org/index.php/KDE#From_the_console",[24],"wiki",[181,2098,2099],{},[16,2100,2101],{},"To start Plasma with xinit/startx, append export DESKTOP_SESSION=plasma and exec startplasma-x11 to your .xinitrc file. If you want to start Xorg at login, please see Start X at login.",[16,2103,2104],{},"然后在xinitrx文件末尾处写上我们的配置",[81,2106,2109],{"className":2107,"code":2108,"language":86},[84],"export DESKTOP_SESSION=plasma\nstartplasma-x11\n",[88,2110,2108],{"__ignoreMap":90},[16,2112,2113],{},"Ps: 在第二行中，wiki中让我们使用exec，代表当xorg桌面会话结束后自动退出当前用户，而我不想退出，所以没加",[16,2115,2116,2117,2120],{},"至此，我们的startx就已经配置完成了，重启后只需要在tty界面登录用户后输入",[88,2118,2119],{},"startx","并回车即可进入图形化界面。",[165,2122,2123],{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":90,"searchDepth":118,"depth":118,"links":2125},[],"/en/archives/",132,1766435598400]