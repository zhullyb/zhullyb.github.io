[{"data":1,"prerenderedAt":2115},["ShallowReactive",2],{"randomIndex/archives/page/12/":3,"index-page-12-zh":4,"language-switch-/archives/page/12/-en":2113,"posts-nums-total-zh":2114},6,[5,122,280,400,461,540,589,814,853,898],{"title":6,"date":7,"path":8,"tags":9,"body":11},"我为什么选择Archlinux？","2021-05-23","/2021/05/23/why-i-use-archlinux",[10],"Archlinux",{"type":12,"value":13,"toc":110},"minimark",[14,18,21,25,33,36,43,46,49,53,56,59,62,65,68,71,74,77,86,91,94,97,101,104,107],[15,16,17],"p",{},"对于我而言，我用Archlinux主要的原因就是实用主义。我可以很负责的说，Arch真的是在我所有用过的发行版当中最符合实用主义的一个了。",[15,19,20],{},"很多大佬一提到Archlinux就扯些什么kiss原则，在我看来则不然。",[22,23,24],"h2",{"id":24},"整洁规范的系统",[15,26,27,28,32],{},"规范代码为的不是为了什么",[29,30,31],"strong",{},"Art of Code","，而是可读性的提升；遵循kiss原则亦是如此。",[15,34,35],{},"配置文件的路径写好了，符合规范，我们就能一下子找到，我们是为了实用主义而遵守kiss原则。",[15,37,38,39],{},"同样的，我同样可以为了实用主义而破坏kiss原则。",[40,41,42],"del",{},"比如在我的archiso-zhullyb中，我添加了一个pacman的hook将我的定制内核重命名为linux以确保其能够正确被ventoy所识别，这也是为了实用主义。",[15,44,45],{},"那么，什么时候我会破坏kiss原则呢？当我认为破坏kiss原则所带来的利大于弊时，我就会考虑以一个并不规范但却有效的方法来处理问题。",[15,47,48],{},"但很有趣的是，由于Archlinux的官方总是将kiss奉为圣旨，这就给我们提供了一个非常nice的环境了——在一个非常规范的系统内，破坏kiss原则所带来的代价并不会很大，这就好比在一个布线整齐的机房内临时私拉两三根线并不会给维护带来多大的困难。",[22,50,52],{"id":51},"archlinux对上游软件包的发行策略","Archlinux对上游软件包的发行策略",[15,54,55],{},"不同于apt在源内提供了统一软件的多个版本供用户选择，pacman剑走偏锋，默认用户系统内所有软件都是最新的。",[15,57,58],{},"由此带来了一个好处——不会出现由于版本过高/过低导致的依赖问题。只要我保证系统内的所有软件都是最新的，就不会出问题，非常的简单粗暴。",[15,60,61],{},"此外，不考虑依赖版本这一特点对于打包人来说也是一种解脱。",[22,63,64],{"id":64},"pacman简单的打包方式",[15,66,67],{},"不同于deb以及rpm，pacman的软件包应该是所有发行版中最省事儿的。",[15,69,70],{},"打包软件时，我们只需要写（改）一份PKGBUILD，就可以仅仅通过在PKGBUILD所在的路径执行makepkg命令来完成一次打包，这相比起deb而言可谓是天差地别。如此简单有效的打包方式注定其将被实用主义者所青睐。",[22,72,73],{"id":73},"超低的社区贡献成本",[15,75,76],{},"很多发行版社区开发与贡献其实并不容易参与进去，我拿Ubuntu来做个比较。",[78,79,80,83],"blockquote",{},[15,81,82],{},"附: Archwiki是先斩后奏类型的文档，在你按下保存按钮的那一刻，wiki将立即被更新，所有访客都将看到你改动后的内容。wiki文档拥有变更记录，不担心有人恶意搞破坏，向wiki管理员提出举报后破坏者的账号会被及时封禁，wiki可以非常简单地回滚到之前的状态。",[15,84,85],{},"AUR同样也是，你可以随意上传自己的PKGBUILD，可以被别的用户及时看到。如果上传恶意脚本，在别的用户举报后你将迅速被封号。",[87,88,90],"h3",{"id":89},"wiki方面","Wiki方面",[15,92,93],{},"Ubuntu其实是我第一个上手的Linux发行版，在为期半年的Ubuntu体验中，我对于社区做出的贡献为0。这倒也不是我不热衷于参与社区贡献，而是对Ubuntu社区的贡献成本太高了。去贡献文档翻译，需要等待漫长的审核过程，在第一篇汉化文章正式展现在别的用户眼前后，我一定会被激发出继续翻译第二篇的热情。然而，面对太长的审核周期，再高涨的热情恐怕也会被浇灭。",[15,95,96],{},"Arch的社区则不一样，他并不像别的社区那样严谨——只要注册个wiki的账号便可以开始贡献文档。你可以随意地编辑一篇文章或者是新增一篇自己的文章，编辑后的文章将能够立即被别的用户所阅读到，没有任何审核过程，有了这份热情，我便继续翻译别的文档，我想，这应该就是archwiki为何涵盖面如此之广的原因。",[87,98,100],{"id":99},"aur方面","AUR方面",[15,102,103],{},"同样也是拿Ubuntu对比。",[15,105,106],{},"在Archlinux下，我只需要简单的写一个PKGBUILD即可轻松构建一个软件包，同时，我也可以将这份有我攥写的PKGBUILD上传到AUR供别的用户使用。AUR作为一个公开的储存库，任何Arch用户都可以通过AUR Helper轻松得从AUR中获取我写的PKGBUILD并在本地打成自己的包。与此同时，我也可以创建一个私人源，直接发行我构建的二进制包。",[15,108,109],{},"Ubutnu则不然，他的打包方式则要麻烦得多，同时也没有类似PKGBUILD一样的东西便于用户分享自己的打包脚本。唯一能够分享自己的劳动成果的方式无非就是直接分享自己打出来的deb包，最多也不过是建立自己的ppa，这对于用户来说是极为麻烦的。用户需要处心积虑地寻找自己所需要的deb包或是含有目标包的ppa地址并手动添加，不像Archlinux有AUR这种东西能够让我们知道在哪里能够找到我们所需要的包。",{"title":111,"searchDepth":112,"depth":112,"links":113},"",2,[114,115,116,117],{"id":24,"depth":112,"text":24},{"id":51,"depth":112,"text":52},{"id":64,"depth":112,"text":64},{"id":73,"depth":112,"text":73,"children":118},[119,121],{"id":89,"depth":120,"text":90},3,{"id":99,"depth":120,"text":100},{"title":123,"date":124,"path":125,"tags":126,"body":129},"使用vercel创建一个随机图片api","2021-05-21","/2021/05/21/create-a-random-picture-api-with-vercel",[127,128],"Network","Vercel",{"type":12,"value":130,"toc":278},[131,144,155,158,161,172,175,180,193,203,206,212,274],[15,132,133,134,143],{},"如果你的网络环境不算太差的话，你在访问我博客的时候应该可以看到顶部有一张背景图。假如你访问我的博客时留心观察，你或许会发现每次你访问我博客时的背景都是不一样的。如果你没玩够，或许你可以尝试",[135,136,140],"a",{"href":137,"rel":138},"https://randompic.zhul.in/api/randomtoppic.php",[139],"nofollow",[29,141,142],{},"点击这里","，我总共搜集了20张壁纸供诸位赏玩。",[15,145,146,147,154],{},"是的，这是使用php实现的随机图片api，托管于vercel，你可以在",[135,148,151],{"href":149,"rel":150},"https://note.aya1.top/#/4-phpapi",[139],[29,152,153],{},"aya的博客","上找到我使用的代码。具体配置方式我不再赘述。",[15,156,157],{},"然而，我们还需要解决一个问题: php在哪里运行？",[15,159,160],{},"如果你拥有自己的服务器，在国内访问速度毫不逊色，那就好办了，直接扔自己服务器上即可。然而，我并没有。我需要找到一个在国内访问速度给力的地方来部署我的api，以确保访客在打开我的博客时可以在第一时间获取到图片的真实链接并开始加载。",[15,162,163,164,167,168,171],{},"起初，我将其部署在我的好朋友(",[40,165,166],{},"你可以猜猜他是谁",")的国内vps上，访问速度自然不用说。然而，他的服务器",[29,169,170],{},"不支持https","，这就导致使用chrome访问的时候chrome不会自动访问我的api，博客顶部一片惨蓝。。。",[15,173,174],{},"随后，我使用的是000webhost提供的虚拟主机，国内访问起来也还不错，大概正常运行了半个月左右的时间，然后莫名开始502了。我懂，作为不交钱的白嫖用户应该自觉滚蛋了，这点觉悟咱还是有。",[15,176,177],{},[29,178,179],{},"随后，我找到了目前的方案——vercel",[15,181,182,183,186,187,192],{},"vercel是被我用来部署静态网页的，但我没想到他也能",[29,184,185],{},"支持php","。参考了",[135,188,191],{"href":189,"rel":190},"https://github.com/juicyfx/vercel-php",[139],"vercel-php","项目后，我大致了解了整个仓库结构。",[194,195,200],"pre",{"className":196,"code":198,"language":199},[197],"language-text","project\n├── api\n│   └── index.php\n└── vercel.json\n","text",[201,202,198],"code",{"__ignoreMap":111},[15,204,205],{},"php和附带的资源文件(如果有的话)一定要放到api文件夹下才能够正常被vercel识别。",[15,207,208,209],{},"以下附",[201,210,211],{},"vercel.json",[194,213,217],{"className":214,"code":215,"language":216,"meta":111,"style":111},"language-json shiki shiki-themes one-light one-dark-pro","{\n  \"functions\": {\n    \"api/index.php\": {\n      \"runtime\": \"vercel-php@0.4.0\"\n    }\n  }\n}\n","json",[201,218,219,228,237,244,257,263,268],{"__ignoreMap":111},[220,221,224],"span",{"class":222,"line":223},"line",1,[220,225,227],{"class":226},"s5ixo","{\n",[220,229,230,234],{"class":222,"line":112},[220,231,233],{"class":232},"sJa8x","  \"functions\"",[220,235,236],{"class":226},": {\n",[220,238,239,242],{"class":222,"line":120},[220,240,241],{"class":232},"    \"api/index.php\"",[220,243,236],{"class":226},[220,245,247,250,253],{"class":222,"line":246},4,[220,248,249],{"class":232},"      \"runtime\"",[220,251,252],{"class":226},": ",[220,254,256],{"class":255},"sDhpE","\"vercel-php@0.4.0\"\n",[220,258,260],{"class":222,"line":259},5,[220,261,262],{"class":226},"    }\n",[220,264,265],{"class":222,"line":3},[220,266,267],{"class":226},"  }\n",[220,269,271],{"class":222,"line":270},7,[220,272,273],{"class":226},"}\n",[275,276,277],"style",{},"html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":111,"searchDepth":112,"depth":112,"links":279},[],{"title":281,"date":282,"path":283,"tags":284,"body":287},"禁止deepin-wine-tim使用simsun字体渲染","2021-04-27","/2021/04/27/hide-simsun-from-deepin-wine-tim",[10,285,286],"Linux","Bwrap",{"type":12,"value":288,"toc":398},[289,302,305,308,314,317,320,331,338,344,347,361,367,373,376,381,384,389,392],[78,290,291],{},[15,292,293,294,297,298,301],{},"本文中，我通过bwrap命令对运行Tim的wine程序屏蔽了simsun字体以获得了一个更为舒适的字体渲染效果。我所使用的Tim为",[201,295,296],{},"deepin-wine-tim","，至于",[201,299,300],{},"deepin-wine-qq","通过相同的方式应该也能达到相同的效果，spark商店的Tim我自己测试下来似乎是没法达到这样的效果，而使用其他方法安装simsun字体的网友们则需要注意灵活变通，不要照抄我给出的字体路径。",[15,303,304],{},"在Archlinux下，我们通常会使用deepin-wine5来运行QQ/Tim.",[15,306,307],{},"但是当我们在系统中倒入simsun字体时，无论使用什么奇迹淫巧似乎都无法阻止deepin-wine5找到simsun并优先使用它。于是，字体渲染就会变成如图这样奇奇怪怪的画风:",[15,309,310],{},[311,312],"img",{"alt":111,"src":313},"https://static.031130.xyz/uploads/2024/08/12/62f3c887040ff.webp",[15,315,316],{},"但是我并不喜欢这样的渲染效果，使用simsun渲染出来的字体总感觉有一种上世纪的风格，况且，在我的1080p小屏下显示并不清晰。",[15,318,319],{},"于是，在尝试了更改注册表、在wine容器的系统路径下直接塞入字体文件等等方式无果后，我选择了逃避——直接让wine程序读取不到simsun。",[15,321,322,323,326,327,330],{},"我的simsun是通过",[201,324,325],{},"ttf-ms-win10-zh_cn","这个包安装上去的，被安装在",[201,328,329],{},"/usr/share/fonts/TTF/","路径下。",[15,332,333,334,337],{},"使用",[201,335,336],{},"pacman -Qo /usr/share/fonts/TTF/","命令查找这个路径下所安装的字体包，我这里的输出如下:",[194,339,342],{"className":340,"code":341,"language":199},[197],"[zhullyb@Archlinux ~]$ pacman -Qo /usr/share/fonts/TTF/\n/usr/share/fonts/TTF/ is owned by ttf-cascadia-code 2102.25-1\n/usr/share/fonts/TTF/ is owned by ttf-fira-code 5.2-1\n/usr/share/fonts/TTF/ is owned by ttf-hack 3.003-3\n/usr/share/fonts/TTF/ is owned by ttf-monaco 6.1-6\n/usr/share/fonts/TTF/ is owned by ttf-ms-win10-zh_cn 2019ltsc-1\n/usr/share/fonts/TTF/ is owned by ttf-opensans 1.101-2\n",[201,343,341],{"__ignoreMap":111},[15,345,346],{},"可以看到，并没有什么对wine程序运行特别重要的字体包，于是我计划通过bwrap命令对运行Tim的wine程序直接屏蔽这个路径。",[15,348,349,350,353,354,357,358],{},"首先安装提供",[201,351,352],{},"bwrap","命令的",[201,355,356],{},"bubblewrap","程序: ",[201,359,360],{},"sudo pacman -S bubblewrap --needed",[15,362,363,364],{},"通过查找deepin-wine-tim的desktop文件发现Tim的启动命令是",[201,365,366],{},"/opt/apps/com.qq.office.deepin/files/run.sh",[15,368,369,370],{},"在终端中输入命令进行测试",[201,371,372],{},"bwrap --dev-bind / / --tmpfs /usr/share/fonts/TTF/ /opt/apps/com.qq.office.deepin/files/run.sh",[15,374,375],{},"出现如下界面，看来方法是可行的。",[15,377,378],{},[311,379],{"alt":111,"src":380},"https://static.031130.xyz/uploads/2024/08/12/62f3c88b119f8.webp",[15,382,383],{},"于是，我们进一步更改deepin-wine-tim的desktop文件，以方便我们不需要每次都在Terminal中执行这么一大长串命令。需要更改的地方如下图红色方框圈出部分",[15,385,386],{},[311,387],{"alt":111,"src":388},"https://static.031130.xyz/uploads/2024/08/12/62f3c88f41790.webp",[15,390,391],{},"我这里附一下图中的命令方便诸位复制粘贴。",[194,393,396],{"className":394,"code":395,"language":199},[197],"[zhullyb@Archlinux ~]$ cat /usr/share/applications/com.qq.office.deepin.desktop \n#!/usr/bin/env xdg-open\n\n[Desktop Entry]\nEncoding=UTF-8\nType=Application\nX-Created-By=Deepin WINE Team\nCategories=chat;Network;\nIcon=com.qq.office.deepin\nExec=bwrap --dev-bind / / --tmpfs /usr/share/fonts/TTF/ /opt/apps/com.qq.office.deepin/files/run.sh\nName=TIM\nName[zh_CN]=TIM\nComment=Tencent TIM Client on Deepin Wine\nStartupWMClass=tim.exe\nMimeType=\n",[201,397,395],{"__ignoreMap":111},{"title":111,"searchDepth":112,"depth":112,"links":399},[],{"title":401,"date":402,"path":403,"tags":404,"body":407},"在系统使用暗色主题时禁用Firefox的夜间模式","2021-04-23","/2021/04/23/disable-firefox-nightmode-when-your-system-is-using-that",[405,406],"Notes","Firefox",{"type":12,"value":408,"toc":459},[409,412,415,422,425,431,438,444,450],[15,410,411],{},"在我使用Archlinux的时候经常会使用一些暗色主题，但是我并不希望我浏览网页时一些自作聪明的网页自动切换成夜间模式。",[15,413,414],{},"这个设置我找了好久，每次在谷歌上检索都会跳出来一堆教我改Firefox主题的、用插件开夜间模式的，却都不是我的目的。",[15,416,417,418,421],{},"我们所需要做的是在浏览器地址栏输入",[201,419,420],{},"about:config","进入高级设置",[15,423,424],{},"搜索并添加一个值",[194,426,429],{"className":427,"code":428,"language":199},[197],"ui.systemUsesDarkTheme\n",[201,430,428],{"__ignoreMap":111},[15,432,433,434,437],{},"将这个选项的",[29,435,436],{},"数值","设置为0即可。",[15,439,440],{},[311,441],{"alt":442,"src":443},"步骤1","https://static.031130.xyz/uploads/2024/08/12/62f36c8f05efd.webp",[15,445,446],{},[311,447],{"alt":448,"src":449},"步骤2","https://static.031130.xyz/uploads/2024/08/12/62f36cce30773.webp",[15,451,452,453,458],{},"2021.12.13更新: Firefox 更新 95.0 以后，如果遇到原方案失效的问题，可以参考 ",[135,454,457],{"href":455,"rel":456},"https://blog.cubercsl.site/post/%E5%9C%A8%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E6%9A%97%E8%89%B2%E4%B8%BB%E9%A2%98%E6%97%B6%E7%A6%81%E6%AD%A2%E7%94%A8-firefox-%E7%9A%84%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F/",[139],"CSL的博客","。",{"title":111,"searchDepth":112,"depth":112,"links":460},[],{"title":462,"date":463,"path":464,"tags":465,"body":466},"记一次在Gitlab部署Jekyll博客时遇到的jekyll-github-metadata报错问题","2021-04-16","/2021/04/16/fuck-jekyll-github-metadata-on-gitlab",[405],{"type":12,"value":467,"toc":538},[468,471,474,479,482,488,497,523,533],[15,469,470],{},"我的博客是挂在GitlabPages上的，在为博客更换主题的时候遇到了一点点小麻烦。",[15,472,473],{},"报错如图：",[15,475,476],{},[311,477],{"alt":111,"src":478},"https://static.031130.xyz/uploads/2024/08/12/62f3caf233039.webp",[15,480,481],{},"当然，我这边也会附上详细的报错日志，以便后人能够通过关键词搜索到。",[194,483,486],{"className":484,"code":485,"language":199},[197],"Configuration file: /builds/zhullyb/test/_config.yml\n            Source: /builds/zhullyb/test\n       Destination: public\n Incremental build: disabled. Enable with --incremental\n      Generating...\n       Jekyll Feed: Generating feed for posts\n   GitHub Metadata: No GitHub API authentication could be found. Some fields may be missing or have incorrect data.\n   GitHub Metadata: Error processing value 'url':\n             ERROR: YOUR SITE COULD NOT BE BUILT:\n                    ------------------------------------\n                    No repo name found. Specify using PAGES_REPO_NWO environment variables, 'repository' in your configuration, or set up an 'origin' git remote pointing to your github.com repository.\nCleaning up file based variables 00:01\nERROR: Job failed: exit code 1\n",[201,487,485],{"__ignoreMap":111},[15,489,490,491,496],{},"经过了一番瞎折腾以后，我依然没有解决问题，而每次push都要等待gitlab的ci构建两三分钟，实在磨不动的我去看了",[135,492,495],{"href":493,"rel":494},"https://github.com/jekyll/github-metadata",[139],"jekyll-github-metadata","的README，结合上文的报错，我一下子就看懂了。",[15,498,499,501,502,505,506,505,509,505,512,515,516,519,520],{},[201,500,495],{},"可以通过github中的信息自动为jekyll提供",[201,503,504],{},"site.github","、",[201,507,508],{},"site.title",[201,510,511],{},"site.description",[201,513,514],{},"site.url","和",[201,517,518],{},"site.baseurl","。而由于我们在用的是Gitlab，所以jekyll-github-metadata就无法获取到这些信息，需要我们手动指定。报错中缺少的就是",[201,521,522],{},"url",[15,524,525,526,529,530,532],{},"于是打开",[201,527,528],{},"_config.yml","，把",[201,531,522],{},"给补上，顺便把别的变量一同加上，如图：",[15,534,535],{},[311,536],{"alt":111,"src":537},"https://static.031130.xyz/uploads/2024/08/12/62f3caf51bdb5.webp",{"title":111,"searchDepth":112,"depth":112,"links":539},[],{"title":541,"date":463,"path":542,"tags":543,"body":544},"我在Archlinux上的常用软件","/2021/04/16/the-software-i-use-on-archlinux",[405,10],{"type":12,"value":545,"toc":587},[546,554,557,560,563,566,569,572,575,578,581,584],[78,547,548,551],{},[15,549,550],{},"最近基本固定了在Archlinux上的常用软件，也供各位参考一下。",[15,552,553],{},"我是KDE用户，所以KDE家的软件会用得比较多。",[15,555,556],{},"浏览器：Firefox，Chromium备用（主要是使用chromium的网页翻译功能，还有就是打开一些对Firefox不太友好的网站）",[15,558,559],{},"下载器：curl，wget，motrix\t根据不同使用场景更换下载器",[15,561,562],{},"终端：konsole",[15,564,565],{},"输入法：fcitx5-chinese-addons",[15,567,568],{},"即时通讯：telegram，deepin-wine-tim，deepin-wine-wechat，electron-qq，wechat-uos，linuxqq",[15,570,571],{},"播放器：vlc",[15,573,574],{},"编辑器：nano，kate，visual-studio-code-bin，typora，wps",[15,576,577],{},"图形类：pinta，drawio-desktop-bin，imagemagick",[15,579,580],{},"文件管理器：dolphin",[15,582,583],{},"文件传输：sftp（命令行里的），filezilla",[15,585,586],{},"系统、网络工具：latte-dock-git，v2raya，htop，gtop",{"title":111,"searchDepth":112,"depth":112,"links":588},[],{"title":590,"date":591,"path":592,"tags":593,"body":594},"使用Chrome的同步api为chromium开启同步功能","2021-04-15","/2021/04/15/login-chromium-with-the-api-of-chrome",[405],{"type":12,"value":595,"toc":812},[596,599,606,616,643,646,651,662,740,754,760,809],[15,597,598],{},"今年两三月的时候，Google限制了chromium的同步api次数，导致各个发行版内置的chromium将不再能继续使用Google的数据同步功能。",[15,600,601,602],{},"今天在翻 archlinuxcn 的群组的时候翻到了一段脚本: ",[135,603,604],{"href":604,"rel":605},"https://gist.github.com/foutrelis/14e339596b89813aa9c37fd1b4e5d9d5",[139],[15,607,608,609,515,612,615],{},"大意就是说，由于Archlinux特殊的chromium启动方式导致我们可以在设置",[201,610,611],{},"oauth2-client-id",[201,613,614],{},"oauth2-client-secret","的情况下通过chrome的同步api继续使用Google的同步服务，说得太多了也没必要，毕竟原文就在那里，看不看取决于你，我这里直接给命令吧。",[194,617,621],{"className":618,"code":619,"language":620,"meta":111,"style":111},"language-shell shiki shiki-themes one-light one-dark-pro","echo \"--oauth2-client-id=77185425430.apps.googleusercontent.com\n--oauth2-client-secret=OTJgUOQcT7lO7GsGZq2G4IlT\" >> ~/.config/chromium-flags.conf\n","shell",[201,622,623,632],{"__ignoreMap":111},[220,624,625,629],{"class":222,"line":223},[220,626,628],{"class":627},"s_Sar","echo",[220,630,631],{"class":255}," \"--oauth2-client-id=77185425430.apps.googleusercontent.com\n",[220,633,634,637,640],{"class":222,"line":112},[220,635,636],{"class":255},"--oauth2-client-secret=OTJgUOQcT7lO7GsGZq2G4IlT\"",[220,638,639],{"class":226}," >> ",[220,641,642],{"class":255},"~/.config/chromium-flags.conf\n",[15,644,645],{},"再次打开chromium,你就会发现你心心念念的同步功能回来了。",[15,647,648],{},[311,649],{"alt":111,"src":650},"https://static.031130.xyz/uploads/2024/08/12/62f3cafe4a5ec.webp",[15,652,653],{},[40,654,655,656,661],{},"然而，并不是所有的发行版都像 Archlinux 这样考虑到 oauth，我们也不可能像 Archlinux 官方那样有这个闲情雅致为没一个 Chromium 去添加这个 ",[135,657,660],{"href":658,"rel":659},"https://github.com/archlinux/svntogit-packages/blob/packages/chromium/trunk/use-oauth2-client-switches-as-default.patch",[139],"patch"," 以后重新编译一遍，大部分人都是直接用发行版源里的。针对这种情况，我们可以直接手写一个脚本",[194,663,667],{"className":664,"code":665,"language":666,"meta":111,"style":111},"language-bash shiki shiki-themes one-light one-dark-pro","#!/usr/bin/bash\nexport GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com\nexport GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT\nexec /usr/bin/chromium-browser \"$@\"     # 我用的 Fedora 的启动命令是 chromium-browser，别的发行版用户还请自行调整\n","bash",[201,668,669,675,707,719],{"__ignoreMap":111},[220,670,671],{"class":222,"line":223},[220,672,674],{"class":673},"sW2Sy","#!/usr/bin/bash\n",[220,676,677,681,684,688,691,694,697,699,702,704],{"class":222,"line":112},[220,678,680],{"class":679},"sLKXg","export",[220,682,683],{"class":232}," GOOGLE_DEFAULT_CLIENT_ID",[220,685,687],{"class":686},"sknuh","=",[220,689,690],{"class":232},"77185425430",[220,692,693],{"class":226},".",[220,695,696],{"class":232},"apps",[220,698,693],{"class":226},[220,700,701],{"class":232},"googleusercontent",[220,703,693],{"class":226},[220,705,706],{"class":232},"com\n",[220,708,709,711,714,716],{"class":222,"line":120},[220,710,680],{"class":679},[220,712,713],{"class":232}," GOOGLE_DEFAULT_CLIENT_SECRET",[220,715,687],{"class":686},[220,717,718],{"class":232},"OTJgUOQcT7lO7GsGZq2G4IlT\n",[220,720,721,724,727,730,734,737],{"class":222,"line":246},[220,722,723],{"class":627},"exec",[220,725,726],{"class":255}," /usr/bin/chromium-browser",[220,728,729],{"class":255}," \"",[220,731,733],{"class":732},"s8iYz","$@",[220,735,736],{"class":255},"\"",[220,738,739],{"class":673},"     # 我用的 Fedora 的启动命令是 chromium-browser，别的发行版用户还请自行调整\n",[15,741,742,743,746,747,750,751,753],{},"当我满心欢喜地把脚本扔进 ",[201,744,745],{},"$HOME/.local/bin"," 后，我却突然发现 Fedora 官方源中把 chromium 的启动命令写死在了 ",[201,748,749],{},"/usr/bin/chromium-browser","，如果直接去改 ",[201,752,749],{}," 的话，每次更新都会被覆盖。",[15,755,756,759],{},[29,757,758],{},"正确的做法","应该是把 desktop 文件复制一份到桌面，再去改内容。",[194,761,763],{"className":664,"code":762,"language":666,"meta":111,"style":111},"mkdir -p $HOME/.local/share/applications/\ncp /usr/share/applications/chromium-browser.desktop $HOME/.local/share/applications/\nsed -i \"s|/usr/bin/chromium-browser|GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT /usr/bin/chromium-browser|g\" $HOME/.local/share/applications/chromium-browser.desktop\n",[201,764,765,781,793],{"__ignoreMap":111},[220,766,767,771,775,778],{"class":222,"line":223},[220,768,770],{"class":769},"sAdtL","mkdir",[220,772,774],{"class":773},"sAGMh"," -p",[220,776,777],{"class":232}," $HOME",[220,779,780],{"class":255},"/.local/share/applications/\n",[220,782,783,786,789,791],{"class":222,"line":112},[220,784,785],{"class":769},"cp",[220,787,788],{"class":255}," /usr/share/applications/chromium-browser.desktop",[220,790,777],{"class":232},[220,792,780],{"class":255},[220,794,795,798,801,804,806],{"class":222,"line":120},[220,796,797],{"class":769},"sed",[220,799,800],{"class":773}," -i",[220,802,803],{"class":255}," \"s|/usr/bin/chromium-browser|GOOGLE_DEFAULT_CLIENT_ID=77185425430.apps.googleusercontent.com GOOGLE_DEFAULT_CLIENT_SECRET=OTJgUOQcT7lO7GsGZq2G4IlT /usr/bin/chromium-browser|g\"",[220,805,777],{"class":232},[220,807,808],{"class":255},"/.local/share/applications/chromium-browser.desktop\n",[275,810,811],{},"html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sknuh, html code.shiki .sknuh{--shiki-default:#383A42;--shiki-dark:#56B6C2}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}",{"title":111,"searchDepth":112,"depth":112,"links":813},[],{"title":815,"date":816,"path":817,"tags":818,"body":819},"Appimage的文件储存在哪里","2021-04-13","/2021/04/13/where-will-appimage-put-its-file",[405],{"type":12,"value":820,"toc":851},[821,824,829,832,837,840],[15,822,823],{},"我不饿：",[78,825,826],{},[15,827,828],{},"有人知道怎么删除appimage的用户数据吗？",[15,830,831],{},"liolok | 李皓奇:",[78,833,834],{},[15,835,836],{},"还是可以在用户的家目录下面乱写的吧",[15,838,839],{},"Lipis Apple:",[78,841,842,845,848],{},[15,843,844],{},"不太讲武德：~/.local/share/(app)",[15,846,847],{},"算讲武德：~/.config/(app)",[15,849,850],{},"不讲武德：~/.(app)",{"title":111,"searchDepth":112,"depth":112,"links":852},[],{"title":854,"date":855,"path":856,"tags":857,"body":858},"使用Motrix接管Firefox的下载","2021-04-11","/2021/04/11/use-motrix-install-of-firefox-to-download",[405],{"type":12,"value":859,"toc":896},[860,865,868,871,874,883,886],[78,861,862],{},[15,863,864],{},"本文是一篇个人笔记，不具有太强的技术性，仅仅是为后来者指个方向。",[15,866,867],{},"熟悉我的人都知道，我是一个Firefox的忠实用户，原因有二：",[15,869,870],{},"​\t一/ Firefox国际版同步功能国内可用",[15,872,873],{},"​\t二/ moz://a（Firefox用户应该能在地址栏直接访问这个链接）",[15,875,876,877,882],{},"但是Motrix没有推出适用于Firefox的接管浏览器下载功能的插件，于是只能用",[135,878,881],{"href":879,"rel":880},"https://addons.mozilla.org/firefox/addon/aria2-integration",[139],"aria2的插件","。这个插件内置了AriaNG,对于aria2用户来说会比较实用，但是对于Motrix用户而言其实功能有些多余且不兼容，比如什么自动启动aria2什么的是无法实现的。",[15,884,885],{},"主要的配置过程我就图解了，退出前记得保存配置。",[15,887,888,892],{},[311,889],{"alt":890,"src":891},"step 1","https://static.031130.xyz/uploads/2024/08/12/62f36d3a79438.webp",[311,893],{"alt":894,"src":895},"step 2","https://static.031130.xyz/uploads/2024/08/12/62f36d3d08a23.webp",{"title":111,"searchDepth":112,"depth":112,"links":897},[],{"title":899,"date":900,"path":901,"tags":902,"body":903},"yay进阶","2021-04-04","/2021/04/04/yay-more",[10],{"type":12,"value":904,"toc":2095},[905,923,928,933,936,952,956,966,971,982,988,991,996,1024,1031,1040,1046,1059,1062,1068,1071,1077,1087,1093,1096,1102,1105,1111,1114,1120,1123,1129,1140,1146,1149,1155,1161,1164,1170,1181,1187,1197,1203,1210,1219,1225,1228,1234,1237,1241,1244,1250,1256,1263,1269,1276,1282,1285,1291,1294,1300,1303,1306,1309,1312,1318,1321,1327,1330,1336,1339,1345,1348,1354,1361,1367,1370,1376,1379,1382,1388,1391,1397,1400,1406,1409,1412,1418,1423,1429,1435,1438,1444,1447,1453,1456,1466,1472,1475,1481,1484,1487,1490,1497,1500,1506,1509,1515,1521,1527,1530,1533,1539,1542,1548,1551,1557,1561,1567,1569,1572,1578,1581,1587,1590,1596,1601,1607,1609,1612,1618,1621,1627,1630,1636,1641,1647,1649,1652,1658,1661,1667,1670,1676,1679,1682,1688,1691,1697,1700,1703,1709,1712,1718,1721,1724,1730,1733,1739,1742,1745,1751,1754,1760,1763,1767,1770,1775,1782,1788,1791,1794,1799,1802,1808,1811,1814,1819,1822,1828,1831,1837,1840,1843,1848,1851,1857,1860,1866,1869,1875,1878,1881,1886,1889,1895,1898,1901,1906,1909,1915,1918,1921,1927,1930,1936,1939,1942,1948,1951,1957,1968,1986,1989,2005,2011,2021,2027,2036,2042,2045,2051,2054,2060,2063,2069,2072,2075,2081,2092],[78,906,907,910,913,916],{},[15,908,909],{},"yay是一个AUR Helper，他可以执行pacman的几乎所有操作，并在此基础上添加了很多额外用法。",[15,911,912],{},"我没有在网络上查找到关于yay的、除了pacman基础用法和安装AUR包以外的中文教程，英文的也几乎没有看到，这也是我写这篇文章的原因所在。",[15,914,915],{},"本文通篇详讲yay的每一个设置/选项（大概就是archwiki那种干涩的行文思路），最后会给出我自己的一些常用命令，但不会做解释。",[15,917,918,919,922],{},"写作时参考了yay的英文使用手册，如果你的arch安装了yay，那么即可通过",[201,920,921],{},"man yay","命令随时查阅它。",[15,924,925],{},[29,926,927],{},"Tips1: 本文中出现的foo一般是指包名，标注*的表示该选项默认启用。",[15,929,930],{},[29,931,932],{},"Tips2: 使用电脑端的访客可以在侧栏以获取目录。",[22,934,935],{"id":935},"基本用法",[15,937,938,939,505,942,515,945,948,949,951],{},"yay的基本用法是",[201,940,941],{},"yay \u003Coperation> [options] [targets]",[201,943,944],{},"yay foo",[201,946,947],{},"yay","，",[201,950,941],{},"的用法可以讨论的点比较多，我会在后文中一一道来。",[87,953,954],{"id":947},[201,955,947],{},[15,957,958,959,961,962,965],{},"当我们仅执行",[201,960,947],{},"，后面不跟任何参数时，yay会执行操作",[201,963,964],{},"yay -Syu","，他会先调用pacman更新源的数据库、更新所有从源内安装的软件包，并检查你的AUR包有没有更新。",[87,967,969],{"id":968},"yay-foo",[201,970,944],{},[15,972,973,974,977,978,981],{},"通过yay后面直接跟包名的命令会让yay直接在源和AUR内搜索带有",[201,975,976],{},"foo","关键词的包（包名和简介中只要出现foo都会被一网打尽），以下是我执行",[201,979,980],{},"yay dingtalk","的输出",[194,983,986],{"className":984,"code":985,"language":199},[197],"5 aur/com.dingtalk.deepin 5.0.15deepin7-1 (+0 0.00)\n    Deepin Wine dingtalk\n4 aur/deepin.com.dingtalk.com 5.1.28.12-2 (+1 0.12)\n    DingTalk Client on Deepin Wine\n3 aur/dingtalk 2.1.3-1 (+3 0.00)\n    钉钉桌面版，基于electron和钉钉网页版开发，支持Windows、Linux和macOS\n2 aur/dingtalk-linux 3.5.5-1 (+6 0.12)\n    May be the official Linux experimental version\n1 aur/dingtalk-electron 2.1.9-1 (+9 0.15)\n    钉钉Linux版本\n==> Packages to install (eg: 1 2 3, 1-3 or ^4)\n==\n",[201,987,985],{"__ignoreMap":111},[15,989,990],{},"输入每一项对应的序号即可进入相应的安装过程。",[87,992,994],{"id":993},"yay-operation-options-targets",[201,995,941],{},[15,997,998,999,515,1002,1005,1006,1008,1009,1012,1013,1016,1017,515,1020,1023],{},"在这里，\u003Coperation>每次只能有一个，",[220,1000,1001],{},"options",[220,1003,1004],{},"targets","可以有多个，且多个",[220,1007,1001],{},"可以合起来写在一起。比如",[201,1010,1011],{},"yay -P -s -f","可以直接写成",[201,1014,1015],{},"yay -Psf","，顺序也可以颠倒，",[201,1018,1019],{},"-Psf",[201,1021,1022],{},"-sPf","没区别。",[1025,1026,1028],"h4",{"id":1027},"y-yay",[201,1029,1030],{},"-Y (--yay)",[15,1032,1033,1034,515,1037,458],{},"-Y行为其实是yay的默认行为，当你没有加其他的行为参数时，yay就会执行-Y参数，可以跟",[201,1035,1036],{},"--gendb",[201,1038,1039],{},"-c",[1041,1042,1044],"h5",{"id":1043},"gendb",[201,1045,1036],{},[15,1047,1048,1049,1052],{},"生成AUR数据库。",[29,1050,1051],{},"仅当从另一个AUR Helper迁移到yay时，才应使用此选项。",[40,1053,1054,1055,1058],{},"（根据我的个人理解，是根据你Arch内安装的源内找不到的包的包名去AUR里寻找对应的PKGBUILD，并且把能找到的PKGBUILD给clone到",[201,1056,1057],{},"~/.cache/yay/","目录下）",[15,1060,1061],{},"千玄子大佬说：“简单说来就是把在 AUR 的 PKGBUILD 下下来然后比对是否要更新。”",[1041,1063,1065],{"id":1064},"c-clean",[201,1066,1067],{},"-c（--clean）",[15,1069,1070],{},"清除不再需要的、没有被依赖的包。（相当于apt中的autoremove）",[1025,1072,1074],{"id":1073},"p-show",[201,1075,1076],{},"-P(--show)",[15,1078,1079,1080,1083,1084],{},"执行特定的Print操作。可以跟的",[220,1081,1082],{},"option","有",[201,1085,1086],{},"-c、-f、-d、-g、-n、-s、-u、-w、-q",[1041,1088,1090],{"id":1089},"c-complete",[201,1091,1092],{},"-c(--complete)",[15,1094,1095],{},"Print所有源内和AUR软件包的列表。这是给命令行操作提供的，并不打算由用户直接使用。（意思是启用了这个选项以后你的终端会出现一大串长常的列表来告诉你你的Arch到底可以从哪里安装哪些包，并不是直接给你用的，是作为数据留给别的命令来玩耍的）",[1041,1097,1099],{"id":1098},"f-fish",[201,1100,1101],{},"-f(--fish)",[15,1103,1104],{},"在输出结果到终端时，会专门为fish用户做微调。（但是根据SamLukeYes大佬说他用fish体验下来并没有感知到加不加有什么区别，应该是属于感知不强的选项）",[1041,1106,1108],{"id":1107},"d-defaultconfig",[201,1109,1110],{},"-d(--defaultconfig)",[15,1112,1113],{},"Print默认的yay配置。",[1041,1115,1117],{"id":1116},"g-currentconfig",[201,1118,1119],{},"-g(--currentconfig)",[15,1121,1122],{},"Print当前的yay配置。",[1041,1124,1126],{"id":1125},"n-numberupgrades",[201,1127,1128],{},"-n(--numberupgrades)",[15,1130,1131,1132,1135,1136,1139],{},"数一数你现在还有多少AUR包待更新。yay作者不推荐你使用呢，他推荐你用",[201,1133,1134],{},"yay -Qu","或者",[201,1137,1138],{},"wc -l","来代替它。",[1041,1141,1143],{"id":1142},"s-stats",[201,1144,1145],{},"-s(--stats)",[15,1147,1148],{},"会展示一大堆信息，如下",[194,1150,1153],{"className":1151,"code":1152,"language":199},[197],"[zhullyb@Archlinux ~]$ yay -Ps\n==> Yay version v10.2.0                             #yay版本\n===========================================\n==> Total installed packages: 1240                  #总共安装了多少包\n==> Total foreign installed packages: 24            #多少包不是从源里安装的\n==> Explicitly installed packages: 271              #有多少包是你自己主动安装的(而不是作为依赖安装的)\n==> Total Size occupied by packages: 14.3 GiB       #安装的所有包合在一起一共占了你多少空间\n===========================================\n==> Ten biggest packages:                           #十个体积最大的包\nwps-office-cn: 990.9 MiB\nttf-sarasa-gothic: 855.5 MiB\nlinux-firmware: 652.3 MiB\nbaidunetdisk-bin: 494.7 MiB\ncom.antutu.benchmark: 412.0 MiB\nwine: 402.2 MiB\nlinux-xanmod-cacule-uksm-cjktty: 324.4 MiB\nmicrosoft-edge-dev-bin: 316.4 MiB\nwine-mono: 316.2 MiB\ndeepin-wine5-i386: 259.5 MiB\n===========================================\n:: Querying AUR...\n -> Missing AUR Packages:  zhullyb-archlinux-git    #AUR里找不到的包\n -> Flagged Out Of Date AUR Packages:  xml2         #AUR中被人标注过期的包\n",[201,1154,1152],{"__ignoreMap":111},[1041,1156,1158],{"id":1157},"u-upgrades",[201,1159,1160],{},"-u(--upgrades)",[15,1162,1163],{},"展示你所有待更新的包。",[1041,1165,1167],{"id":1166},"w-news",[201,1168,1169],{},"-w(--news)",[15,1171,1172,1173,1176,1177,1180],{},"展示来自archlinux.org的新闻。需要注意的是，这里的新闻是具有时效性的，只有在你的Arch最后一次更新以后发出来的新闻才会被显示出来。如果你不想要yay判断新闻时效性，你可以通过",[201,1174,1175],{},"yay -Pww","（即两个",[201,1178,1179],{},"w","）来获取所有能获得的新闻。",[1041,1182,1184],{"id":1183},"q-quiet",[201,1185,1186],{},"-q(--quiet)",[15,1188,1189,1190,1193,1194,458],{},"在输出新闻的时候，仅输出新闻的标题。该功能需要与",[201,1191,1192],{},"-w","连用，即",[201,1195,1196],{},"yay -Pwq",[1025,1198,1200],{"id":1199},"g-getpkgbuild",[201,1201,1202],{},"-G(--getpkgbuild)",[15,1204,1205,1206,1209],{},"后跟包名。需要注意的是，如果指定的包不存在于官方源，则无法输出，后跟",[201,1207,1208],{},"-f、-p","参数。",[15,1211,1212],{},[1213,1214,1215,1216,1209],"em",{},"如果希望仅获取来自AUR（即排除第三方源的干扰）的PKGBUILD，后需跟",[201,1217,1218],{},"-a",[1041,1220,1222],{"id":1221},"f-force",[201,1223,1224],{},"-f(--force)",[15,1226,1227],{},"强制下载AUR中的PKGBUILD，如果它在yay缓存目录已经存在了，那就覆盖它！",[1041,1229,1231],{"id":1230},"p-print",[201,1232,1233],{},"-p(--print)",[15,1235,1236],{},"Print指定包的PKGBUILD。",[87,1238,1240],{"id":1239},"pacman-拓展用法","pacman 拓展用法",[15,1242,1243],{},"yay虽然可以使用pacman的所有\u003Coperation>，但是它远不仅于此。在这一段，我将向你介绍yay中包含的那些pacman不包括的pacman \u003Coperation",[1025,1245,1247],{"id":1246},"s",[201,1248,1249],{},"-S",[1041,1251,1253],{"id":1252},"s-si-sl-ss-su-sc-qu",[201,1254,1255],{},"-S, -Si, -Sl, -Ss, -Su, -Sc, -Qu",[15,1257,1258,1259,1262],{},"这些操作pacman都支持，而与pacman不同的是，yay的这些操作可以涵盖到",[29,1260,1261],{},"官方源/第三方源和AUR","中的所有包。",[1025,1264,1266],{"id":1265},"sc",[201,1267,1268],{},"-Sc",[15,1270,1271,1272,1275],{},"yay将会清除AUR包构建时的缓存和没有被track的文件。没有被track的文件在这里指AUR包构建时下载的sources或者构建完成的pkg包，但是vcs sources会被保留（比如.",[201,1273,1274],{},"git","文件夹）",[1025,1277,1279,1280],{"id":1278},"全局的options","全局的",[220,1281,1001],{},[15,1283,1284],{},"全局是指在所有\u003Coperation>下都可以加啦。",[1041,1286,1288],{"id":1287},"repo",[201,1289,1290],{},"--repo",[15,1292,1293],{},"假定你给出的包名只存在源里（忽视AUR的存在）",[1041,1295,1297],{"id":1296},"a-aur",[201,1298,1299],{},"-a(--aur)",[15,1301,1302],{},"假定你给出的包名只存在AUR中（忽视源的存在）",[22,1304,1305],{"id":1305},"配置设置",[15,1307,1308],{},"原版的man手册排的比较混乱，我这里自己细分了几个类型，或许不是特别专业，但我希望能够帮助你们理解。",[87,1310,1311],{"id":1311},"自定义调用命令型",[1041,1313,1315],{"id":1314},"editor-command",[201,1316,1317],{},"--editor \u003Ccommand>",[15,1319,1320],{},"设置编辑时调用的编辑器。",[1041,1322,1324],{"id":1323},"makepkg-command",[201,1325,1326],{},"--makepkg \u003Ccommand>",[15,1328,1329],{},"设置makepkg时需要调用makepkg命令（一般情况下用不到）",[1041,1331,1333],{"id":1332},"pacman-command",[201,1334,1335],{},"--pacman \u003Ccommand>",[15,1337,1338],{},"设置运行pacman时需要调用pacman命令（一般情况下用不到）",[1041,1340,1342],{"id":1341},"tar-command",[201,1343,1344],{},"--tar \u003Ccommand>",[15,1346,1347],{},"设置makepkg解压tar资源时调用的tar命令（一般情况下用不到）",[1041,1349,1351],{"id":1350},"git-command",[201,1352,1353],{},"--git \u003Ccommand>",[15,1355,1356,1357,1360],{},"设置makepkg clone git资源时调用的git命令（比如你可以安装AUR中的fgit-go，使用",[201,1358,1359],{},"--git fgit","参数来让fastgit代理clone的过程）",[1041,1362,1364],{"id":1363},"gpg-command",[201,1365,1366],{},"--gpg \u003Ccommand>",[15,1368,1369],{},"设置gpg验证资源时调用的gpg命令",[1041,1371,1373],{"id":1372},"sudo-command",[201,1374,1375],{},"--sudo \u003Ccommand>",[15,1377,1378],{},"设置调用sudo获取su权限安装pkg时所调用的sudo命令。",[87,1380,1381],{"id":1381},"自定义配置文件型",[1041,1383,1385],{"id":1384},"config-file",[201,1386,1387],{},"--config \u003Cfile>",[15,1389,1390],{},"设置读取的pacman配置文件。",[1041,1392,1394],{"id":1393},"makepkgconf-file",[201,1395,1396],{},"--makepkgconf \u003Cfile>",[15,1398,1399],{},"设置读取的makepkg配置文件。",[1041,1401,1403],{"id":1402},"nomakepkgconf",[201,1404,1405],{},"--nomakepkgconf",[15,1407,1408],{},"不读取系统中的makepkg.conf，仅使用Arch默认状态下的配置文件。",[87,1410,1411],{"id":1411},"自定义路径类型",[1041,1413,1415],{"id":1414},"builddir-dir",[201,1416,1417],{},"--builddir \u003Cdir>",[15,1419,1420,1421],{},"设置build路径，默认路径为",[201,1422,1057],{},[1041,1424,1426],{"id":1425},"absdir-dir",[201,1427,1428],{},"--absdir \u003Cdir>",[15,1430,1431,1432],{},"设置abs路径，默认路径为",[201,1433,1434],{},"~/.cache/yay/abs/",[87,1436,1437],{"id":1437},"参数传递型",[1041,1439,1441],{"id":1440},"editorflags-flags",[201,1442,1443],{},"--editorflags \u003Cflags>",[15,1445,1446],{},"后跟需要跟随传递给编辑器的参数。如果需要传递多个参数，可以使用引号。",[1041,1448,1450],{"id":1449},"mflags-flags",[201,1451,1452],{},"--mflags \u003Cflags>",[15,1454,1455],{},"后跟需要跟随传递给makepkg的参数。如果需要传递多个参数，可以使用引号。",[15,1457,1458,1459,1461,1462,1465],{},"这个用的人不多，但其实是非常好用的一个功能。在我们安装",[201,1460,296],{},"等包的时候，很可能会遇到文件明明完整但checksum不通过的情况，这时我们可以跟一个",[201,1463,1464],{},"--skipchecksums","参数传递给makepkg以跳过checksum的过程。",[1041,1467,1469],{"id":1468},"gpgflags-flags",[201,1470,1471],{},"--gpgflags \u003Cflags>",[15,1473,1474],{},"后跟需要跟随传递给pgp的参数。如果需要传递多个参数，可以使用引号。",[1041,1476,1478],{"id":1477},"sudoflags-flags",[201,1479,1480],{},"--sudoflags \u003Cflags>",[15,1482,1483],{},"后跟需要跟随传递给sudo的参数。如果需要传递多个参数，可以使用引号。",[87,1485,1486],{"id":1486},"菜单配置型",[1025,1488,1489],{"id":1489},"clean菜单",[1041,1491,1493,1494],{"id":1492},"cleanmenu","*",[201,1495,1496],{},"--cleanmenu",[15,1498,1499],{},"启用清除询问菜单。（询问你是否需要清除已存在的文件）",[1041,1501,1503],{"id":1502},"nocleanmenu",[201,1504,1505],{},"--nocleanmenu",[15,1507,1508],{},"禁用清除询问菜单。（不询问你是否需要清除已存在的文件）",[1041,1510,1512],{"id":1511},"answerclean",[201,1513,1514],{},"--answerclean",[15,1516,1517,1518,1209],{},"自动回答cleanmenu，后跟",[201,1519,1520],{},"\u003CAll|None|Installed|NotInstalled>",[1041,1522,1493,1524],{"id":1523},"noanswerclean",[201,1525,1526],{},"--noanswerclean",[15,1528,1529],{},"不设置自动回答。",[1025,1531,1532],{"id":1532},"diff菜单",[1041,1534,1493,1536],{"id":1535},"diffmenu",[201,1537,1538],{},"--diffmenu",[15,1540,1541],{},"启用对比询问菜单。（询问你是否需要对比本地文件和AUR文件）",[1041,1543,1545],{"id":1544},"nodiffmenu",[201,1546,1547],{},"--nodiffmenu",[15,1549,1550],{},"禁用对比询问菜单。（不询问你是否需要对比本地文件和AUR文件）",[1041,1552,1554],{"id":1553},"answerdiff",[201,1555,1556],{},"--answerdiff",[15,1558,1517,1559,1209],{},[201,1560,1520],{},[1041,1562,1493,1564],{"id":1563},"noanswerdiff",[201,1565,1566],{},"--noanswerdiff",[15,1568,1529],{},[1025,1570,1571],{"id":1571},"edit菜单",[1041,1573,1575],{"id":1574},"editmenu",[201,1576,1577],{},"--editmenu",[15,1579,1580],{},"启用修改询问菜单。（询问你是否需要修改PKGBUILD以及相关文件）",[1041,1582,1493,1584],{"id":1583},"noeditmenu",[201,1585,1586],{},"--noeditmenu",[15,1588,1589],{},"禁用修改询问菜单。（不询问你是否需要修改PKGBUILD以及相关文件）",[1041,1591,1593],{"id":1592},"answeredit",[201,1594,1595],{},"--answeredit",[15,1597,1598,1599,1209],{},"自动回答editmenu，后跟",[201,1600,1520],{},[1041,1602,1493,1604],{"id":1603},"noansweredit",[201,1605,1606],{},"--noansweredit",[15,1608,1529],{},[1025,1610,1611],{"id":1611},"upgrade菜单",[1041,1613,1493,1615],{"id":1614},"upgrademenu",[201,1616,1617],{},"--upgrademenu",[15,1619,1620],{},"启用更新询问菜单。（询问你是否需要更新AUR包）",[1041,1622,1624],{"id":1623},"noupgrademenu",[201,1625,1626],{},"--noupgrademenu",[15,1628,1629],{},"禁用更新询问菜单。（不询问你是否需要更新AUR包）",[1041,1631,1633],{"id":1632},"answerupgrade",[201,1634,1635],{},"--answerupgrade",[15,1637,1638,1639,1209],{},"自动回答upgrademenu，后跟",[201,1640,1520],{},[1041,1642,1493,1644],{"id":1643},"noanswerupgrade",[201,1645,1646],{},"--noanswerupgrade",[15,1648,1529],{},[1025,1650,1651],{"id":1651},"removemake菜单",[1041,1653,1493,1655],{"id":1654},"askremovemake",[201,1656,1657],{},"--askremovemake",[15,1659,1660],{},"在编译结束后，询问是否删除make depend。",[1041,1662,1664],{"id":1663},"removemake",[201,1665,1666],{},"--removemake",[15,1668,1669],{},"在编译结束后，删除make depend。",[1041,1671,1673],{"id":1672},"noremovemake",[201,1674,1675],{},"--noremovemake",[15,1677,1678],{},"在编译结束后，不删除make depend。",[1025,1680,1681],{"id":1681},"provides菜单",[1041,1683,1493,1685],{"id":1684},"provides",[201,1686,1687],{},"--provides",[15,1689,1690],{},"搜索AUR包时，一同寻找其在AUR上的依赖程序。 当找到多个提供该依赖的包时，将出现一个菜单，提示您选择一个。尽管这不会引起注意，但这会增加依赖项解决时间。",[1041,1692,1694],{"id":1693},"noprovides",[201,1695,1696],{},"--noprovides",[15,1698,1699],{},"搜索AUR包时，不在AUR上寻找其依赖程序。尽管yay不会再次弹出依赖菜单供你选择，yay调用pacman时依然会出现pacman的选择菜单让你选择。",[1025,1701,1702],{"id":1702},"pgpfetch菜单",[1041,1704,1493,1706],{"id":1705},"pgpfetch",[201,1707,1708],{},"--pgpfetch",[15,1710,1711],{},"询问你是否从每个PKGBUILD的validpgpkeys字段导入未知的PGP密钥。",[1041,1713,1715],{"id":1714},"nopgpfetch",[201,1716,1717],{},"--nopgpfetch",[15,1719,1720],{},"不自动导入陌生的PGP密钥。",[1025,1722,1723],{"id":1723},"useask选项",[1041,1725,1493,1727],{"id":1726},"useask",[201,1728,1729],{},"--useask",[15,1731,1732],{},"调用pacman的--ask询问用户是否删除系统中与当前包冲突的软件包。",[1041,1734,1736],{"id":1735},"nouseask",[201,1737,1738],{},"--nouseask",[15,1740,1741],{},"不调用pacman的--ask询问用户是否删除系统中与当前包冲突的软件包，遇到冲突的软件包时直接报错，由用户来手动解决。",[1025,1743,1744],{"id":1744},"combinedupgrade菜单",[1041,1746,1748],{"id":1747},"combinedupgrade",[201,1749,1750],{},"--combinedupgrade",[15,1752,1753],{},"在系统更新期间，将源内包和AUR包的更新菜单合并到一起。",[1041,1755,1493,1757],{"id":1756},"nocombinedupgrade",[201,1758,1759],{},"--nocombinedupgrade",[15,1761,1762],{},"在系统更新期间，先支持源内包的升级，完成后再进行AUR包的升级。",[87,1764,1766],{"id":1765},"t-or-f-型","T or F 型",[1025,1768,1769],{"id":1769},"devel",[1041,1771,1772],{"id":1769},[201,1773,1774],{},"--devel",[15,1776,1777,1778,1781],{},"在系统更新期间，检查AUR的vcs包是否有更新，当前仅支持AUR的-git包。 devel查询是使用",[201,1779,1780],{},"git ls-remote","对比安装时和现在最新的commit_id完成的。",[1041,1783,1493,1785],{"id":1784},"nodevel",[201,1786,1787],{},"--nodevel",[15,1789,1790],{},"在系统更新期间， 不检查AUR的vcs包是否有更新。",[1025,1792,1793],{"id":1793},"timeupdate",[1041,1795,1796],{"id":1793},[201,1797,1798],{},"--timeupdate",[15,1800,1801],{},"在系统更新期间，将已安装软件包的构建时间与每个软件包的AUR的最后修改时间进行比较。",[1041,1803,1493,1805],{"id":1804},"notimeupdate",[201,1806,1807],{},"--notimeupdate",[15,1809,1810],{},"在系统更新期间，不将已安装软件包的构建时间与每个软件包的AUR的最后修改时间进行比较。",[1025,1812,1813],{"id":1813},"redownload",[1041,1815,1816],{"id":1813},[201,1817,1818],{},"--redownload",[15,1820,1821],{},"就算PKGBUILD已经存在，也要重新从AUR上获取一份新的PKGBUILD并覆盖原有PKGBUILD。",[1041,1823,1825],{"id":1824},"redownloadall",[201,1826,1827],{},"--redownloadall",[15,1829,1830],{},"就算PKGBUILD已经存在，也要重新从AUR上获取所有AUR包的PKGBUILD并覆盖原有PKGBUILD。",[1041,1832,1493,1834],{"id":1833},"noredownload",[201,1835,1836],{},"--noredownload",[15,1838,1839],{},"当下载PKGBUILD时，，如果发现cache中的PKGBUILD版本＞＝AUR上的版本时，直接使用本地的PKGBUILD。",[1025,1841,1842],{"id":1842},"rebuild",[1041,1844,1845],{"id":1842},[201,1846,1847],{},"--rebuild",[15,1849,1850],{},"即使在cache中有可用的二进制包的情况下，也始终要重新编译目标软件包。",[1041,1852,1854],{"id":1853},"rebuildall",[201,1855,1856],{},"--rebuildall",[15,1858,1859],{},"即使在cache中有可用的二进制包的情况下，也始终要重新编译所有的AUR包。",[1041,1861,1863],{"id":1862},"rebuildtree",[201,1864,1865],{},"--rebuildtree",[15,1867,1868],{},"安装AUR包时，以递归方式重新编译并重新安装其所有AUR依赖包，即使已安装的依赖项也是如此。 该选项使您可以轻松地针对当前系统的库重新构建软件包，如果它们变得不兼容。（比如python3.8->3.9）",[1041,1870,1493,1872],{"id":1871},"norebuild",[201,1873,1874],{},"--norebuild",[15,1876,1877],{},"构建软件包时，如果在缓存中找到该软件包并且该软件包与想要的软件包的版本相同，则跳过软件包的编译过程并使用现有的二进制程序。",[1025,1879,1880],{"id":1880},"sudoloop",[1041,1882,1883],{"id":1880},[201,1884,1885],{},"--sudoloop",[15,1887,1888],{},"在后台循环调用sudo，以防止sudo授权在长时间构建期间超时。",[1041,1890,1493,1892],{"id":1891},"nosudoloop",[201,1893,1894],{},"--nosudoloop",[15,1896,1897],{},"不在后台循环调用sudo，可能会导致sudo授权在长时间构建期间超时。",[1025,1899,1900],{"id":1900},"batchinstall",[1041,1902,1903],{"id":1900},[201,1904,1905],{},"--batchinstall",[15,1907,1908],{},"在构建和安装AUR包时，对每个软件包的安装进行排序，而并非在构建之后立刻安装每个软件包时。 需要注意的是，一旦构建了所有软件包，或者需要构建队列中的软件包作为构建另一个软件包的依赖项，应当在安装队列中安装所有软件包。",[1041,1910,1493,1912],{"id":1911},"nobatchinstall",[201,1913,1914],{},"--nobatchinstall",[15,1916,1917],{},"在构建AUR包成功后立即安装。",[1025,1919,1920],{"id":1920},"clearafter",[1041,1922,1924],{"id":1923},"cleanafter",[201,1925,1926],{},"--cleanafter",[15,1928,1929],{},"在构建AUR包完成以后清除cache文件。",[1041,1931,1493,1933],{"id":1932},"nocleanafter",[201,1934,1935],{},"--nocleanafter",[15,1937,1938],{},"在构建AUR包完成以后不清除cache文件。",[87,1940,1941],{"id":1941},"其他型",[1041,1943,1945],{"id":1944},"save",[201,1946,1947],{},"--save",[15,1949,1950],{},"把你这一次执行yay后面跟的配置参数永久保存下来。",[1041,1952,1954],{"id":1953},"aururl",[201,1955,1956],{},"--aururl",[15,1958,1959,1960,1964,1965],{},"更改aur源地址（默认为 ",[135,1961,1962],{"href":1962,"rel":1963},"https://aur.archlinux.org",[139]," ），",[40,1966,1967],{},"适用于中国用户，可以使用此参数将AUR的地址设置成清华的反代，具体的配置命令为",[194,1969,1971],{"className":664,"code":1970,"language":666,"meta":111,"style":111},"yay --aururl \"https://aur.tuna.tsinghua.edu.cn\" --save\n",[201,1972,1973],{"__ignoreMap":111},[220,1974,1975,1977,1980,1983],{"class":222,"line":223},[220,1976,947],{"class":769},[220,1978,1979],{"class":773}," --aururl",[220,1981,1982],{"class":255}," \"https://aur.tuna.tsinghua.edu.cn\"",[220,1984,1985],{"class":773}," --save\n",[15,1987,1988],{},"TUNA 的反代已经取消，可以使用如下命令设置回 AUR 官方源",[194,1990,1992],{"className":664,"code":1991,"language":666,"meta":111,"style":111},"yay --aururl \"https://aur.archlinux.org\" --save\n",[201,1993,1994],{"__ignoreMap":111},[220,1995,1996,1998,2000,2003],{"class":222,"line":223},[220,1997,947],{"class":769},[220,1999,1979],{"class":773},[220,2001,2002],{"class":255}," \"https://aur.archlinux.org\"",[220,2004,1985],{"class":773},[1041,2006,2008],{"id":2007},"sortby",[201,2009,2010],{},"--sortby",[15,2012,2013,2014,2017,2018,458],{},"在搜索过程中，按特定条件对AUR结果进行排序，后跟",[201,2015,2016],{},"\u003Cvotes|popularity|id|baseid|name|base|submitted|modified","参数，默认为",[201,2019,2020],{},"votes",[1041,2022,2024],{"id":2023},"searchby",[201,2025,2026],{},"--searchby",[15,2028,2029,2030,2017,2033,458],{},"通过指定查询类型来搜索AUR软件包，后跟",[201,2031,2032],{},"\u003Cname|name-desc|maintainer|depends|checkdepends|makedepends|optdepends",[201,2034,2035],{},"name-desc",[1041,2037,1493,2039],{"id":2038},"topdown",[201,2040,2041],{},"--topdown",[15,2043,2044],{},"优先展示源内包，其次才是AUR包",[1041,2046,2048],{"id":2047},"bottomup",[201,2049,2050],{},"--bottomup",[15,2052,2053],{},"优先展示AUR包，其次才是源内包",[1041,2055,2057],{"id":2056},"requestsplitn-number",[201,2058,2059],{},"--requestsplitn \u003Cnumber>",[15,2061,2062],{},"设置在每次向AUR的请求的最大数值（默认150）。数值越高，请求时间越短，但是单次请求的数值过大会导致error。当这个数值＞500时你应当特别注意这一点。",[1041,2064,2066],{"id":2065},"completioninterval-days",[201,2067,2068],{},"--completioninterval \u003Cdays>",[15,2070,2071],{},"刷新完成高速缓存的时间（以天为单位,默认为7）。 将此值设置为0将导致每次刷新缓存，而将其设置为-1将导致永远不刷新缓存。",[22,2073,2074],{"id":2074},"我个人的常用命令",[194,2076,2079],{"className":2077,"code":2078,"language":199},[197],"yay\nyay foo\nyay -Sa foo\nyay -Scc\nyay -Ps\nyay -Pww\nyay -Gpa\nyay -Ga\n",[201,2080,2078],{"__ignoreMap":111},[15,2082,2083],{},[1213,2084,2085,2086,2091],{},"本文同时发布于「",[135,2087,2090],{"href":2088,"rel":2089},"https://zhuanlan.zhihu.com/p/363666022",[139],"知乎专栏","」，如果你恰好有知乎帐号的话或许可以考虑帮我点个赞？",[275,2093,2094],{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":111,"searchDepth":112,"depth":112,"links":2096},[2097,2103,2112],{"id":935,"depth":112,"text":935,"children":2098},[2099,2100,2101,2102],{"id":947,"depth":120,"text":947},{"id":968,"depth":120,"text":944},{"id":993,"depth":120,"text":941},{"id":1239,"depth":120,"text":1240},{"id":1305,"depth":112,"text":1305,"children":2104},[2105,2106,2107,2108,2109,2110,2111],{"id":1311,"depth":120,"text":1311},{"id":1381,"depth":120,"text":1381},{"id":1411,"depth":120,"text":1411},{"id":1437,"depth":120,"text":1437},{"id":1486,"depth":120,"text":1486},{"id":1765,"depth":120,"text":1766},{"id":1941,"depth":120,"text":1941},{"id":2074,"depth":112,"text":2074},"/en/archives/",133,1769818307156]