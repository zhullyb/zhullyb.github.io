[{"data":1,"prerenderedAt":281},["ShallowReactive",2],{"post-2020-07-11-reponotes-zh":3,"surround-2020-07-11-reponotes-zh":269,"randomIndex/2020/07/11/reponotes/":102,"language-switch-/2020/07/11/reponotes/-en":280},{"title":4,"date":5,"path":6,"tags":7,"body":10,"description":35},"repo笔记","2020-07-11","/2020/07/11/reponotes",[8,9],"Linux","Notes",{"type":11,"value":12,"toc":265},"minimark",[13,17,26,29,76,79,83,225,231,247,250,261],[14,15,16],"h3",{"id":16},"清除同步过程中产生的不完整碎片文件",[18,19,20,21,25],"p",{},"在",[22,23,24],"code",{},"源码路径/.repo","下搜索tmp_pack\n将搜索结果中出现的所有文件全部删除",[18,27,28],{},"以下命令仅供参考",[30,31,36],"pre",{"className":32,"code":33,"language":34,"meta":35,"style":35},"language-bash shiki shiki-themes one-light one-dark-pro","rm -rf */*/*/*/objects/pack/tmp_pack_*\n","bash","",[22,37,38],{"__ignoreMap":35},[39,40,43,47,51,55,59,62,64,66,68,70,73],"span",{"class":41,"line":42},"line",1,[39,44,46],{"class":45},"sAdtL","rm",[39,48,50],{"class":49},"sAGMh"," -rf",[39,52,54],{"class":53},"s2QsP"," *",[39,56,58],{"class":57},"sDhpE","/",[39,60,61],{"class":53},"*",[39,63,58],{"class":57},[39,65,61],{"class":53},[39,67,58],{"class":57},[39,69,61],{"class":53},[39,71,72],{"class":57},"/objects/pack/tmp_pack_",[39,74,75],{"class":53},"*\n",[14,77,78],{"id":78},"repo自动同步",[80,81,82],"h5",{"id":82},"下载脚本",[30,84,88],{"className":85,"code":86,"language":87,"meta":35,"style":35},"language-shell shiki shiki-themes one-light one-dark-pro","echo #!/bin/bash\necho \"======start repo sync======\"\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\nwhile [ $? == 1 ]; do\necho \"======sync failed, re-sync again======\"\nsleep 3\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\ndone\n> repo.sh\n","shell",[22,89,90,100,108,144,171,179,188,213,219],{"__ignoreMap":35},[39,91,92,96],{"class":41,"line":42},[39,93,95],{"class":94},"s_Sar","echo",[39,97,99],{"class":98},"sW2Sy"," #!/bin/bash\n",[39,101,103,105],{"class":41,"line":102},2,[39,104,95],{"class":94},[39,106,107],{"class":57}," \"======start repo sync======\"\n",[39,109,111,114,117,120,123,126,129,132,135,138,141],{"class":41,"line":110},3,[39,112,113],{"class":45},"repo",[39,115,116],{"class":57}," sync",[39,118,119],{"class":49},"  --force-sync",[39,121,122],{"class":49}," --current-branch",[39,124,125],{"class":49}," --no-tags",[39,127,128],{"class":49}," --no-clone-bundle",[39,130,131],{"class":49}," --optimized-fetch",[39,133,134],{"class":49}," --prune",[39,136,137],{"class":49}," -j$(",[39,139,140],{"class":45},"nproc",[39,142,143],{"class":49}," --all)\n",[39,145,147,151,155,158,162,165,168],{"class":41,"line":146},4,[39,148,150],{"class":149},"sLKXg","while",[39,152,154],{"class":153},"s5ixo"," [ ",[39,156,157],{"class":53},"$?",[39,159,161],{"class":160},"sknuh"," ==",[39,163,164],{"class":49}," 1",[39,166,167],{"class":153}," ]; ",[39,169,170],{"class":149},"do\n",[39,172,174,176],{"class":41,"line":173},5,[39,175,95],{"class":94},[39,177,178],{"class":57}," \"======sync failed, re-sync again======\"\n",[39,180,182,185],{"class":41,"line":181},6,[39,183,184],{"class":45},"sleep",[39,186,187],{"class":49}," 3\n",[39,189,191,193,195,197,199,201,203,205,207,209,211],{"class":41,"line":190},7,[39,192,113],{"class":45},[39,194,116],{"class":57},[39,196,119],{"class":49},[39,198,122],{"class":49},[39,200,125],{"class":49},[39,202,128],{"class":49},[39,204,131],{"class":49},[39,206,134],{"class":49},[39,208,137],{"class":49},[39,210,140],{"class":45},[39,212,143],{"class":49},[39,214,216],{"class":41,"line":215},8,[39,217,218],{"class":149},"done\n",[39,220,222],{"class":41,"line":221},9,[39,223,224],{"class":153},"> repo.sh\n",[18,226,227],{},[228,229,230],"strong",{},"授予运行权限",[30,232,234],{"className":32,"code":233,"language":34,"meta":35,"style":35},"chmod a+x repo.sh\n",[22,235,236],{"__ignoreMap":35},[39,237,238,241,244],{"class":41,"line":42},[39,239,240],{"class":45},"chmod",[39,242,243],{"class":57}," a+x",[39,245,246],{"class":57}," repo.sh\n",[80,248,249],{"id":249},"运行脚本",[30,251,253],{"className":85,"code":252,"language":87,"meta":35,"style":35},"bash repo.sh\n",[22,254,255],{"__ignoreMap":35},[39,256,257,259],{"class":41,"line":42},[39,258,34],{"class":45},[39,260,246],{"class":57},[262,263,264],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sknuh, html code.shiki .sknuh{--shiki-default:#383A42;--shiki-dark:#56B6C2}",{"title":35,"searchDepth":102,"depth":102,"links":266},[267,268],{"id":16,"depth":110,"text":16},{"id":78,"depth":110,"text":78},[270,275],{"title":271,"path":272,"stem":273,"date":5,"lang":274,"children":-1},"git笔记","/2020/07/11/gitnotes","posts/zh/GitNotes","zh-CN",{"title":276,"path":277,"stem":278,"date":279,"lang":274,"children":-1},"在Windows下给cmd设置代理","/2020/03/03/set-proxy-for-cmd-under-windows","posts/zh/set-proxy-for-cmd-under-windows","2020-03-03",null,1771553309194]