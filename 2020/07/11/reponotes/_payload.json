[{"data":1,"prerenderedAt":289},["ShallowReactive",2],{"post-2020-07-11-reponotes":3,"has-en-2020-07-11-reponotes":274,"surround-2020-07-11-reponotes":279,"randomIndex/2020/07/11/reponotes/":106},{"id":4,"title":5,"body":6,"date":265,"description":31,"extension":266,"lang":267,"meta":268,"navigation":269,"path":270,"rawbody":271,"seo":272,"stem":273,"sticky":274,"tags":275,"__hash__":278},"posts/posts/RepoNotes.md","repo笔记",{"type":7,"value":8,"toc":261},"minimark",[9,13,22,25,72,75,79,221,227,243,246,257],[10,11,12],"h3",{"id":12},"清除同步过程中产生的不完整碎片文件",[14,15,16,17,21],"p",{},"在",[18,19,20],"code",{},"源码路径/.repo","下搜索tmp_pack\n将搜索结果中出现的所有文件全部删除",[14,23,24],{},"以下命令仅供参考",[26,27,32],"pre",{"className":28,"code":29,"language":30,"meta":31,"style":31},"language-bash shiki shiki-themes one-light one-dark-pro","rm -rf */*/*/*/objects/pack/tmp_pack_*\n","bash","",[18,33,34],{"__ignoreMap":31},[35,36,39,43,47,51,55,58,60,62,64,66,69],"span",{"class":37,"line":38},"line",1,[35,40,42],{"class":41},"sAdtL","rm",[35,44,46],{"class":45},"sAGMh"," -rf",[35,48,50],{"class":49},"s2QsP"," *",[35,52,54],{"class":53},"sDhpE","/",[35,56,57],{"class":49},"*",[35,59,54],{"class":53},[35,61,57],{"class":49},[35,63,54],{"class":53},[35,65,57],{"class":49},[35,67,68],{"class":53},"/objects/pack/tmp_pack_",[35,70,71],{"class":49},"*\n",[10,73,74],{"id":74},"repo自动同步",[76,77,78],"h5",{"id":78},"下载脚本",[26,80,84],{"className":81,"code":82,"language":83,"meta":31,"style":31},"language-shell shiki shiki-themes one-light one-dark-pro","echo #!/bin/bash\necho \"======start repo sync======\"\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\nwhile [ $? == 1 ]; do\necho \"======sync failed, re-sync again======\"\nsleep 3\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\ndone\n> repo.sh\n","shell",[18,85,86,96,104,140,167,175,184,209,215],{"__ignoreMap":31},[35,87,88,92],{"class":37,"line":38},[35,89,91],{"class":90},"s_Sar","echo",[35,93,95],{"class":94},"sW2Sy"," #!/bin/bash\n",[35,97,99,101],{"class":37,"line":98},2,[35,100,91],{"class":90},[35,102,103],{"class":53}," \"======start repo sync======\"\n",[35,105,107,110,113,116,119,122,125,128,131,134,137],{"class":37,"line":106},3,[35,108,109],{"class":41},"repo",[35,111,112],{"class":53}," sync",[35,114,115],{"class":45},"  --force-sync",[35,117,118],{"class":45}," --current-branch",[35,120,121],{"class":45}," --no-tags",[35,123,124],{"class":45}," --no-clone-bundle",[35,126,127],{"class":45}," --optimized-fetch",[35,129,130],{"class":45}," --prune",[35,132,133],{"class":45}," -j$(",[35,135,136],{"class":41},"nproc",[35,138,139],{"class":45}," --all)\n",[35,141,143,147,151,154,158,161,164],{"class":37,"line":142},4,[35,144,146],{"class":145},"sLKXg","while",[35,148,150],{"class":149},"s5ixo"," [ ",[35,152,153],{"class":49},"$?",[35,155,157],{"class":156},"sknuh"," ==",[35,159,160],{"class":45}," 1",[35,162,163],{"class":149}," ]; ",[35,165,166],{"class":145},"do\n",[35,168,170,172],{"class":37,"line":169},5,[35,171,91],{"class":90},[35,173,174],{"class":53}," \"======sync failed, re-sync again======\"\n",[35,176,178,181],{"class":37,"line":177},6,[35,179,180],{"class":41},"sleep",[35,182,183],{"class":45}," 3\n",[35,185,187,189,191,193,195,197,199,201,203,205,207],{"class":37,"line":186},7,[35,188,109],{"class":41},[35,190,112],{"class":53},[35,192,115],{"class":45},[35,194,118],{"class":45},[35,196,121],{"class":45},[35,198,124],{"class":45},[35,200,127],{"class":45},[35,202,130],{"class":45},[35,204,133],{"class":45},[35,206,136],{"class":41},[35,208,139],{"class":45},[35,210,212],{"class":37,"line":211},8,[35,213,214],{"class":145},"done\n",[35,216,218],{"class":37,"line":217},9,[35,219,220],{"class":149},"> repo.sh\n",[14,222,223],{},[224,225,226],"strong",{},"授予运行权限",[26,228,230],{"className":28,"code":229,"language":30,"meta":31,"style":31},"chmod a+x repo.sh\n",[18,231,232],{"__ignoreMap":31},[35,233,234,237,240],{"class":37,"line":38},[35,235,236],{"class":41},"chmod",[35,238,239],{"class":53}," a+x",[35,241,242],{"class":53}," repo.sh\n",[76,244,245],{"id":245},"运行脚本",[26,247,249],{"className":81,"code":248,"language":83,"meta":31,"style":31},"bash repo.sh\n",[18,250,251],{"__ignoreMap":31},[35,252,253,255],{"class":37,"line":38},[35,254,30],{"class":41},[35,256,242],{"class":53},[258,259,260],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sknuh, html code.shiki .sknuh{--shiki-default:#383A42;--shiki-dark:#56B6C2}",{"title":31,"searchDepth":98,"depth":98,"links":262},[263,264],{"id":12,"depth":106,"text":12},{"id":74,"depth":106,"text":74},"2020-07-11","md","zh-CN",{},true,"/2020/07/11/reponotes","---\ntitle: repo笔记\ndate: 2020-07-11\ntags:\n      - Linux\n      - Notes\n---\n\n\n### 清除同步过程中产生的不完整碎片文件\n\n在```源码路径/.repo```下搜索tmp_pack\n将搜索结果中出现的所有文件全部删除\n\n以下命令仅供参考\n\n```bash\nrm -rf */*/*/*/objects/pack/tmp_pack_*\n```\n\n### repo自动同步\n\n##### 下载脚本\n\n```shell\necho #!/bin/bash\necho \"======start repo sync======\"\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\nwhile [ $? == 1 ]; do\necho \"======sync failed, re-sync again======\"\nsleep 3\nrepo sync  --force-sync --current-branch --no-tags --no-clone-bundle --optimized-fetch --prune -j$(nproc --all)\ndone\n> repo.sh\n```\n\n**授予运行权限**\n\n```bash\nchmod a+x repo.sh\n```\n\n##### 运行脚本\n\n```shell\nbash repo.sh\n```\n\n",{"title":5,"description":31},"posts/RepoNotes",false,[276,277],"Linux","Notes","Bgibc-0ehTmm8FwBGjrXS4YcQWAr7nS_xO0bAfj3A8I",[280,284],{"title":281,"path":282,"stem":283,"date":265,"children":-1},"git笔记","/2020/07/11/gitnotes","posts/GitNotes",{"title":285,"path":286,"stem":287,"date":288,"children":-1},"在Windows下给cmd设置代理","/2020/03/03/set-proxy-for-cmd-under-windows","posts/set-proxy-for-cmd-under-windows","2020-03-03",1763366014503]