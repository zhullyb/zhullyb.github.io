[{"data":1,"prerenderedAt":137},["ShallowReactive",2],{"post-2022-09-29-use-l2tp-protocol-to-connect-internet-zh":3,"surround-2022-09-29-use-l2tp-protocol-to-connect-internet-zh":124,"randomIndex/2022/09/29/use-l2tp-protocol-to-connect-internet/":135,"language-switch-/2022/09/29/use-l2tp-protocol-to-connect-internet/-en":136},{"id":4,"title":5,"body":6,"date":110,"description":63,"extension":111,"lang":112,"meta":113,"navigation":114,"path":115,"rawbody":116,"seo":117,"stem":118,"sticky":119,"tags":120,"__hash__":123},"posts/posts/zh/use-l2tp-protocol-to-connect-internet.md","在 Archlinux 下使用 l2tp 协议连接校园网",{"type":7,"value":8,"toc":107},"minimark",[9,16,24,31,34,45,54,57,87,90,97,103],[10,11,12],"blockquote",{},[13,14,15],"p",{},"由于高考爆炸，所以不得不进入浙江工地大专来度过自己接下来四年的人生（希望到时候可以借助学校的力量润出去）。",[13,17,18,19,23],{},"学校这边由于某些不可描述的原因，将校园卡与宽带捆绑销售，且每次登陆校园网时都需要使用定制的 l2tp 协议客户端进行上网，且该客户端将会禁用用户的无线网卡（",[20,21,22],"del",{},"这不明摆着想让我们宿舍每个人都花一次钱","）。",[13,25,26],{},[27,28],"img",{"alt":29,"src":30},"学校定制的 l2tp 拨号客户端","https://static.031130.xyz/uploads/2024/08/12/63353e0e1978c.webp",[13,32,33],{},"更惨的是，学校仅提供了 Windows 与 MacOS 的客户端。",[13,35,36,37,44],{},"在 ",[38,39,43],"a",{"href":40,"rel":41},"https://imbearchild.cyou/",[42],"nofollow","BearChild"," 的提醒下，我意识到 Linux 下也可以有 l2tp 协议。",[13,46,47,48,53],{},"谷歌搜索了一番，我在简书上捞到了这篇文章",[38,49,52],{"href":50,"rel":51},"https://www.jianshu.com/p/85cd5bd3c7a2",[42],"《ubuntu 连校园网 via l2tp》","。不过这显然有些麻烦，我们的客户端不需要 pppoe 拨号，只需要插上网线后连接 l2tp 协议即可联网。",[13,55,56],{},"所幸，NetworkManager 非常贴心地为我们提供了 l2tp 的插件，在 Archlinux 下使用如下命令即可完成安装。",[58,59,64],"pre",{"className":60,"code":61,"language":62,"meta":63,"style":63},"language-bash shiki shiki-themes one-light one-dark-pro","sudo pacman -S networkmanager-l2tp\n","bash","",[65,66,67],"code",{"__ignoreMap":63},[68,69,72,76,80,84],"span",{"class":70,"line":71},"line",1,[68,73,75],{"class":74},"sAdtL","sudo",[68,77,79],{"class":78},"sDhpE"," pacman",[68,81,83],{"class":82},"sAGMh"," -S",[68,85,86],{"class":78}," networkmanager-l2tp\n",[13,88,89],{},"安装完成后，就可以在图形化界面下进行我们的设置操作。",[13,91,92,93,96],{},"由于定制的客户端已经把 l2tp 服务器 ip 写死且显示在界面上了，我们就不需要再去抓包截取服务器 ip，直接使用这边的 ",[65,94,95],{},"192.168.115.1"," 即可。",[13,98,99],{},[27,100],{"alt":101,"src":102},"KDE 下的 NetworkManager l2tp 设置界面","https://static.031130.xyz/uploads/2024/08/12/63354161dbe28.webp",[104,105,106],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":63,"searchDepth":108,"depth":108,"links":109},2,[],"2022-09-29 14:30:46","md","zh-CN",{},true,"/2022/09/29/use-l2tp-protocol-to-connect-internet","---\ntitle: 在 Archlinux 下使用 l2tp 协议连接校园网\ndate: 2022-09-29 14:30:46\nsticky:\ntags:\n- Archlinux\n- Network\n---\n\n> 由于高考爆炸，所以不得不进入浙江工地大专来度过自己接下来四年的人生（希望到时候可以借助学校的力量润出去）。\n\n学校这边由于某些不可描述的原因，将校园卡与宽带捆绑销售，且每次登陆校园网时都需要使用定制的 l2tp 协议客户端进行上网，且该客户端将会禁用用户的无线网卡（~~这不明摆着想让我们宿舍每个人都花一次钱~~）。\n\n![学校定制的 l2tp 拨号客户端](https://static.031130.xyz/uploads/2024/08/12/63353e0e1978c.webp)\n\n更惨的是，学校仅提供了 Windows 与 MacOS 的客户端。\n\n在 [BearChild](https://imbearchild.cyou/) 的提醒下，我意识到 Linux 下也可以有 l2tp 协议。\n\n谷歌搜索了一番，我在简书上捞到了这篇文章[《ubuntu 连校园网 via l2tp》](https://www.jianshu.com/p/85cd5bd3c7a2)。不过这显然有些麻烦，我们的客户端不需要 pppoe 拨号，只需要插上网线后连接 l2tp 协议即可联网。\n\n所幸，NetworkManager 非常贴心地为我们提供了 l2tp 的插件，在 Archlinux 下使用如下命令即可完成安装。\n\n```bash\nsudo pacman -S networkmanager-l2tp\n```\n\n安装完成后，就可以在图形化界面下进行我们的设置操作。\n\n由于定制的客户端已经把 l2tp 服务器 ip 写死且显示在界面上了，我们就不需要再去抓包截取服务器 ip，直接使用这边的 `192.168.115.1` 即可。\n\n![KDE 下的 NetworkManager l2tp 设置界面](https://static.031130.xyz/uploads/2024/08/12/63354161dbe28.webp)\n",{"title":5,"description":63},"posts/zh/use-l2tp-protocol-to-connect-internet",false,[121,122],"Archlinux","Network","FUAGCu3uqdYlGJtCOAoDL6G2MpoPBPG5U2S9KDIv_EM",[125,130],{"title":126,"path":127,"stem":128,"date":129,"lang":112,"children":-1},"使用 VirtScreen 将 Pad 作为副屏","/2022/10/04/use-virtscreen-to-turn-pad-into-another-screen","posts/zh/use-virtscreen-to-turn-pad-into-another-screen","2022-10-04 00:19:20",{"title":131,"path":132,"stem":133,"date":134,"lang":112,"children":-1},"为 Element 添加自己喜欢的贴纸","/2022/08/10/add-sticker-support-for-element","posts/zh/add-sticker-support-for-element","2022-08-10 19:51:19",8,null,1763997557933]