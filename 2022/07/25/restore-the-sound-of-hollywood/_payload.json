[{"data":1,"prerenderedAt":293},["ShallowReactive",2],{"post-2022-07-25-restore-the-sound-of-hollywood":3,"surround-2022-07-25-restore-the-sound-of-hollywood":281,"randomIndex/2022/07/25/restore-the-sound-of-hollywood":292},{"id":4,"title":5,"body":6,"date":268,"description":12,"extension":269,"meta":270,"navigation":271,"path":272,"rawbody":273,"seo":274,"stem":275,"sticky":276,"tags":277,"__hash__":280},"posts/posts/restore-the-sound-of-hollywood.md","如何拯救失声的 hollywood",{"type":7,"value":8,"toc":266},"minimark",[9,13,24,27,33,36,39,48,60,92,103,112,115,130,259,262],[10,11,12],"p",{},"我刚开始接触 Linux 下的 hollywood 时，我记得它运行时是有声音的，应该是 007 的主题音乐，如今再次装上 hollywood，却发现音乐没了。",[10,14,15,16,23],{},"在 Github 找到 hollywood，发现有一个 ",[17,18,22],"a",{"href":19,"rel":20},"https://github.com/dustinkirkland/hollywood/issues/58",[21],"nofollow","issue"," 也提到了这个问题。",[10,25,26],{},"原作者在该 issue 中回复道",[28,29,30],"blockquote",{},[10,31,32],{},"没错，它只是一段视频，音频受到版权保护。",[10,34,35],{},"所以不难看出，作者因为版权问题而去掉了音频，进而导致 hollywood 失声。但我们作为用户，是不是可以想办法获取到老版本中那段带有音频的 mp4 文件呢？",[10,37,38],{},"答案是肯定的。",[10,40,41,42,47],{},"得益于 git 的版本控制特色，在 hollywood 的 github 仓库中，我们可以找到原来的 ",[17,43,46],{"href":44,"rel":45},"https://github.com/dustinkirkland/hollywood/blob/67839229f878a08521885e9fc05dd2d3ba10ddd1/share/hollywood/mi.mp4",[21],"mp4 文件","。",[10,49,50,51,55,56,59],{},"下载这个 mp4 文件后，我们将其放入 ",[52,53,54],"code",{},"/usr/share/hollywood/"," 路径下，重命名为 ",[52,57,58],{},"soundwave.mp4","，并确保其被正确设定为 0644 权限。",[61,62,67],"pre",{"className":63,"code":64,"language":65,"meta":66,"style":66},"language-bash shiki shiki-themes github-light github-dark","sudo install -Dm644 ./mi.mp4 /usr/share/hollywood/soundwave.mp4\n","bash","",[52,68,69],{"__ignoreMap":66},[70,71,74,78,82,86,89],"span",{"class":72,"line":73},"line",1,[70,75,77],{"class":76},"sScJk","sudo",[70,79,81],{"class":80},"sZZnC"," install",[70,83,85],{"class":84},"sj4cs"," -Dm644",[70,87,88],{"class":80}," ./mi.mp4",[70,90,91],{"class":80}," /usr/share/hollywood/soundwave.mp4\n",[10,93,94,95,98,99,102],{},"接下来试着跑一跑 ",[52,96,97],{},"hollywood","，发现依然没有声音。再次查阅源码，发现缺少了 ",[52,100,101],{},"mplayer"," 这个依赖。",[10,104,105,106,108,109,111],{},"使用包管理器安装 ",[52,107,101],{}," 后，运行 ",[52,110,97],{}," 就可以听到声音了。",[10,113,114],{},"然而，你觉不觉得这个音乐。。。听上去怪怪的。。。",[10,116,117,118,120,121,126,127],{},"没错，作者在去掉音频后，给 ",[52,119,58],{}," ",[17,122,125],{"href":123,"rel":124},"https://github.com/dustinkirkland/hollywood/commit/95f77d570d86cd8b8fe0e0939049609f81d1bae0#diff-3e2bf53af1a38136a109ac4fa1b11189e7b6fcd4385e1c68683093f73c6ac485",[21],"设定了加速播放","。而我们现在需要这段视频被原速播放。编辑 ",[52,128,129],{},"/usr/lib/hollywood/mplayer",[61,131,135],{"className":132,"code":133,"language":134,"meta":66,"style":66},"language-diff shiki shiki-themes github-light github-dark","#!/bin/bash\n#\n# Copyright 2014 Dustin Kirkland \u003Cdustin.kirkland@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\ncommand -v mplayer >/dev/null 2>&1 || exit 1\ntrap \"pkill -f -9 lib/hollywood/ >/dev/null 2>&1; exit\" INT\nPKG=hollywood\ndir=\"$(dirname $0)/../../share/$PKG\"\n-DISPLAY= mplayer -vo caca -loop 0 -ss $((RANDOM % 100)) -speed 100 $MPLAYER_OPTS $dir/soundwave.mp4\n+DISPLAY= mplayer -vo caca -loop 0 $MPLAYER_OPTS $dir/soundwave.mp4\n","diff",[52,136,137,142,148,154,159,165,171,177,182,188,193,199,205,211,217,223,229,235,241,247,253],{"__ignoreMap":66},[70,138,139],{"class":72,"line":73},[70,140,141],{},"#!/bin/bash\n",[70,143,145],{"class":72,"line":144},2,[70,146,147],{},"#\n",[70,149,151],{"class":72,"line":150},3,[70,152,153],{},"# Copyright 2014 Dustin Kirkland \u003Cdustin.kirkland@gmail.com>\n",[70,155,157],{"class":72,"line":156},4,[70,158,147],{},[70,160,162],{"class":72,"line":161},5,[70,163,164],{},"# Licensed under the Apache License, Version 2.0 (the \"License\");\n",[70,166,168],{"class":72,"line":167},6,[70,169,170],{},"# you may not use this file except in compliance with the License.\n",[70,172,174],{"class":72,"line":173},7,[70,175,176],{},"# You may obtain a copy of the License at\n",[70,178,180],{"class":72,"line":179},8,[70,181,147],{},[70,183,185],{"class":72,"line":184},9,[70,186,187],{},"#    http://www.apache.org/licenses/LICENSE-2.0\n",[70,189,191],{"class":72,"line":190},10,[70,192,147],{},[70,194,196],{"class":72,"line":195},11,[70,197,198],{},"# Unless required by applicable law or agreed to in writing, software\n",[70,200,202],{"class":72,"line":201},12,[70,203,204],{},"# distributed under the License is distributed on an \"AS IS\" BASIS,\n",[70,206,208],{"class":72,"line":207},13,[70,209,210],{},"# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n",[70,212,214],{"class":72,"line":213},14,[70,215,216],{},"# See the License for the specific language governing permissions and\n",[70,218,220],{"class":72,"line":219},15,[70,221,222],{},"# limitations under the License.\n",[70,224,226],{"class":72,"line":225},16,[70,227,228],{},"command -v mplayer >/dev/null 2>&1 || exit 1\n",[70,230,232],{"class":72,"line":231},17,[70,233,234],{},"trap \"pkill -f -9 lib/hollywood/ >/dev/null 2>&1; exit\" INT\n",[70,236,238],{"class":72,"line":237},18,[70,239,240],{},"PKG=hollywood\n",[70,242,244],{"class":72,"line":243},19,[70,245,246],{},"dir=\"$(dirname $0)/../../share/$PKG\"\n",[70,248,250],{"class":72,"line":249},20,[70,251,252],{},"-DISPLAY= mplayer -vo caca -loop 0 -ss $((RANDOM % 100)) -speed 100 $MPLAYER_OPTS $dir/soundwave.mp4\n",[70,254,256],{"class":72,"line":255},21,[70,257,258],{},"+DISPLAY= mplayer -vo caca -loop 0 $MPLAYER_OPTS $dir/soundwave.mp4\n",[10,260,261],{},"再次运行，确认修改已经成功。",[263,264,265],"style",{},"html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html pre.shiki code .sj4cs, html code.shiki .sj4cs{--shiki-default:#005CC5;--shiki-dark:#79B8FF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":66,"searchDepth":144,"depth":144,"links":267},[],"2022-07-25 11:25:44","md",{},true,"/2022/07/25/restore-the-sound-of-hollywood","---\ntitle: 如何拯救失声的 hollywood\ndate: 2022-07-25 11:25:44\nsticky:\ntags:\n- Fun\n- Linux\n---\n\n我刚开始接触 Linux 下的 hollywood 时，我记得它运行时是有声音的，应该是 007 的主题音乐，如今再次装上 hollywood，却发现音乐没了。\n\n在 Github 找到 hollywood，发现有一个 [issue](https://github.com/dustinkirkland/hollywood/issues/58) 也提到了这个问题。\n\n原作者在该 issue 中回复道\n\n> 没错，它只是一段视频，音频受到版权保护。\n\n所以不难看出，作者因为版权问题而去掉了音频，进而导致 hollywood 失声。但我们作为用户，是不是可以想办法获取到老版本中那段带有音频的 mp4 文件呢？\n\n答案是肯定的。\n\n得益于 git 的版本控制特色，在 hollywood 的 github 仓库中，我们可以找到原来的 [mp4 文件](https://github.com/dustinkirkland/hollywood/blob/67839229f878a08521885e9fc05dd2d3ba10ddd1/share/hollywood/mi.mp4)。\n\n下载这个 mp4 文件后，我们将其放入 `/usr/share/hollywood/` 路径下，重命名为 `soundwave.mp4`，并确保其被正确设定为 0644 权限。\n\n```bash\nsudo install -Dm644 ./mi.mp4 /usr/share/hollywood/soundwave.mp4\n```\n\n接下来试着跑一跑 `hollywood`，发现依然没有声音。再次查阅源码，发现缺少了 `mplayer` 这个依赖。\n\n使用包管理器安装 `mplayer` 后，运行 `hollywood` 就可以听到声音了。\n\n然而，你觉不觉得这个音乐。。。听上去怪怪的。。。\n\n没错，作者在去掉音频后，给 `soundwave.mp4` [设定了加速播放](https://github.com/dustinkirkland/hollywood/commit/95f77d570d86cd8b8fe0e0939049609f81d1bae0#diff-3e2bf53af1a38136a109ac4fa1b11189e7b6fcd4385e1c68683093f73c6ac485)。而我们现在需要这段视频被原速播放。编辑 `/usr/lib/hollywood/mplayer`\n\n```diff\n#!/bin/bash\n#\n# Copyright 2014 Dustin Kirkland \u003Cdustin.kirkland@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\ncommand -v mplayer >/dev/null 2>&1 || exit 1\ntrap \"pkill -f -9 lib/hollywood/ >/dev/null 2>&1; exit\" INT\nPKG=hollywood\ndir=\"$(dirname $0)/../../share/$PKG\"\n-DISPLAY= mplayer -vo caca -loop 0 -ss $((RANDOM % 100)) -speed 100 $MPLAYER_OPTS $dir/soundwave.mp4\n+DISPLAY= mplayer -vo caca -loop 0 $MPLAYER_OPTS $dir/soundwave.mp4\n```\n\n再次运行，确认修改已经成功。\n",{"title":5,"description":12},"posts/restore-the-sound-of-hollywood",false,[278,279],"Fun","Linux","Vwp7eHeTfBHO2xJPw8w15m2lb0sCSG8VTEZyH6T9RSI",[282,287],{"title":283,"path":284,"stem":285,"date":286,"children":-1},"nodejs16：是我配不上 openssl 3 咯？","/2022/08/04/a-fucking-store-about-openssl3-and-nodejs16","posts/a-fucking-store-about-openssl3-and-nodejs16","2022-08-04 17:31:49",{"title":288,"path":289,"stem":290,"date":291,"children":-1},"处理 fcitx5 的文字候选框在 tg 客户端上闪烁的问题","/2022/07/03/fcitx5-blinking-on-tg-under-wayland-kde","posts/fcitx5-blinking-on-tg-under-wayland-kde","2022-07-03 13:52:44",0,1761697387169]