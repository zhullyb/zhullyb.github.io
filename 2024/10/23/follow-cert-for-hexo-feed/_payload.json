[{"data":1,"prerenderedAt":505},["ShallowReactive",2],{"post-2024-10-23-follow-cert-for-hexo-feed-zh":3,"surround-2024-10-23-follow-cert-for-hexo-feed-zh":492,"randomIndex/2024/10/23/follow-cert-for-hexo-feed/":129,"language-switch-/2024/10/23/follow-cert-for-hexo-feed/-en":504},{"title":4,"date":5,"path":6,"tags":7,"body":10,"description":26},"为 Hexo 添加 follow 认证","2024-10-23 23:11:32","/2024/10/23/follow-cert-for-hexo-feed",[8,9],"Hexo","Follow",{"type":11,"value":12,"toc":488},"minimark",[13,17,21,28,31,34,44,51,57,63,74,137,194,197,200,211,222,321,327,332,335,387,468,471,474,476,484],[14,15,16],"h2",{"id":16},"前言",[18,19,20],"p",{},"Follow 从今天开始不需要邀请码就可以开始使用部分功能了，除了只能订阅五个订阅源、成就系统没开放、签到不能获得 power 以外，还有部分功能没有解锁（如下图）",[18,22,23],{},[24,25],"img",{"alt":26,"src":27},"","https://static.031130.xyz/uploads/2024/10/23/d3a69a7bcde58.webp",[18,29,30],{},"我注意到 Follow 的认证机制目前对于 Hexo 用户还是相对不友好的，起码对于 Hexo 用户来说。",[18,32,33],{},"「内容」方案要我们在网页（也可能是 rss，follow 没有给出非常明确的指示）上添加非常明显的一段文本，我并不是很喜欢这种行为。",[35,36,41],"pre",{"className":37,"code":39,"language":40},[38],"language-text","This message is used to verify that this feed (feedId:56144913816835091) belongs to me (userId:70410173045150720). Join me in enjoying the next generation information browser https://follow.is.\n","text",[42,43,39],"code",{"__ignoreMap":26},[18,45,46,47,50],{},"「描述」方案要求我们在 rss 的 xml 文件的 ",[42,48,49],{},"\u003Cdescription />"," 字段添加一段丑丑的代码。无论是使用 follow 的读者还是其他 rss reader 的读者都会看到博客的 description 中含有一段丑丑的代码，这对于强迫症的我来说是无法忍受的，更别提 atom 类型的订阅根本没有这个字段。",[35,52,55],{"className":53,"code":54,"language":40},[38],"feedId:56144913816835091+userId:70410173045150720\n",[42,56,54],{"__ignoreMap":26},[18,58,59],{},[24,60],{"alt":61,"src":62},"即使是在 follow 中，这样的文字也是非常眨眼","https://static.031130.xyz/uploads/2024/10/23/10dfda54f4dcc.webp",[18,64,65,66,69,70,73],{},"「RSS 标签」方案是我唯一能接受的方案，这个方案需要我们在 rss 的 xml 文件中添加一个名为 ",[42,67,68],{},"\u003Cfollow_challenge>"," 的标签，或者是 json 文件中的一个 ",[42,71,72],{},"follow_challenge"," 对象。虽然具有一定的侵入性，但对于读者来说不会受到影响——应该没有除了 follow 以外的 rss reader 对这个字段进行解析。",[35,75,79],{"className":76,"code":77,"language":78,"meta":26,"style":26},"language-xml shiki shiki-themes one-light one-dark-pro","\u003Cfollow_challenge>\n    \u003CfeedId>56144913816835091\u003C/feedId>\n    \u003CuserId>70410173045150720\u003C/userId>\n\u003C/follow_challenge>\n","xml",[42,80,81,96,112,127],{"__ignoreMap":26},[82,83,86,90,93],"span",{"class":84,"line":85},"line",1,[82,87,89],{"class":88},"s5ixo","\u003C",[82,91,72],{"class":92},"sJa8x",[82,94,95],{"class":88},">\n",[82,97,99,102,105,108,110],{"class":84,"line":98},2,[82,100,101],{"class":88},"    \u003C",[82,103,104],{"class":92},"feedId",[82,106,107],{"class":88},">56144913816835091\u003C/",[82,109,104],{"class":92},[82,111,95],{"class":88},[82,113,115,117,120,123,125],{"class":84,"line":114},3,[82,116,101],{"class":88},[82,118,119],{"class":92},"userId",[82,121,122],{"class":88},">70410173045150720\u003C/",[82,124,119],{"class":92},[82,126,95],{"class":88},[82,128,130,133,135],{"class":84,"line":129},4,[82,131,132],{"class":88},"\u003C/",[82,134,72],{"class":92},[82,136,95],{"class":88},[35,138,142],{"className":139,"code":140,"language":141,"meta":26,"style":26},"language-json shiki shiki-themes one-light one-dark-pro","{\n  \"follow_challenge\": {\n    \"feed_id\": \"56144913816835091\",\n    \"user_id\": \"70410173045150720\"\n  }\n}\n","json",[42,143,144,149,157,172,182,188],{"__ignoreMap":26},[82,145,146],{"class":84,"line":85},[82,147,148],{"class":88},"{\n",[82,150,151,154],{"class":84,"line":98},[82,152,153],{"class":92},"  \"follow_challenge\"",[82,155,156],{"class":88},": {\n",[82,158,159,162,165,169],{"class":84,"line":114},[82,160,161],{"class":92},"    \"feed_id\"",[82,163,164],{"class":88},": ",[82,166,168],{"class":167},"sDhpE","\"56144913816835091\"",[82,170,171],{"class":88},",\n",[82,173,174,177,179],{"class":84,"line":129},[82,175,176],{"class":92},"    \"user_id\"",[82,178,164],{"class":88},[82,180,181],{"class":167},"\"70410173045150720\"\n",[82,183,185],{"class":84,"line":184},5,[82,186,187],{"class":88},"  }\n",[82,189,191],{"class":84,"line":190},6,[82,192,193],{"class":88},"}\n",[14,195,196],{"id":196},"正篇",[18,198,199],{},"那么问题来了，Hexo 用户应该如何使用「RSS 标签」的方案给我们的博客进行 Follow 认证呢？",[18,201,202,203,210],{},"首先确认前提，我在使用 ",[204,205,209],"a",{"href":206,"rel":207},"https://github.com/hexojs/hexo-generator-feed",[208],"nofollow","hexo-generator-feed"," 这个 npm 库来生成 Hexo 博客的 rss 订阅文件。",[18,212,213,214,217,218,221],{},"在项目的 README 文件中，我们知道可以在 ",[42,215,216],{},"_config.yml"," 文件中指定 rss 生成时使用的模板文件。模板文件位于 ",[42,219,220],{},"./node_modules/hexo-generator-feed"," 路径下，atom.xml 和 rss2.xml 就是这个库所使用的模板文件。我正在使用 atom，所以我把 atom.xml 复制一份放到博客的根目录下魔改模板。下面是 _config.yml 的 feed 配置，你可以看到我在最后两行指定了 template 模板文件。",[35,223,227],{"className":224,"code":225,"language":226,"meta":26,"style":26},"language-yml shiki shiki-themes one-light one-dark-pro","feed:\n    type: atom\n    path: rss.xml\n    limit: 0\n    hub:\n    content: true\n    content_limit:\n    content_limit_delim: ' '\n    template:\n      - atom.xml\n","yml",[42,228,229,237,247,257,268,275,285,293,304,312],{"__ignoreMap":26},[82,230,231,234],{"class":84,"line":85},[82,232,233],{"class":92},"feed",[82,235,236],{"class":88},":\n",[82,238,239,242,244],{"class":84,"line":98},[82,240,241],{"class":92},"    type",[82,243,164],{"class":88},[82,245,246],{"class":167},"atom\n",[82,248,249,252,254],{"class":84,"line":114},[82,250,251],{"class":92},"    path",[82,253,164],{"class":88},[82,255,256],{"class":167},"rss.xml\n",[82,258,259,262,264],{"class":84,"line":129},[82,260,261],{"class":92},"    limit",[82,263,164],{"class":88},[82,265,267],{"class":266},"sAGMh","0\n",[82,269,270,273],{"class":84,"line":184},[82,271,272],{"class":92},"    hub",[82,274,236],{"class":88},[82,276,277,280,282],{"class":84,"line":190},[82,278,279],{"class":92},"    content",[82,281,164],{"class":88},[82,283,284],{"class":266},"true\n",[82,286,288,291],{"class":84,"line":287},7,[82,289,290],{"class":92},"    content_limit",[82,292,236],{"class":88},[82,294,296,299,301],{"class":84,"line":295},8,[82,297,298],{"class":92},"    content_limit_delim",[82,300,164],{"class":88},[82,302,303],{"class":167},"' '\n",[82,305,307,310],{"class":84,"line":306},9,[82,308,309],{"class":92},"    template",[82,311,236],{"class":88},[82,313,315,318],{"class":84,"line":314},10,[82,316,317],{"class":88},"      - ",[82,319,320],{"class":167},"atom.xml\n",[18,322,323,324,326],{},"如果是个人用途，其实可以直接硬编码，在文件的倒数第二行把我们复制的 ",[42,325,68],{}," 放进去。",[18,328,329],{},[24,330],{"alt":26,"src":331},"https://static.031130.xyz/uploads/2024/10/23/fae341d7985ea.webp",[18,333,334],{},"或者如果我们想要写得考究一些，那么可以是下面这个样子的",[35,336,338],{"className":224,"code":337,"language":226,"meta":26,"style":26},"feed:\n  template:\n    - atom.xml\n  follow_challenge:\n    feedId: 56144913816835091\n    userId: 70410173045150720\n",[42,339,340,346,353,360,367,377],{"__ignoreMap":26},[82,341,342,344],{"class":84,"line":85},[82,343,233],{"class":92},[82,345,236],{"class":88},[82,347,348,351],{"class":84,"line":98},[82,349,350],{"class":92},"  template",[82,352,236],{"class":88},[82,354,355,358],{"class":84,"line":114},[82,356,357],{"class":88},"    - ",[82,359,320],{"class":167},[82,361,362,365],{"class":84,"line":129},[82,363,364],{"class":92},"  follow_challenge",[82,366,236],{"class":88},[82,368,369,372,374],{"class":84,"line":184},[82,370,371],{"class":92},"    feedId",[82,373,164],{"class":88},[82,375,376],{"class":266},"56144913816835091\n",[82,378,379,382,384],{"class":84,"line":190},[82,380,381],{"class":92},"    userId",[82,383,164],{"class":88},[82,385,386],{"class":266},"70410173045150720\n",[35,388,390],{"className":76,"code":389,"language":78,"meta":26,"style":26},"\u003C!-- //... -->\n  {% endfor %}\n  {% if config.feed.follow_challenge %}\n    \u003Cfollow_challenge>\n      \u003CfeedId>{{ config.feed.follow_challenge.feedId }}\u003C/feedId>\n      \u003CuserId>{{ config.feed.follow_challenge.userId }}\u003C/userId>\n    \u003C/follow_challenge>\n  {% endif %}\n\u003C/feed>\n",[42,391,392,401,406,411,419,433,446,455,460],{"__ignoreMap":26},[82,393,394,398],{"class":84,"line":85},[82,395,397],{"class":396},"sW2Sy","\u003C!--",[82,399,400],{"class":396}," //... -->\n",[82,402,403],{"class":84,"line":98},[82,404,405],{"class":88},"  {% endfor %}\n",[82,407,408],{"class":84,"line":114},[82,409,410],{"class":88},"  {% if config.feed.follow_challenge %}\n",[82,412,413,415,417],{"class":84,"line":129},[82,414,101],{"class":88},[82,416,72],{"class":92},[82,418,95],{"class":88},[82,420,421,424,426,429,431],{"class":84,"line":184},[82,422,423],{"class":88},"      \u003C",[82,425,104],{"class":92},[82,427,428],{"class":88},">{{ config.feed.follow_challenge.feedId }}\u003C/",[82,430,104],{"class":92},[82,432,95],{"class":88},[82,434,435,437,439,442,444],{"class":84,"line":190},[82,436,423],{"class":88},[82,438,119],{"class":92},[82,440,441],{"class":88},">{{ config.feed.follow_challenge.userId }}\u003C/",[82,443,119],{"class":92},[82,445,95],{"class":88},[82,447,448,451,453],{"class":84,"line":287},[82,449,450],{"class":88},"    \u003C/",[82,452,72],{"class":92},[82,454,95],{"class":88},[82,456,457],{"class":84,"line":295},[82,458,459],{"class":88},"  {% endif %}\n",[82,461,462,464,466],{"class":84,"line":306},[82,463,132],{"class":88},[82,465,233],{"class":92},[82,467,95],{"class":88},[469,470],"hr",{},[18,472,473],{},"（说起来，这两个小改动一改，其实完全可以上传 npmjs.com 作为一个新的插件，不过我有点懒了）",[469,475],{},[18,477,478,479],{},"文末附一个 follow 邀请码: ",[82,480,483],{"className":481},[482],"heimu","6O0oBazB9s",[485,486,487],"style",{},"html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}",{"title":26,"searchDepth":98,"depth":98,"links":489},[490,491],{"id":16,"depth":98,"text":16},{"id":196,"depth":98,"text":196},[493,499],{"title":494,"path":495,"stem":496,"date":497,"lang":498,"children":-1},"给家里云装上 Fedora 41 KDE 后，我是如何配置的","/2024/11/01/my-config-for-fedora-kde-41","posts/zh/my-config-for-fedora-kde-41","2024-11-01 23:35:08","zh-CN",{"title":500,"path":501,"stem":502,"date":503,"lang":498,"children":-1},"使用 GPT 对 waline 的评论进行审查","/2024/10/12/use-gpt-to-review-waline-comments","posts/zh/use-gpt-to-review-waline-comments","2024-10-12 16:11:06",null,1765307311431]