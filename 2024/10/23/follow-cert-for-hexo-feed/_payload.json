[{"data":1,"prerenderedAt":516},["ShallowReactive",2],{"post-2024-10-23-follow-cert-for-hexo-feed-zh":3,"surround-2024-10-23-follow-cert-for-hexo-feed-zh":503,"randomIndex/2024/10/23/follow-cert-for-hexo-feed/":514,"language-switch-/2024/10/23/follow-cert-for-hexo-feed/-en":515},{"id":4,"title":5,"body":6,"date":488,"description":22,"extension":489,"lang":490,"meta":491,"navigation":493,"path":494,"rawbody":495,"seo":496,"stem":497,"sticky":498,"tags":499,"__hash__":502},"posts/posts/zh/follow-cert-for-hexo-feed.md","为 Hexo 添加 follow 认证",{"type":7,"value":8,"toc":484},"minimark",[9,13,17,24,27,30,40,47,53,59,70,133,190,193,196,207,218,317,323,328,331,383,464,467,470,472,480],[10,11,12],"h2",{"id":12},"前言",[14,15,16],"p",{},"Follow 从今天开始不需要邀请码就可以开始使用部分功能了，除了只能订阅五个订阅源、成就系统没开放、签到不能获得 power 以外，还有部分功能没有解锁（如下图）",[14,18,19],{},[20,21],"img",{"alt":22,"src":23},"","https://static.031130.xyz/uploads/2024/10/23/d3a69a7bcde58.webp",[14,25,26],{},"我注意到 Follow 的认证机制目前对于 Hexo 用户还是相对不友好的，起码对于 Hexo 用户来说。",[14,28,29],{},"「内容」方案要我们在网页（也可能是 rss，follow 没有给出非常明确的指示）上添加非常明显的一段文本，我并不是很喜欢这种行为。",[31,32,37],"pre",{"className":33,"code":35,"language":36},[34],"language-text","This message is used to verify that this feed (feedId:56144913816835091) belongs to me (userId:70410173045150720). Join me in enjoying the next generation information browser https://follow.is.\n","text",[38,39,35],"code",{"__ignoreMap":22},[14,41,42,43,46],{},"「描述」方案要求我们在 rss 的 xml 文件的 ",[38,44,45],{},"\u003Cdescription />"," 字段添加一段丑丑的代码。无论是使用 follow 的读者还是其他 rss reader 的读者都会看到博客的 description 中含有一段丑丑的代码，这对于强迫症的我来说是无法忍受的，更别提 atom 类型的订阅根本没有这个字段。",[31,48,51],{"className":49,"code":50,"language":36},[34],"feedId:56144913816835091+userId:70410173045150720\n",[38,52,50],{"__ignoreMap":22},[14,54,55],{},[20,56],{"alt":57,"src":58},"即使是在 follow 中，这样的文字也是非常眨眼","https://static.031130.xyz/uploads/2024/10/23/10dfda54f4dcc.webp",[14,60,61,62,65,66,69],{},"「RSS 标签」方案是我唯一能接受的方案，这个方案需要我们在 rss 的 xml 文件中添加一个名为 ",[38,63,64],{},"\u003Cfollow_challenge>"," 的标签，或者是 json 文件中的一个 ",[38,67,68],{},"follow_challenge"," 对象。虽然具有一定的侵入性，但对于读者来说不会受到影响——应该没有除了 follow 以外的 rss reader 对这个字段进行解析。",[31,71,75],{"className":72,"code":73,"language":74,"meta":22,"style":22},"language-xml shiki shiki-themes one-light one-dark-pro","\u003Cfollow_challenge>\n    \u003CfeedId>56144913816835091\u003C/feedId>\n    \u003CuserId>70410173045150720\u003C/userId>\n\u003C/follow_challenge>\n","xml",[38,76,77,92,108,123],{"__ignoreMap":22},[78,79,82,86,89],"span",{"class":80,"line":81},"line",1,[78,83,85],{"class":84},"s5ixo","\u003C",[78,87,68],{"class":88},"sJa8x",[78,90,91],{"class":84},">\n",[78,93,95,98,101,104,106],{"class":80,"line":94},2,[78,96,97],{"class":84},"    \u003C",[78,99,100],{"class":88},"feedId",[78,102,103],{"class":84},">56144913816835091\u003C/",[78,105,100],{"class":88},[78,107,91],{"class":84},[78,109,111,113,116,119,121],{"class":80,"line":110},3,[78,112,97],{"class":84},[78,114,115],{"class":88},"userId",[78,117,118],{"class":84},">70410173045150720\u003C/",[78,120,115],{"class":88},[78,122,91],{"class":84},[78,124,126,129,131],{"class":80,"line":125},4,[78,127,128],{"class":84},"\u003C/",[78,130,68],{"class":88},[78,132,91],{"class":84},[31,134,138],{"className":135,"code":136,"language":137,"meta":22,"style":22},"language-json shiki shiki-themes one-light one-dark-pro","{\n  \"follow_challenge\": {\n    \"feed_id\": \"56144913816835091\",\n    \"user_id\": \"70410173045150720\"\n  }\n}\n","json",[38,139,140,145,153,168,178,184],{"__ignoreMap":22},[78,141,142],{"class":80,"line":81},[78,143,144],{"class":84},"{\n",[78,146,147,150],{"class":80,"line":94},[78,148,149],{"class":88},"  \"follow_challenge\"",[78,151,152],{"class":84},": {\n",[78,154,155,158,161,165],{"class":80,"line":110},[78,156,157],{"class":88},"    \"feed_id\"",[78,159,160],{"class":84},": ",[78,162,164],{"class":163},"sDhpE","\"56144913816835091\"",[78,166,167],{"class":84},",\n",[78,169,170,173,175],{"class":80,"line":125},[78,171,172],{"class":88},"    \"user_id\"",[78,174,160],{"class":84},[78,176,177],{"class":163},"\"70410173045150720\"\n",[78,179,181],{"class":80,"line":180},5,[78,182,183],{"class":84},"  }\n",[78,185,187],{"class":80,"line":186},6,[78,188,189],{"class":84},"}\n",[10,191,192],{"id":192},"正篇",[14,194,195],{},"那么问题来了，Hexo 用户应该如何使用「RSS 标签」的方案给我们的博客进行 Follow 认证呢？",[14,197,198,199,206],{},"首先确认前提，我在使用 ",[200,201,205],"a",{"href":202,"rel":203},"https://github.com/hexojs/hexo-generator-feed",[204],"nofollow","hexo-generator-feed"," 这个 npm 库来生成 Hexo 博客的 rss 订阅文件。",[14,208,209,210,213,214,217],{},"在项目的 README 文件中，我们知道可以在 ",[38,211,212],{},"_config.yml"," 文件中指定 rss 生成时使用的模板文件。模板文件位于 ",[38,215,216],{},"./node_modules/hexo-generator-feed"," 路径下，atom.xml 和 rss2.xml 就是这个库所使用的模板文件。我正在使用 atom，所以我把 atom.xml 复制一份放到博客的根目录下魔改模板。下面是 _config.yml 的 feed 配置，你可以看到我在最后两行指定了 template 模板文件。",[31,219,223],{"className":220,"code":221,"language":222,"meta":22,"style":22},"language-yml shiki shiki-themes one-light one-dark-pro","feed:\n    type: atom\n    path: rss.xml\n    limit: 0\n    hub:\n    content: true\n    content_limit:\n    content_limit_delim: ' '\n    template:\n      - atom.xml\n","yml",[38,224,225,233,243,253,264,271,281,289,300,308],{"__ignoreMap":22},[78,226,227,230],{"class":80,"line":81},[78,228,229],{"class":88},"feed",[78,231,232],{"class":84},":\n",[78,234,235,238,240],{"class":80,"line":94},[78,236,237],{"class":88},"    type",[78,239,160],{"class":84},[78,241,242],{"class":163},"atom\n",[78,244,245,248,250],{"class":80,"line":110},[78,246,247],{"class":88},"    path",[78,249,160],{"class":84},[78,251,252],{"class":163},"rss.xml\n",[78,254,255,258,260],{"class":80,"line":125},[78,256,257],{"class":88},"    limit",[78,259,160],{"class":84},[78,261,263],{"class":262},"sAGMh","0\n",[78,265,266,269],{"class":80,"line":180},[78,267,268],{"class":88},"    hub",[78,270,232],{"class":84},[78,272,273,276,278],{"class":80,"line":186},[78,274,275],{"class":88},"    content",[78,277,160],{"class":84},[78,279,280],{"class":262},"true\n",[78,282,284,287],{"class":80,"line":283},7,[78,285,286],{"class":88},"    content_limit",[78,288,232],{"class":84},[78,290,292,295,297],{"class":80,"line":291},8,[78,293,294],{"class":88},"    content_limit_delim",[78,296,160],{"class":84},[78,298,299],{"class":163},"' '\n",[78,301,303,306],{"class":80,"line":302},9,[78,304,305],{"class":88},"    template",[78,307,232],{"class":84},[78,309,311,314],{"class":80,"line":310},10,[78,312,313],{"class":84},"      - ",[78,315,316],{"class":163},"atom.xml\n",[14,318,319,320,322],{},"如果是个人用途，其实可以直接硬编码，在文件的倒数第二行把我们复制的 ",[38,321,64],{}," 放进去。",[14,324,325],{},[20,326],{"alt":22,"src":327},"https://static.031130.xyz/uploads/2024/10/23/fae341d7985ea.webp",[14,329,330],{},"或者如果我们想要写得考究一些，那么可以是下面这个样子的",[31,332,334],{"className":220,"code":333,"language":222,"meta":22,"style":22},"feed:\n  template:\n    - atom.xml\n  follow_challenge:\n    feedId: 56144913816835091\n    userId: 70410173045150720\n",[38,335,336,342,349,356,363,373],{"__ignoreMap":22},[78,337,338,340],{"class":80,"line":81},[78,339,229],{"class":88},[78,341,232],{"class":84},[78,343,344,347],{"class":80,"line":94},[78,345,346],{"class":88},"  template",[78,348,232],{"class":84},[78,350,351,354],{"class":80,"line":110},[78,352,353],{"class":84},"    - ",[78,355,316],{"class":163},[78,357,358,361],{"class":80,"line":125},[78,359,360],{"class":88},"  follow_challenge",[78,362,232],{"class":84},[78,364,365,368,370],{"class":80,"line":180},[78,366,367],{"class":88},"    feedId",[78,369,160],{"class":84},[78,371,372],{"class":262},"56144913816835091\n",[78,374,375,378,380],{"class":80,"line":186},[78,376,377],{"class":88},"    userId",[78,379,160],{"class":84},[78,381,382],{"class":262},"70410173045150720\n",[31,384,386],{"className":72,"code":385,"language":74,"meta":22,"style":22},"\u003C!-- //... -->\n  {% endfor %}\n  {% if config.feed.follow_challenge %}\n    \u003Cfollow_challenge>\n      \u003CfeedId>{{ config.feed.follow_challenge.feedId }}\u003C/feedId>\n      \u003CuserId>{{ config.feed.follow_challenge.userId }}\u003C/userId>\n    \u003C/follow_challenge>\n  {% endif %}\n\u003C/feed>\n",[38,387,388,397,402,407,415,429,442,451,456],{"__ignoreMap":22},[78,389,390,394],{"class":80,"line":81},[78,391,393],{"class":392},"sW2Sy","\u003C!--",[78,395,396],{"class":392}," //... -->\n",[78,398,399],{"class":80,"line":94},[78,400,401],{"class":84},"  {% endfor %}\n",[78,403,404],{"class":80,"line":110},[78,405,406],{"class":84},"  {% if config.feed.follow_challenge %}\n",[78,408,409,411,413],{"class":80,"line":125},[78,410,97],{"class":84},[78,412,68],{"class":88},[78,414,91],{"class":84},[78,416,417,420,422,425,427],{"class":80,"line":180},[78,418,419],{"class":84},"      \u003C",[78,421,100],{"class":88},[78,423,424],{"class":84},">{{ config.feed.follow_challenge.feedId }}\u003C/",[78,426,100],{"class":88},[78,428,91],{"class":84},[78,430,431,433,435,438,440],{"class":80,"line":186},[78,432,419],{"class":84},[78,434,115],{"class":88},[78,436,437],{"class":84},">{{ config.feed.follow_challenge.userId }}\u003C/",[78,439,115],{"class":88},[78,441,91],{"class":84},[78,443,444,447,449],{"class":80,"line":283},[78,445,446],{"class":84},"    \u003C/",[78,448,68],{"class":88},[78,450,91],{"class":84},[78,452,453],{"class":80,"line":291},[78,454,455],{"class":84},"  {% endif %}\n",[78,457,458,460,462],{"class":80,"line":302},[78,459,128],{"class":84},[78,461,229],{"class":88},[78,463,91],{"class":84},[465,466],"hr",{},[14,468,469],{},"（说起来，这两个小改动一改，其实完全可以上传 npmjs.com 作为一个新的插件，不过我有点懒了）",[465,471],{},[14,473,474,475],{},"文末附一个 follow 邀请码: ",[78,476,479],{"className":477},[478],"heimu","6O0oBazB9s",[481,482,483],"style",{},"html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}",{"title":22,"searchDepth":94,"depth":94,"links":485},[486,487],{"id":12,"depth":94,"text":12},{"id":192,"depth":94,"text":192},"2024-10-23 23:11:32","md","zh-CN",{"index_img":492},"https://static.031130.xyz/uploads/2024/10/24/a93fd67a5419d.png",true,"/2024/10/23/follow-cert-for-hexo-feed","---\ntitle: 为 Hexo 添加 follow 认证\ndate: 2024-10-23 23:11:32\nsticky:\nindex_img: https://static.031130.xyz/uploads/2024/10/24/a93fd67a5419d.png\ntags:\n- Hexo\n- Follow\n---\n\n## 前言\n\nFollow 从今天开始不需要邀请码就可以开始使用部分功能了，除了只能订阅五个订阅源、成就系统没开放、签到不能获得 power 以外，还有部分功能没有解锁（如下图）\n\n![](https://static.031130.xyz/uploads/2024/10/23/d3a69a7bcde58.webp)\n\n我注意到 Follow 的认证机制目前对于 Hexo 用户还是相对不友好的，起码对于 Hexo 用户来说。\n\n「内容」方案要我们在网页（也可能是 rss，follow 没有给出非常明确的指示）上添加非常明显的一段文本，我并不是很喜欢这种行为。\n\n```\nThis message is used to verify that this feed (feedId:56144913816835091) belongs to me (userId:70410173045150720). Join me in enjoying the next generation information browser https://follow.is.\n```\n\n「描述」方案要求我们在 rss 的 xml 文件的 `\u003Cdescription />` 字段添加一段丑丑的代码。无论是使用 follow 的读者还是其他 rss reader 的读者都会看到博客的 description 中含有一段丑丑的代码，这对于强迫症的我来说是无法忍受的，更别提 atom 类型的订阅根本没有这个字段。\n\n```\nfeedId:56144913816835091+userId:70410173045150720\n```\n\n![即使是在 follow 中，这样的文字也是非常眨眼](https://static.031130.xyz/uploads/2024/10/23/10dfda54f4dcc.webp)\n\n「RSS 标签」方案是我唯一能接受的方案，这个方案需要我们在 rss 的 xml 文件中添加一个名为 `\u003Cfollow_challenge>` 的标签，或者是 json 文件中的一个 `follow_challenge` 对象。虽然具有一定的侵入性，但对于读者来说不会受到影响——应该没有除了 follow 以外的 rss reader 对这个字段进行解析。\n\n```xml\n\u003Cfollow_challenge>\n    \u003CfeedId>56144913816835091\u003C/feedId>\n    \u003CuserId>70410173045150720\u003C/userId>\n\u003C/follow_challenge>\n```\n\n```json\n{\n  \"follow_challenge\": {\n    \"feed_id\": \"56144913816835091\",\n    \"user_id\": \"70410173045150720\"\n  }\n}\n```\n\n## 正篇\n\n那么问题来了，Hexo 用户应该如何使用「RSS 标签」的方案给我们的博客进行 Follow 认证呢？\n\n首先确认前提，我在使用 [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed) 这个 npm 库来生成 Hexo 博客的 rss 订阅文件。\n\n在项目的 README 文件中，我们知道可以在 `_config.yml` 文件中指定 rss 生成时使用的模板文件。模板文件位于 `./node_modules/hexo-generator-feed` 路径下，atom.xml 和 rss2.xml 就是这个库所使用的模板文件。我正在使用 atom，所以我把 atom.xml 复制一份放到博客的根目录下魔改模板。下面是 _config.yml 的 feed 配置，你可以看到我在最后两行指定了 template 模板文件。\n\n```yml\nfeed:\n    type: atom\n    path: rss.xml\n    limit: 0\n    hub:\n    content: true\n    content_limit:\n    content_limit_delim: ' '\n    template:\n      - atom.xml\n```\n\n如果是个人用途，其实可以直接硬编码，在文件的倒数第二行把我们复制的 `\u003Cfollow_challenge>` 放进去。\n\n![](https://static.031130.xyz/uploads/2024/10/23/fae341d7985ea.webp)\n\n或者如果我们想要写得考究一些，那么可以是下面这个样子的\n\n```yml\nfeed:\n  template:\n    - atom.xml\n  follow_challenge:\n    feedId: 56144913816835091\n    userId: 70410173045150720\n```\n\n```xml\n\u003C!-- //... -->\n  {% endfor %}\n  {% if config.feed.follow_challenge %}\n    \u003Cfollow_challenge>\n      \u003CfeedId>{{ config.feed.follow_challenge.feedId }}\u003C/feedId>\n      \u003CuserId>{{ config.feed.follow_challenge.userId }}\u003C/userId>\n    \u003C/follow_challenge>\n  {% endif %}\n\u003C/feed>\n```\n\n***\n\n（说起来，这两个小改动一改，其实完全可以上传 npmjs.com 作为一个新的插件，不过我有点懒了）\n\n***\n\n文末附一个 follow 邀请码: \u003Cspan class=\"heimu\">6O0oBazB9s\u003C/span>\n\n",{"title":5,"description":22},"posts/zh/follow-cert-for-hexo-feed",false,[500,501],"Hexo","Follow","ib8Ggq00VuATQpmyFdA8opX3lNIjzMReLd7c4OC5z5k",[504,509],{"title":505,"path":506,"stem":507,"date":508,"lang":490,"children":-1},"给家里云装上 Fedora 41 KDE 后，我是如何配置的","/2024/11/01/my-config-for-fedora-kde-41","posts/zh/my-config-for-fedora-kde-41","2024-11-01 23:35:08",{"title":510,"path":511,"stem":512,"date":513,"lang":490,"children":-1},"使用 GPT 对 waline 的评论进行审查","/2024/10/12/use-gpt-to-review-waline-comments","posts/zh/use-gpt-to-review-waline-comments","2024-10-12 16:11:06",0,null,1764102380924]