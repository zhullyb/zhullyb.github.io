[{"data":1,"prerenderedAt":314},["ShallowReactive",2],{"post-2024-07-14-config-hp-laser-103w-printer-for-archlinux":3,"surround-2024-07-14-config-hp-laser-103w-printer-for-archlinux":302,"randomIndex/2024/07/14/config-hp-laser-103w-printer-for-archlinux/":313},{"id":4,"title":5,"body":6,"date":285,"description":12,"extension":286,"meta":287,"navigation":288,"path":289,"rawbody":290,"seo":291,"stem":292,"sticky":293,"tags":294,"__hash__":301},"posts/posts/config-hp-laser-103w-printer-for-archlinux.md","在 Arch Linux 下配置使用 HP Laser 103w 打印机无线打印",{"type":7,"value":8,"toc":278},"minimark",[9,13,17,20,27,31,42,45,72,86,94,113,124,151,154,161,175,182,185,202,223,238,241,244,250,253,256,262,265,271,274],[10,11,12],"p",{},"我寝室有一台使用 wifi 连接的 HP Laser 103w 打印机，这些天刚好布置了新的 HomeServer，因此来记录一下这台打印机的配置过程，根据 HP 官网驱动包的名字「HP Laser 100 and HP Color Laser 150 Printer series Print Driver」推断，此过程应该能适用于所有的 HP Laser 100 及 HP Color Laser 150 系列的打印机。",[14,15,16],"h2",{"id":16},"打印机联网",[10,18,19],{},"首先使用 Windows 操作系统完成打印机的联网工作，在路由器的网页管理界面可以看到这台打印机的局域网 ip 是 192.168.123.20 ，记录备用。如果有条件的话，尽量将打印机的 MAC 地址与 IP 地址绑定，避免路由器将该 IP 分配给别的设备。",[10,21,22],{},[23,24],"img",{"alt":25,"src":26},"路由器的网页管理界面","https://static.031130.xyz/uploads/2024/08/12/6693aa41c079b.webp",[14,28,30],{"id":29},"安装-cups","安装 CUPS",[10,32,33,34,41],{},"随后按照 ArchWiki 的 ",[35,36,40],"a",{"href":37,"rel":38},"https://wiki.archlinux.org/title/CUPS",[39],"nofollow","CUPS 页面","进行相关配置，CUPS 是苹果公司开源的打印系统，是目前 Linux 下最主流的打印方案。",[10,43,44],{},"首先安装 cups ，如果需要「打印为 pdf」的功能，可以选装 cups-pdf。",[46,47,52],"pre",{"className":48,"code":49,"language":50,"meta":51,"style":51},"language-bash shiki shiki-themes one-light one-dark-pro","pacman -S cups\n","bash","",[53,54,55],"code",{"__ignoreMap":51},[56,57,60,64,68],"span",{"class":58,"line":59},"line",1,[56,61,63],{"class":62},"sAdtL","pacman",[56,65,67],{"class":66},"sAGMh"," -S",[56,69,71],{"class":70},"sDhpE"," cups\n",[46,73,75],{"className":48,"code":74,"language":50,"meta":51,"style":51},"pacman -S cups-pdf\n",[53,76,77],{"__ignoreMap":51},[56,78,79,81,83],{"class":58,"line":59},[56,80,63],{"class":62},[56,82,67],{"class":66},[56,84,85],{"class":70}," cups-pdf\n",[10,87,88,89,93],{},"接着需要启动 cups 的服务，如果需要使用 cups 自带的 webui，可以直接启用 cups.service，这样就能在 ",[35,90,91],{"href":91,"rel":92},"http://localhost:631",[39]," 看到对应的配置页面。",[46,95,97],{"className":48,"code":96,"language":50,"meta":51,"style":51},"systemctl enable cups.service --now\n",[53,98,99],{"__ignoreMap":51},[56,100,101,104,107,110],{"class":58,"line":59},[56,102,103],{"class":62},"systemctl",[56,105,106],{"class":70}," enable",[56,108,109],{"class":70}," cups.service",[56,111,112],{"class":66}," --now\n",[10,114,115,116,119,120,123],{},"而如果你正在使用一些集成度较高的 DE 如 KDE 或 GNOME，可以安装 DE 对应的打印机管理程序。在 Arch Linux 下，KDE 自带的打印机管理程序包名为 ",[53,117,118],{},"print-manager","，此外还需要安装安装 ",[53,121,122],{},"system-config-printer"," 打印机功能支持软件包。这种方案则不需要启动 cups.service，只需要启动 cups.socket 即可。",[46,125,127],{"className":48,"code":126,"language":50,"meta":51,"style":51},"pacman -S print-manager system-config-printer\nsystemctl enable cups.socket\n",[53,128,129,141],{"__ignoreMap":51},[56,130,131,133,135,138],{"class":58,"line":59},[56,132,63],{"class":62},[56,134,67],{"class":66},[56,136,137],{"class":70}," print-manager",[56,139,140],{"class":70}," system-config-printer\n",[56,142,144,146,148],{"class":58,"line":143},2,[56,145,103],{"class":62},[56,147,106],{"class":70},[56,149,150],{"class":70}," cups.socket\n",[14,152,153],{"id":153},"杂项",[10,155,156,157,160],{},"在常规的流程中，通常会安装 ",[53,158,159],{},"ghostscript"," 来适应 Non-PDF 打印机，这台 HP Laser 103w 也不例外。",[46,162,164],{"className":48,"code":163,"language":50,"meta":51,"style":51},"pacman -S ghostscript\n",[53,165,166],{"__ignoreMap":51},[56,167,168,170,172],{"class":58,"line":59},[56,169,63],{"class":62},[56,171,67],{"class":66},[56,173,174],{"class":70}," ghostscript\n",[10,176,177,178,181],{},"如果是 PostScript 打印机可能还需要安装 ",[53,179,180],{},"gsfonts"," 包，但我这里不需要。",[14,183,184],{"id":184},"安装驱动",[10,186,187,188,191,192,195,196,201],{},"OpenPrinting 维护的 ",[53,189,190],{},"foomatic"," 为很大一部分打印机提供的驱动文件，Gutenprint 维护的 gutenprint 包也包含了佳能(Canon)、爱普生(Epson)、利盟(Lexmark)、索尼(Sony)、奥林巴斯(Olympus) 以及 PCL 打印机的驱动程序。如果你的打印机型号和我的不同，可以尝试安装这些组织维护的驱动。具体的安装方法同样可以在 ArchWiki 的 ",[35,193,40],{"href":37,"rel":194},[39],"找到。我上一台打印机 HP LaserJet 1020 所需的驱动是在 ",[35,197,200],{"href":198,"rel":199},"https://aur.archlinux.org/packages/foo2zjs-nightly",[39],"AUR/foo2zjs-nightly"," 中取得的。",[10,203,204,205,210,211,216,217,222],{},"但 HP Laser 103w 的驱动程序都不在这些软件包中，在 HP 的官网我们可以找到",[35,206,209],{"href":207,"rel":208},"https://support.hp.com/cn-zh/drivers/hp-laser-100-printer-series/model/2100769190",[39],"这个页面","，包含了 HP Laser 103w 的 Linux 驱动",[35,212,215],{"href":213,"rel":214},"https://ftp.hp.com/pub/softlib/software13/printers/CLP150/uld-hp_V1.00.39.12_00.15.tar.gz",[39],"下载地址","（已在 web.archive.org 存档）。通过下载下来的文件名，我们可以看见名字为 uld-hp，理论上可以直接通过压缩包内的安装脚本进行安装，但我通过这个名字顺藤摸瓜，找到了 ",[35,218,221],{"href":219,"rel":220},"https://aur.archlinux.org/packages/hpuld",[39],"AUR/hpuld"," 可以直接进行安装。",[46,224,226],{"className":48,"code":225,"language":50,"meta":51,"style":51},"yay -S hpuld\n",[53,227,228],{"__ignoreMap":51},[56,229,230,233,235],{"class":58,"line":59},[56,231,232],{"class":62},"yay",[56,234,67],{"class":66},[56,236,237],{"class":70}," hpuld\n",[14,239,240],{"id":240},"添加打印机",[10,242,243],{},"打开设置中的打印机设置后，选择添加打印机，CUPS 直接帮我们找到了局域网下的打印机，并自动开始搜索驱动程序（虽然没搜到）。",[10,245,246],{},[23,247],{"alt":248,"src":249},"自动搜索","https://static.031130.xyz/uploads/2024/08/12/6693b6e81f9c4.webp",[10,251,252],{},"但如果没能自动检测到打印机，也可以使用手动选项中的 AppSocket/HP JetDirect 手动输入打印机的 ip 地址进行配置。",[10,254,255],{},"紧接着就到了选择驱动程序的阶段，厂商选择 HP，能够找到「HP Laser 10x Series」的选项，直接选择。",[10,257,258],{},[23,259],{"alt":260,"src":261},"选择驱动","https://static.031130.xyz/uploads/2024/08/12/6693b76b9c1ca.webp",[10,263,264],{},"接着就可以完成打印机的添加。",[10,266,267],{},[23,268],{"alt":269,"src":270},"完成添加","https://static.031130.xyz/uploads/2024/08/12/6693b7ba82d99.webp",[10,272,273],{},"随后便能正常打印文件啦！",[275,276,277],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":51,"searchDepth":143,"depth":143,"links":279},[280,281,282,283,284],{"id":16,"depth":143,"text":16},{"id":29,"depth":143,"text":30},{"id":153,"depth":143,"text":153},{"id":184,"depth":143,"text":184},{"id":240,"depth":143,"text":240},"2024-07-14 18:30:33","md",{},true,"/2024/07/14/config-hp-laser-103w-printer-for-archlinux","---\ntitle: 在 Arch Linux 下配置使用 HP Laser 103w 打印机无线打印\ndate: 2024-07-14 18:30:33\nsticky:\ntags:\n- Archlinux\n- Hardware\n- Linux\n- Printer\n- HomeServer\n- 笔记\n---\n\n我寝室有一台使用 wifi 连接的 HP Laser 103w 打印机，这些天刚好布置了新的 HomeServer，因此来记录一下这台打印机的配置过程，根据 HP 官网驱动包的名字「HP Laser 100 and HP Color Laser 150 Printer series Print Driver」推断，此过程应该能适用于所有的 HP Laser 100 及 HP Color Laser 150 系列的打印机。\n\n## 打印机联网\n\n首先使用 Windows 操作系统完成打印机的联网工作，在路由器的网页管理界面可以看到这台打印机的局域网 ip 是 192.168.123.20 ，记录备用。如果有条件的话，尽量将打印机的 MAC 地址与 IP 地址绑定，避免路由器将该 IP 分配给别的设备。\n\n![路由器的网页管理界面](https://static.031130.xyz/uploads/2024/08/12/6693aa41c079b.webp)\n\n## 安装 CUPS\n\n随后按照 ArchWiki 的 [CUPS 页面](https://wiki.archlinux.org/title/CUPS)进行相关配置，CUPS 是苹果公司开源的打印系统，是目前 Linux 下最主流的打印方案。\n\n首先安装 cups ，如果需要「打印为 pdf」的功能，可以选装 cups-pdf。\n\n```bash\npacman -S cups\n```\n\n```bash\npacman -S cups-pdf\n```\n\n接着需要启动 cups 的服务，如果需要使用 cups 自带的 webui，可以直接启用 cups.service，这样就能在 http://localhost:631 看到对应的配置页面。\n\n```bash\nsystemctl enable cups.service --now\n```\n\n而如果你正在使用一些集成度较高的 DE 如 KDE 或 GNOME，可以安装 DE 对应的打印机管理程序。在 Arch Linux 下，KDE 自带的打印机管理程序包名为 `print-manager`，此外还需要安装安装 `system-config-printer` 打印机功能支持软件包。这种方案则不需要启动 cups.service，只需要启动 cups.socket 即可。\n\n```bash\npacman -S print-manager system-config-printer\nsystemctl enable cups.socket\n```\n\n## 杂项\n\n在常规的流程中，通常会安装 `ghostscript` 来适应 Non-PDF 打印机，这台 HP Laser 103w 也不例外。\n\n```bash\npacman -S ghostscript\n```\n\n如果是 PostScript 打印机可能还需要安装 `gsfonts` 包，但我这里不需要。\n\n## 安装驱动\n\nOpenPrinting 维护的 `foomatic` 为很大一部分打印机提供的驱动文件，Gutenprint 维护的 gutenprint 包也包含了佳能(Canon)、爱普生(Epson)、利盟(Lexmark)、索尼(Sony)、奥林巴斯(Olympus) 以及 PCL 打印机的驱动程序。如果你的打印机型号和我的不同，可以尝试安装这些组织维护的驱动。具体的安装方法同样可以在 ArchWiki 的 [CUPS 页面](https://wiki.archlinux.org/title/CUPS)找到。我上一台打印机 HP LaserJet 1020 所需的驱动是在 [AUR/foo2zjs-nightly](https://aur.archlinux.org/packages/foo2zjs-nightly) 中取得的。\n\n但 HP Laser 103w 的驱动程序都不在这些软件包中，在 HP 的官网我们可以找到[这个页面](https://support.hp.com/cn-zh/drivers/hp-laser-100-printer-series/model/2100769190)，包含了 HP Laser 103w 的 Linux 驱动[下载地址](https://ftp.hp.com/pub/softlib/software13/printers/CLP150/uld-hp_V1.00.39.12_00.15.tar.gz)（已在 web.archive.org 存档）。通过下载下来的文件名，我们可以看见名字为 uld-hp，理论上可以直接通过压缩包内的安装脚本进行安装，但我通过这个名字顺藤摸瓜，找到了 [AUR/hpuld](https://aur.archlinux.org/packages/hpuld) 可以直接进行安装。\n\n```bash\nyay -S hpuld\n```\n\n## 添加打印机\n\n打开设置中的打印机设置后，选择添加打印机，CUPS 直接帮我们找到了局域网下的打印机，并自动开始搜索驱动程序（虽然没搜到）。\n\n![自动搜索](https://static.031130.xyz/uploads/2024/08/12/6693b6e81f9c4.webp)\n\n但如果没能自动检测到打印机，也可以使用手动选项中的 AppSocket/HP JetDirect 手动输入打印机的 ip 地址进行配置。\n\n紧接着就到了选择驱动程序的阶段，厂商选择 HP，能够找到「HP Laser 10x Series」的选项，直接选择。\n\n![选择驱动](https://static.031130.xyz/uploads/2024/08/12/6693b76b9c1ca.webp)\n\n接着就可以完成打印机的添加。\n\n![完成添加](https://static.031130.xyz/uploads/2024/08/12/6693b7ba82d99.webp)\n\n随后便能正常打印文件啦！\n",{"title":5,"description":12},"posts/config-hp-laser-103w-printer-for-archlinux",false,[295,296,297,298,299,300],"Archlinux","Hardware","Linux","Printer","HomeServer","笔记","IpyFJVaf2GjAaLA1LrDOfbiJeRoZTkhSEbCmIoHhfa4",[303,308],{"title":304,"path":305,"stem":306,"date":307,"children":-1},"尝试体验 Fedora COPR 中的 allow SSH 功能","/2024/07/15/try-ssh-connection-in-fedora-copr","posts/try-ssh-connection-in-fedora-copr","2024-07-15 11:14:12",{"title":309,"path":310,"stem":311,"date":312,"children":-1},"使用动态公网 ip + ddns 实现 rustdesk 的 ip 直连","/2024/06/30/dynamic-public-ip-and-ddns-for-rustdesk","posts/dynamic-public-ip-and-ddns-for-rustdesk","2024-06-30 18:15:00",4,1762351284190]