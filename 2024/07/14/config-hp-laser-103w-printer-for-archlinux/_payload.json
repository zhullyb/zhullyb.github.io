[{"data":1,"prerenderedAt":307},["ShallowReactive",2],{"post-2024-07-14-config-hp-laser-103w-printer-for-archlinux-zh":3,"surround-2024-07-14-config-hp-laser-103w-printer-for-archlinux-zh":293,"randomIndex/2024/07/14/config-hp-laser-103w-printer-for-archlinux/":305,"language-switch-/2024/07/14/config-hp-laser-103w-printer-for-archlinux/-en":306},{"title":4,"date":5,"path":6,"tags":7,"body":14,"description":20},"在 Arch Linux 下配置使用 HP Laser 103w 打印机无线打印","2024-07-14 18:30:33","/2024/07/14/config-hp-laser-103w-printer-for-archlinux",[8,9,10,11,12,13],"Archlinux","Hardware","Linux","Printer","HomeServer","Notes",{"type":15,"value":16,"toc":286},"minimark",[17,21,25,28,35,39,50,53,80,94,102,121,132,159,162,169,183,190,193,210,231,246,249,252,258,261,264,270,273,279,282],[18,19,20],"p",{},"我寝室有一台使用 wifi 连接的 HP Laser 103w 打印机，这些天刚好布置了新的 HomeServer，因此来记录一下这台打印机的配置过程，根据 HP 官网驱动包的名字「HP Laser 100 and HP Color Laser 150 Printer series Print Driver」推断，此过程应该能适用于所有的 HP Laser 100 及 HP Color Laser 150 系列的打印机。",[22,23,24],"h2",{"id":24},"打印机联网",[18,26,27],{},"首先使用 Windows 操作系统完成打印机的联网工作，在路由器的网页管理界面可以看到这台打印机的局域网 ip 是 192.168.123.20 ，记录备用。如果有条件的话，尽量将打印机的 MAC 地址与 IP 地址绑定，避免路由器将该 IP 分配给别的设备。",[18,29,30],{},[31,32],"img",{"alt":33,"src":34},"路由器的网页管理界面","https://static.031130.xyz/uploads/2024/08/12/6693aa41c079b.webp",[22,36,38],{"id":37},"安装-cups","安装 CUPS",[18,40,41,42,49],{},"随后按照 ArchWiki 的 ",[43,44,48],"a",{"href":45,"rel":46},"https://wiki.archlinux.org/title/CUPS",[47],"nofollow","CUPS 页面","进行相关配置，CUPS 是苹果公司开源的打印系统，是目前 Linux 下最主流的打印方案。",[18,51,52],{},"首先安装 cups ，如果需要「打印为 pdf」的功能，可以选装 cups-pdf。",[54,55,60],"pre",{"className":56,"code":57,"language":58,"meta":59,"style":59},"language-bash shiki shiki-themes one-light one-dark-pro","pacman -S cups\n","bash","",[61,62,63],"code",{"__ignoreMap":59},[64,65,68,72,76],"span",{"class":66,"line":67},"line",1,[64,69,71],{"class":70},"sAdtL","pacman",[64,73,75],{"class":74},"sAGMh"," -S",[64,77,79],{"class":78},"sDhpE"," cups\n",[54,81,83],{"className":56,"code":82,"language":58,"meta":59,"style":59},"pacman -S cups-pdf\n",[61,84,85],{"__ignoreMap":59},[64,86,87,89,91],{"class":66,"line":67},[64,88,71],{"class":70},[64,90,75],{"class":74},[64,92,93],{"class":78}," cups-pdf\n",[18,95,96,97,101],{},"接着需要启动 cups 的服务，如果需要使用 cups 自带的 webui，可以直接启用 cups.service，这样就能在 ",[43,98,99],{"href":99,"rel":100},"http://localhost:631",[47]," 看到对应的配置页面。",[54,103,105],{"className":56,"code":104,"language":58,"meta":59,"style":59},"systemctl enable cups.service --now\n",[61,106,107],{"__ignoreMap":59},[64,108,109,112,115,118],{"class":66,"line":67},[64,110,111],{"class":70},"systemctl",[64,113,114],{"class":78}," enable",[64,116,117],{"class":78}," cups.service",[64,119,120],{"class":74}," --now\n",[18,122,123,124,127,128,131],{},"而如果你正在使用一些集成度较高的 DE 如 KDE 或 GNOME，可以安装 DE 对应的打印机管理程序。在 Arch Linux 下，KDE 自带的打印机管理程序包名为 ",[61,125,126],{},"print-manager","，此外还需要安装安装 ",[61,129,130],{},"system-config-printer"," 打印机功能支持软件包。这种方案则不需要启动 cups.service，只需要启动 cups.socket 即可。",[54,133,135],{"className":56,"code":134,"language":58,"meta":59,"style":59},"pacman -S print-manager system-config-printer\nsystemctl enable cups.socket\n",[61,136,137,149],{"__ignoreMap":59},[64,138,139,141,143,146],{"class":66,"line":67},[64,140,71],{"class":70},[64,142,75],{"class":74},[64,144,145],{"class":78}," print-manager",[64,147,148],{"class":78}," system-config-printer\n",[64,150,152,154,156],{"class":66,"line":151},2,[64,153,111],{"class":70},[64,155,114],{"class":78},[64,157,158],{"class":78}," cups.socket\n",[22,160,161],{"id":161},"杂项",[18,163,164,165,168],{},"在常规的流程中，通常会安装 ",[61,166,167],{},"ghostscript"," 来适应 Non-PDF 打印机，这台 HP Laser 103w 也不例外。",[54,170,172],{"className":56,"code":171,"language":58,"meta":59,"style":59},"pacman -S ghostscript\n",[61,173,174],{"__ignoreMap":59},[64,175,176,178,180],{"class":66,"line":67},[64,177,71],{"class":70},[64,179,75],{"class":74},[64,181,182],{"class":78}," ghostscript\n",[18,184,185,186,189],{},"如果是 PostScript 打印机可能还需要安装 ",[61,187,188],{},"gsfonts"," 包，但我这里不需要。",[22,191,192],{"id":192},"安装驱动",[18,194,195,196,199,200,203,204,209],{},"OpenPrinting 维护的 ",[61,197,198],{},"foomatic"," 为很大一部分打印机提供的驱动文件，Gutenprint 维护的 gutenprint 包也包含了佳能(Canon)、爱普生(Epson)、利盟(Lexmark)、索尼(Sony)、奥林巴斯(Olympus) 以及 PCL 打印机的驱动程序。如果你的打印机型号和我的不同，可以尝试安装这些组织维护的驱动。具体的安装方法同样可以在 ArchWiki 的 ",[43,201,48],{"href":45,"rel":202},[47],"找到。我上一台打印机 HP LaserJet 1020 所需的驱动是在 ",[43,205,208],{"href":206,"rel":207},"https://aur.archlinux.org/packages/foo2zjs-nightly",[47],"AUR/foo2zjs-nightly"," 中取得的。",[18,211,212,213,218,219,224,225,230],{},"但 HP Laser 103w 的驱动程序都不在这些软件包中，在 HP 的官网我们可以找到",[43,214,217],{"href":215,"rel":216},"https://support.hp.com/cn-zh/drivers/hp-laser-100-printer-series/model/2100769190",[47],"这个页面","，包含了 HP Laser 103w 的 Linux 驱动",[43,220,223],{"href":221,"rel":222},"https://ftp.hp.com/pub/softlib/software13/printers/CLP150/uld-hp_V1.00.39.12_00.15.tar.gz",[47],"下载地址","（已在 web.archive.org 存档）。通过下载下来的文件名，我们可以看见名字为 uld-hp，理论上可以直接通过压缩包内的安装脚本进行安装，但我通过这个名字顺藤摸瓜，找到了 ",[43,226,229],{"href":227,"rel":228},"https://aur.archlinux.org/packages/hpuld",[47],"AUR/hpuld"," 可以直接进行安装。",[54,232,234],{"className":56,"code":233,"language":58,"meta":59,"style":59},"yay -S hpuld\n",[61,235,236],{"__ignoreMap":59},[64,237,238,241,243],{"class":66,"line":67},[64,239,240],{"class":70},"yay",[64,242,75],{"class":74},[64,244,245],{"class":78}," hpuld\n",[22,247,248],{"id":248},"添加打印机",[18,250,251],{},"打开设置中的打印机设置后，选择添加打印机，CUPS 直接帮我们找到了局域网下的打印机，并自动开始搜索驱动程序（虽然没搜到）。",[18,253,254],{},[31,255],{"alt":256,"src":257},"自动搜索","https://static.031130.xyz/uploads/2024/08/12/6693b6e81f9c4.webp",[18,259,260],{},"但如果没能自动检测到打印机，也可以使用手动选项中的 AppSocket/HP JetDirect 手动输入打印机的 ip 地址进行配置。",[18,262,263],{},"紧接着就到了选择驱动程序的阶段，厂商选择 HP，能够找到「HP Laser 10x Series」的选项，直接选择。",[18,265,266],{},[31,267],{"alt":268,"src":269},"选择驱动","https://static.031130.xyz/uploads/2024/08/12/6693b76b9c1ca.webp",[18,271,272],{},"接着就可以完成打印机的添加。",[18,274,275],{},[31,276],{"alt":277,"src":278},"完成添加","https://static.031130.xyz/uploads/2024/08/12/6693b7ba82d99.webp",[18,280,281],{},"随后便能正常打印文件啦！",[283,284,285],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":59,"searchDepth":151,"depth":151,"links":287},[288,289,290,291,292],{"id":24,"depth":151,"text":24},{"id":37,"depth":151,"text":38},{"id":161,"depth":151,"text":161},{"id":192,"depth":151,"text":192},{"id":248,"depth":151,"text":248},[294,300],{"title":295,"path":296,"stem":297,"date":298,"lang":299,"children":-1},"尝试体验 Fedora COPR 中的 allow SSH 功能","/2024/07/15/try-ssh-connection-in-fedora-copr","posts/zh/try-ssh-connection-in-fedora-copr","2024-07-15 11:14:12","zh-CN",{"title":301,"path":302,"stem":303,"date":304,"lang":299,"children":-1},"使用动态公网 ip + ddns 实现 rustdesk 的 ip 直连","/2024/06/30/dynamic-public-ip-and-ddns-for-rustdesk","posts/zh/dynamic-public-ip-and-ddns-for-rustdesk","2024-06-30 18:15:00",5,null,1765392894252]