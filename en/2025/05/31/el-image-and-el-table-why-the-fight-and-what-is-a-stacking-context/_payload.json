[{"data":1,"prerenderedAt":411},["ShallowReactive",2],{"post-2025-05-31-el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context-en":3,"surround-2025-05-31-el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context-en":397,"randomIndex/2025/05/31/el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context/":409,"language-switch-/en/2025/05/31/el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context/-zh":410},{"title":4,"date":5,"path":6,"tags":7,"body":13,"description":396},"Why Do el-image and el-table Clash? What Is a Stacking Context?","2025-05-31 00:29:40","/2025/05/31/el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context",[8,9,10,11,12],"Vue.js","JavaScript","CSS","HTML","Web",{"type":14,"value":15,"toc":385},"minimark",[16,29,36,39,48,55,71,77,83,88,141,149,154,167,174,193,196,205,208,266,270,278,292,296,306,309,324,340,344,381],[17,18,19,20,24,25,28],"p",{},"This happened during the internal development of Jinghong’s image hosting service. A freshman reported that ",[21,22,23],"code",{},"el-image"," and ",[21,26,27],{},"el-table"," were “clashing.”",[17,30,31],{},[32,33],"img",{"alt":34,"src":35},"Screenshot","https://static.031130.xyz/uploads/2025/05/31/c6674f6f13955.webp",[17,37,38],{},"Demo iframe:",[17,40,41],{},[42,43,47],"a",{"href":44,"rel":45},"https://static.031130.xyz/demo/el-image-el-table-conflict.html",[46],"nofollow","demo",[49,50],"iframe",{"src":44,"width":51,"height":52,"allowFullScreen":53,"loading":54},"100%",500,true,"lazy",[17,56,57,58,60,61,64,65,67,68,70],{},"When I saw that the table behind was showing through the ",[21,59,23],{}," preview overlay, my first reaction was to ask the student to check whether the ",[21,62,63],{},"z-index"," was correct—specifically whether the ",[21,66,23],{}," mask overlay had a higher ",[21,69,63],{}," than the table.",[17,72,73],{},[32,74],{"alt":75,"src":76},"","https://static.031130.xyz/uploads/2025/05/31/1c20b4ea0b37e.webp",[17,78,79,80,82],{},"After testing locally, I confirmed that the ",[21,81,63],{}," was indeed set correctly. So why were the elements behind showing through? A quick Google search led me to this article:",[17,84,85],{},[32,86],{"alt":75,"src":87},"https://static.031130.xyz/uploads/2025/05/31/99845899e3524.webp",[89,90,91,97],"blockquote",{},[17,92,93,94,96],{},"Simply add the following CSS to ",[21,95,27],{},":",[98,99,103],"pre",{"className":100,"code":101,"language":102,"meta":75,"style":75},"language-css shiki shiki-themes one-light one-dark-pro",".el-table__cell {\n    position: static !important;\n}\n","css",[21,104,105,118,135],{"__ignoreMap":75},[106,107,110,114],"span",{"class":108,"line":109},"line",1,[106,111,113],{"class":112},"sAGMh",".el-table__cell",[106,115,117],{"class":116},"s5ixo"," {\n",[106,119,121,124,128,132],{"class":108,"line":120},2,[106,122,123],{"class":116},"    position: ",[106,125,127],{"class":126},"sYebD","static",[106,129,131],{"class":130},"sLKXg"," !important",[106,133,134],{"class":116},";\n",[106,136,138],{"class":108,"line":137},3,[106,139,140],{"class":116},"}\n",[17,142,143,144,148],{},"Testing locally confirmed that this solution works. But why? This is where ",[145,146,147],"strong",{},"Stacking Context"," comes into play.",[150,151,153],"h2",{"id":152},"what-exactly-is-a-stacking-context","What Exactly Is a Stacking Context?",[17,155,156,157,159,160,162,163,166],{},"Simply put, a Stacking Context is like a canvas. On the same canvas, elements with higher ",[21,158,63],{}," values appear on top of those with lower values, which is why I initially suggested checking ",[21,161,63],{},". But the catch is that ",[145,164,165],{},"Stacking Contexts themselves have a hierarchy",".",[17,168,169,170,173],{},"Imagine we have two canvases, A and B. On A, there’s an element with ",[21,171,172],{},"z-index: 1145141919810",". This element has a very high priority and should appear at the very top of the browser window. But if canvas B has higher priority than canvas A, all elements on B will be displayed above A (essentially “winning by default”). So how is a canvas’s priority determined?",[175,176,177,185],"ul",{},[178,179,180],"li",{},[145,181,182,183,166],{},"Between sibling Stacking Contexts, priority is determined by ",[21,184,63],{},[178,186,187],{},[145,188,189,190,192],{},"For Stacking Contexts with the same ",[21,191,63],{},", elements appearing later in the HTML document have higher priority.",[17,194,195],{},"The second rule explains why in the demo, only elements that come after the image cell in the table are showing through.",[150,197,199,200,24,202,204],{"id":198},"so-why-do-el-image-and-el-table-clash","So Why Do ",[21,201,23],{},[21,203,27],{}," Clash?",[17,206,207],{},"This conflict is mainly caused by two factors:",[209,210,211,242],"ol",{},[178,212,213,215,216,219,220,223,224,227,228,231,235,237,238,241],{},[21,214,27],{}," sets ",[21,217,218],{},"position: relative"," for each cell. When ",[21,221,222],{},"position"," is set to ",[21,225,226],{},"relative",", the element creates a new Stacking Context.",[229,230],"br",{},[32,232],{"alt":233,"src":234},"image-20250531013029154","https://static.031130.xyz/uploads/2025/05/31/9df43b865b3c6.webp",[229,236],{},"So a table with ten cells actually generates ten canvases, each with ",[21,239,240],{},"z-index: 1",". According to the rules above, table cells that appear later in the HTML document have higher priority than the earlier image cell.",[178,243,244,245,247,248,166,254,256,259,261,262,265],{},"The overlay used by ",[21,246,23],{},"’s preview feature is placed ",[145,249,250,251,253],{},"inside the ",[21,252,23],{}," element itself",[229,255],{},[32,257],{"alt":75,"src":258},"https://static.031130.xyz/uploads/2025/05/31/f18a2b54afd63.webp",[229,260],{},"The orange area in the image above is the overlay used during preview. The default behavior of Element Plus is to insert the preview overlay inside the ",[21,263,264],{},"\u003Cel-image>"," tag. This traps the overlay inside a low-priority Stacking Context, allowing content from later table cells to appear on top.",[150,267,269],{"id":268},"so-whats-the-solution","So What’s the Solution?",[271,272,274,275,277],"h3",{"id":273},"changing-the-position-value-works","Changing the ",[21,276,222],{}," value works",[17,279,280,281,284,285,287,288,291],{},"The solution found online, forcing ",[21,282,283],{},"position: static"," on table cells, works because ",[21,286,127],{}," does ",[145,289,290],{},"not"," create a new Stacking Context, avoiding the current problem.",[271,293,295],{"id":294},"placing-top-layer-elements-in-the-highest-priority-context-is-more-common","Placing top-layer elements in the highest-priority context is more common",[17,297,298,299,302,303,305],{},"Other component libraries usually handle this by inserting the overlay directly into the ",[21,300,301],{},"body"," element and giving it a high ",[21,304,63],{},". This ensures it always appears on top of the screen (same principle used for dialogs, popovers, etc.).",[17,307,308],{},"In fact, Element Plus supports this feature:",[89,310,311],{},[17,312,313,316,317,319,320,323],{},[145,314,315],{},"preview-teleported:"," Determines whether the image viewer overlay is inserted into the ",[21,318,301],{},". Should be set to ",[21,321,322],{},"true"," if the parent element may modify its properties.",[17,325,326,327,330,331,333,334,336,337,339],{},"So using ",[21,328,329],{},":preview-teleported=\"true\""," with ",[21,332,23],{}," is a more robust approach, because we cannot guarantee that the parent of ",[21,335,23],{}," (besides ",[21,338,27],{}," cells) won’t create another Stacking Context.",[150,341,343],{"id":342},"references","References",[175,345,346,353,360,367,374],{},[178,347,348],{},[42,349,352],{"href":350,"rel":351},"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_positioned_layout/Stacking_context",[46],"Stacking Context - CSS | MDN",[178,354,355],{},[42,356,359],{"href":357,"rel":358},"https://juejin.cn/post/6844903667175260174",[46],"Completely Understand CSS Stacking Contexts, Levels, Order, and z-index",[178,361,362],{},[42,363,366],{"href":364,"rel":365},"https://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/",[46],"Deep Dive into CSS Stacking Context and Stacking Order",[178,368,369],{},[42,370,373],{"href":371,"rel":372},"https://element-plus.org/zh-CN/component/image.html",[46],"Image | Element Plus",[178,375,376],{},[42,377,380],{"href":378,"rel":379},"https://blog.csdn.net/qq_61402485/article/details/131202117",[46],"el-image and el-table display issue",[382,383,384],"style",{},"html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sYebD, html code.shiki .sYebD{--shiki-default:#383A42;--shiki-dark:#D19A66}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":75,"searchDepth":120,"depth":120,"links":386},[387,388,390,395],{"id":152,"depth":120,"text":153},{"id":198,"depth":120,"text":389},"So Why Do el-image and el-table Clash?",{"id":268,"depth":120,"text":269,"children":391},[392,394],{"id":273,"depth":137,"text":393},"Changing the position value works",{"id":294,"depth":137,"text":295},{"id":342,"depth":120,"text":343},"This happened during the internal development of Jinghong’s image hosting service. A freshman reported that el-image and el-table were “clashing.”",[398,404],{"title":399,"path":400,"stem":401,"date":402,"lang":403,"children":-1},"In 2025, How to Choose the Right Video Compression Algorithm for Web Pages?","/2025/06/02/choosing-the-right-video-compression-format-for-web-in-2025","posts/en/choosing-the-right-video-compression-format-for-web-in-2025","2025-06-02 20:59:10","en",{"title":405,"path":406,"stem":407,"date":408,"lang":403,"children":-1},"How to Copy Text to Clipboard with JavaScript in 2025","/2025/04/21/how-we-copy-text-to-clipboard-with-js-in-2025","posts/en/how-we-copy-text-to-clipboard-with-js-in-2025","2025-04-21 19:48:05",6,"/2025/05/31/el-image-and-el-table-why-the-fight-and-what-is-a-stacking-context/",1766526710884]