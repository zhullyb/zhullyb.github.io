<!DOCTYPE html><html  lang="en-US"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom&#x27;s Elegant Transformation | 竹林里有冰的博客</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-02771279] .markdown-body h2,[data-v-02771279] .markdown-body h3,[data-v-02771279] .markdown-body h4,[data-v-02771279] .markdown-body h5,[data-v-02771279] .markdown-body h6{scroll-margin-top:78px}[data-v-02771279] .markdown-body h2>a,[data-v-02771279] .markdown-body h3>a,[data-v-02771279] .markdown-body h4>a,[data-v-02771279] .markdown-body h5>a,[data-v-02771279] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-02771279] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-02771279] .markdown-body .shiki,[data-v-02771279] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-02771279]{position:sticky;top:78px}[data-v-02771279] #waline{margin-top:3rem}.article-end-hr[data-v-02771279]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-02771279]{border-color:#444c56}}.tags[data-v-02771279]{margin:1rem 0}.tags[data-v-02771279] *{vertical-align:middle}.tags svg[data-v-02771279]{font-size:.9em}.tags a[data-v-02771279]{margin-left:.2rem}.tags a[data-v-02771279]:hover{color:#007bff}</style><style>.content-wrapper[data-v-2fa67436]{margin-bottom:40px;margin-top:40px}@media(min-width:769px){.content-wrapper[data-v-2fa67436]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-2fa67436]{width:20%}}@media(max-width:768px){.content-wrapper[data-v-2fa67436]{margin:30px}}main[data-v-2fa67436]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-2fa67436]{width:75%}}@media(max-width:768px){main[data-v-2fa67436]{width:unset}}</style><style>header[data-v-d5c97683]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-d5c97683]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-d5c97683],header.show-mobile-menu[data-v-d5c97683]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-d5c97683]{height:-moz-fit-content;height:fit-content}.header-container[data-v-d5c97683]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-d5c97683]{min-width:75%;padding-left:16px;padding-right:16px}}@media(max-width:768px){.header-container[data-v-d5c97683]{min-width:100%}}.header-container .header-title[data-v-d5c97683]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-d5c97683]{justify-content:space-between}.header[data-v-d5c97683],.header-right[data-v-d5c97683]{align-items:center;display:flex}.header-right[data-v-d5c97683]{gap:16px}.mobile-menu-dropdown[data-v-d5c97683]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-d5c97683]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-d5c97683],a[data-v-d5c97683]{color:#fff;text-decoration:none}.lang-switch[data-v-d5c97683]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-d5c97683]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-d5c97683]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-d5c97683]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-d5c97683]{font-size:16px;line-height:1}@media(max-width:768px){.pc[data-v-d5c97683],.search-trigger .search-trigger__label[data-v-d5c97683]{display:none}}</style><style>@media(max-width:768px){.pc-nav[data-v-46e33355]{display:none}}.mobile-nav[data-v-46e33355]{cursor:pointer;display:none}@media(max-width:768px){.mobile-nav[data-v-46e33355]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-46e33355]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-46e33355]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-46e33355]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-4e11f931]{height:60vh;width:100%}.mask[data-v-4e11f931]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-4e11f931]{background:#00000080}}.title-container[data-v-4e11f931]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:768px){.title-container[data-v-4e11f931]{width:80%}}.title[data-v-4e11f931]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-4e11f931]{font-size:32px;font-weight:700;margin:0}.title p[data-v-4e11f931]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:768px){.title[data-v-4e11f931]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-79f9a5ff],.search-overlay-leave-active[data-v-79f9a5ff]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-79f9a5ff],.search-overlay-leave-to[data-v-79f9a5ff]{opacity:0}.search-overlay[data-v-79f9a5ff]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-79f9a5ff]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-79f9a5ff]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-79f9a5ff]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-79f9a5ff]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-79f9a5ff]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-79f9a5ff]:hover{color:#000c}.search-overlay__body[data-v-79f9a5ff]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-79f9a5ff]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-79f9a5ff]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-79f9a5ff]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-79f9a5ff]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-79f9a5ff]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-79f9a5ff]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-79f9a5ff]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-79f9a5ff]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-79f9a5ff]{color:#0000008c}.search-overlay__item-snippet[data-v-79f9a5ff]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-79f9a5ff]{padding:80px 12px 20px}.search-overlay__panel[data-v-79f9a5ff]{max-height:calc(100vh - 120px)}}</style><style>.post-navigation[data-v-a46f138f]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a46f138f]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a46f138f]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a46f138f]:hover{border-color:#007bff}.nav-button:hover .nav-title[data-v-a46f138f]{color:#007bff}.nav-button.prev[data-v-a46f138f]{margin-right:auto}.nav-button.prev .nav-content[data-v-a46f138f]{text-align:left}.nav-button.next[data-v-a46f138f]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a46f138f]{text-align:right}.nav-arrow[data-v-a46f138f]{color:#6a737d;flex-shrink:0;font-size:1.5rem;font-weight:600;line-height:1}.nav-content[data-v-a46f138f]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a46f138f]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a46f138f]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a46f138f]{color:#c9d1d9}}@media(max-width:768px){.post-navigation[data-v-a46f138f]{flex-direction:column;gap:.75rem}.nav-button[data-v-a46f138f]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-ae70bcd1]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-ae70bcd1]{background:#181c27;border:1px solid #444c5a}}@media(max-width:768px){.toc[data-v-ae70bcd1]{display:none}}.toc-title[data-v-ae70bcd1]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-ae70bcd1]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-ae70bcd1]{list-style:none;margin:0;padding:0}.toc-item[data-v-ae70bcd1]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-ae70bcd1]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-ae70bcd1]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-ae70bcd1]{color:#ccc}}.toc-item a[data-v-ae70bcd1]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-ae70bcd1]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-ae70bcd1]{padding-left:0}.toc-item.toc-level-1 a[data-v-ae70bcd1]{font-weight:500}.toc-item.toc-level-2[data-v-ae70bcd1]{padding-left:.75rem}.toc-item.toc-level-3[data-v-ae70bcd1]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-ae70bcd1]{font-size:.85rem}.toc-item.toc-level-4[data-v-ae70bcd1]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-ae70bcd1]{font-size:.825rem}.toc-item.toc-level-5[data-v-ae70bcd1]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-ae70bcd1]{font-size:.8rem}.toc-item.toc-level-6[data-v-ae70bcd1]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-ae70bcd1]{font-size:.775rem}.toc[data-v-ae70bcd1]::-webkit-scrollbar{width:5px}.toc[data-v-ae70bcd1]::-webkit-scrollbar-track{background:transparent}.toc[data-v-ae70bcd1]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-ae70bcd1]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-620c8785]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-620c8785],footer[data-v-620c8785]{align-items:center;display:flex}.footer-content[data-v-620c8785]{flex-direction:column;gap:12px;padding:20px;z-index:1}.footer-mask[data-v-620c8785]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-620c8785]{background:linear-gradient(180deg,#0009,#000c)}}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>.prose-img-wrapper[data-v-4f488808]{display:inline-block;position:relative}.prose-img[data-v-4f488808]{border-radius:4px;box-shadow:0 1px 4px #00000014;max-width:100%;transition:box-shadow .2s}.prose-img[data-v-4f488808]:hover{box-shadow:0 4px 16px #0000002e}.prose-img-caption[data-v-4f488808]{color:#666;display:block;font-size:.875rem;font-style:italic;margin-top:.25rem;text-align:center}.prose-img-preview-mask[data-v-4f488808]{align-items:center;animation:fadeIn-4f488808 .2s;background:#000000d9;display:flex;justify-content:center;inset:0;position:fixed;z-index:9999}.prose-img-preview-img[data-v-4f488808]{background:#fff;border-radius:8px;box-shadow:0 8px 32px #0006;max-height:90vh;max-width:90vw;will-change:transform}.prose-img-preview-img[data-v-4f488808],.prose-img-preview-scale-indicator[data-v-4f488808]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.prose-img-preview-scale-indicator[data-v-4f488808]{background:#00000080;border-radius:4px;bottom:32px;color:#fff;font-size:1rem;left:50%;padding:2px 10px;pointer-events:none;position:absolute;transform:translate(-50%);z-index:10001}.prose-img-preview-close[data-v-4f488808]{background:none;border:none;color:#fff;cursor:pointer;font-size:2.5rem;line-height:1;padding:0 .5rem;position:absolute;right:48px;top:32px;transition:color .2s;z-index:10000}.prose-img-preview-close[data-v-4f488808]:hover{color:#ffb3b3}@keyframes fadeIn-4f488808{0%{opacity:0}to{opacity:1}}</style><link rel="stylesheet" href="/_nuxt/entry.Cb3Jctur.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.DIeCySgY.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/en/2025/07/12/vue-markdown-render-improvement-1/_payload.json?788ed2f7-445c-471b-aaff-4a5f3a28a664"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BE36Xxk1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DWFSTU77.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DhO_gWDs.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BDHgZ5Tr.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CWuP8uir.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BspavZGp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/h1G6w9iA.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DI1k2zTK.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-H1dvYr.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B0F1EVHi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CwgfGY3k.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3XTi-dp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CoEaX7Jc.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DiTYHOm_.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BoEAyRyI.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/T0vn42hr.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/788ed2f7-445c-471b-aaff-4a5f3a28a664.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="竹林里有冰的博客 RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="竹林里有冰的博客 Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Vue.js,Markdown,JavaScript,Web,HTML"><script type="module" src="/_nuxt/BE36Xxk1.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom's Elegant Transformation | 竹林里有冰的博客"><meta property="og:description" data-infer="" content><link rel="canonical" href="https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"><meta property="og:url" content="https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="竹林里有冰的博客"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-02771279 data-v-2fa67436><!--[--><header class="" data-v-d5c97683><div class="header-container" data-v-d5c97683><div class="header" data-v-d5c97683><a href="/en/" class="header-title" data-v-d5c97683>Zhullyb&#39;s Blog</a><div class="header-right" data-v-d5c97683><nav data-v-d5c97683 data-v-46e33355><div class="pc-nav" data-v-46e33355><!--[--><a href="/en/" class="" data-v-46e33355>Home</a><a href="/en/archives/" class="" data-v-46e33355>Archives</a><a href="/en/tags/" class="" data-v-46e33355>Tags</a><a href="/en/links/" class="" data-v-46e33355>Links</a><a href="/en/about/" class="" data-v-46e33355>About</a><!--]--></div><div class="mobile-nav" data-v-46e33355><div class="container" data-v-46e33355><!--[--><div class="mobile-nav-item" data-v-46e33355></div><div class="mobile-nav-item" data-v-46e33355></div><div class="mobile-nav-item" data-v-46e33355></div><!--]--></div></div></nav><button type="button" class="lang-switch" aria-label="Switch Language" data-v-d5c97683><span class="lang-switch__label" data-v-d5c97683>中</span></button><button type="button" class="search-trigger pc" aria-label="Search" data-v-d5c97683><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-d5c97683><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-d5c97683>Search</span></button></div></div></div><!----></header><div class="banner" style="background-color:#cc5577;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100%25&#39; height=&#39;100%25&#39; viewBox=&#39;0 0 100 60&#39;%3E%3Cg %3E%3Crect fill=&#39;%23cc5577&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ce5776&#39; x=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d05a76&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d15c75&#39; x=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d35f74&#39; x=&#39;10&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d46174&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d66473&#39; x=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d76673&#39; x=&#39;20&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d96972&#39; x=&#39;10&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23da6c72&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23db6e71&#39; x=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23dc7171&#39; x=&#39;30&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23dd7471&#39; x=&#39;20&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23de7671&#39; x=&#39;10&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23df7971&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e07c71&#39; x=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e17e71&#39; x=&#39;40&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e28171&#39; x=&#39;30&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e38471&#39; x=&#39;20&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e38771&#39; x=&#39;10&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e48972&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e58c72&#39; x=&#39;60&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e58f73&#39; x=&#39;50&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e69173&#39; x=&#39;40&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e69474&#39; x=&#39;30&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e79775&#39; x=&#39;20&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e79a75&#39; x=&#39;10&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e89c76&#39; x=&#39;70&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e89f77&#39; x=&#39;60&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e8a278&#39; x=&#39;50&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9a47a&#39; x=&#39;40&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9a77b&#39; x=&#39;30&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9aa7c&#39; x=&#39;20&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9ac7e&#39; x=&#39;80&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eaaf7f&#39; x=&#39;70&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab281&#39; x=&#39;60&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab482&#39; x=&#39;50&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab784&#39; x=&#39;40&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eaba86&#39; x=&#39;30&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebbc88&#39; x=&#39;90&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebbf8a&#39; x=&#39;80&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc18c&#39; x=&#39;70&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc48e&#39; x=&#39;60&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc790&#39; x=&#39;50&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc992&#39; x=&#39;40&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebcc94&#39; x=&#39;90&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebce97&#39; x=&#39;80&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebd199&#39; x=&#39;70&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd39c&#39; x=&#39;60&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd69e&#39; x=&#39;50&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd8a1&#39; x=&#39;90&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecdba4&#39; x=&#39;80&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecdda6&#39; x=&#39;70&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ece0a9&#39; x=&#39;60&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede2ac&#39; x=&#39;90&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede4af&#39; x=&#39;80&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede7b2&#39; x=&#39;70&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede9b5&#39; x=&#39;90&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eeecb8&#39; x=&#39;80&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23EEB&#39; x=&#39;90&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-d5c97683 data-v-4e11f931><div class="mask" data-v-4e11f931><div class="title-container" data-v-4e11f931><div class="title" data-v-4e11f931><h1 data-v-4e11f931>Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom&#39;s Elegant Transformation</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-2fa67436><div class="before-main side" data-v-2fa67436><!--[--><!--]--></div><main data-v-2fa67436><!--[--><article class="markdown-body" data-v-02771279><h2 id="background" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Background<!--]--><a href="#background" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->In a recent AI project I took over, I needed to implement a ChatGPT-like conversational interface. The core workflow is: the backend continuously pushes AI-generated Markdown text fragments to the frontend via SSE (Server-Sent Events) protocol. The frontend is responsible for dynamically receiving and concatenating these Markdown fragments, ultimately rendering and displaying the complete Markdown text in real-time on the user interface.<!--]--></p><p><!--[-->Markdown rendering isn&#39;t an uncommon requirement, especially in today&#39;s world flooded with LLM-based products. Unlike the React ecosystem, which has a popular third-party library with 14k+ stars—<a href="https://github.com/remarkjs/react-markdown" rel="nofollow"><!--[-->react-markdown<!--]--></a>—Vue doesn&#39;t seem to have an actively maintained Markdown rendering library with significant popularity (at least 2k+ stars). <a href="https://github.com/cloudacy/vue-markdown-render#readme" rel="nofollow"><!--[-->cloudacy/vue-markdown-render<!--]--></a> last released a year ago but has only 103 stars as of this writing; <a href="https://github.com/miaolz123/vue-markdown" rel="nofollow"><!--[-->miaolz123/vue-markdown<!--]--></a> has 2k stars but its last commit was 7 years ago; <a href="https://github.com/zhaoxuhui1122/vue-markdown" rel="nofollow"><!--[-->zhaoxuhui1122/vue-markdown<!--]--></a> is even archived.<!--]--></p><h2 id="first-version-simple-and-brute-force-v-html" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->First Version: Simple and Brute Force v-html<!--]--><a href="#first-version-simple-and-brute-force-v-html" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->After a quick survey, I confirmed that the Vue ecosystem indeed lacks a robust Markdown rendering library. Since there&#39;s no ready-made solution, let&#39;s build our own!<!--]--></p><p><!--[-->Based on most articles and LLM recommendations, we first adopted the markdown-it third-party library to convert Markdown to HTML strings, then passed it through v-html.<!--]--></p><p><!--[--><strong><!--[-->PS:<!--]--></strong> We assume here that the Markdown content is trusted (e.g., generated by our own AI). If the content comes from user input, you must use libraries like <code><!--[-->DOMPurify<!--]--></code> to prevent XSS attacks and avoid &quot;opening a window&quot; in your website!<!--]--></p><p><!--[-->Example code:<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> v-html</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">renderedHtml</span><span class="s5ixo">&quot;</span><span class="s5ixo">&gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">computed</span><span class="s5ixo">, </span><span class="sJa8x">onMounted</span><span class="s5ixo">, </span><span class="sJa8x">ref</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="7"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">);
</span></span><span class="line" line="10"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">();
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="sLKXg">const</span><span class="sNmU0"> renderedHtml</span><span class="s_Sar"> =</span><span class="sAdtL"> computed</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="s7GmK">markdownContent</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">))
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span class="sAdtL">onMounted</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="15"><span class="sW2Sy">  // markdownContent.value = await fetch() ...
</span></span><span class="line" line="16"><span class="s5ixo">})
</span></span><span class="line" line="17"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h2 id="evolution-chunked-updates-for-markdown" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Evolution: Chunked Updates for Markdown<!--]--><a href="#evolution-chunked-updates-for-markdown" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->While the above approach achieves basic rendering, it has obvious flaws in real-time update scenarios: <strong><!--[-->every time a new Markdown fragment is received, the entire document triggers a full re-render<!--]--></strong>. Even if only the last line is new content, the entire document&#39;s DOM gets completely replaced. This leads to two core problems:<!--]--></p><ol><!--[--><li><!--[--><strong><!--[-->Performance bottleneck:<!--]--></strong> As Markdown content grows, the overhead of <code><!--[-->markdown-it<!--]--></code> parsing and DOM reconstruction increases linearly.<!--]--></li><li><!--[--><strong><!--[-->Lost interaction state:<!--]--></strong> Full refresh wipes out the user&#39;s current operation state. Most notably, if you&#39;ve selected some text, one refresh and the selection is gone!<!--]--></li><!--]--></ol><p><!--[-->To solve these two problems, <a href="https://juejin.cn/post/7480900772386734143" rel="nofollow"><!--[-->we found a chunked rendering solution online<!--]--></a>—splitting Markdown by two consecutive newlines (<code><!--[-->\n\n<!--]--></code>) into chunks. This way, each update only re-renders the last new chunk, while previous chunks reuse the cache. The benefits are obvious:<!--]--></p><ul><!--[--><li><!--[-->If the user has selected text in a previous chunk, the selection state won&#39;t be lost on the next update (because that chunk hasn&#39;t changed).<!--]--></li><li><!--[-->Fewer DOM nodes need re-rendering, naturally improving performance.<!--]--></li><!--]--></ul><p><!--[-->The adjusted code looks like this:<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">    &lt;</span><span class="sJa8x">div
</span></span><span class="line" line="4"><span class="sLKXg">      v-for</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="s5ixo">(</span><span class="sz0mV">block</span><span class="s5ixo">, </span><span class="sz0mV">idx</span><span class="s5ixo">) </span><span class="sLKXg">in</span><span class="sz0mV"> renderedBlocks</span><span class="s5ixo">&quot;
</span></span><span class="line" line="5"><span class="s5ixo">      :</span><span class="sAGMh">key</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">idx</span><span class="s5ixo">&quot;
</span></span><span class="line" line="6"><span class="sAGMh">      v-html</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">block</span><span class="s5ixo">&quot;
</span></span><span class="line" line="7"><span class="sAGMh">      class</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdown-block&quot;
</span></span><span class="line" line="8"><span class="s5ixo">    &gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="9"><span class="s5ixo">  &lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="10"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="13"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">ref</span><span class="s5ixo">, </span><span class="sJa8x">computed</span><span class="s5ixo">, </span><span class="sJa8x">watch</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;
</span></span><span class="line" line="14"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="17"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">()
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">const</span><span class="sNmU0"> renderedBlocks</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">([])
</span></span><span class="line" line="20"><span class="sLKXg">const</span><span class="sNmU0"> blockCache</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">([])
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span class="sAdtL">watch</span><span class="s5ixo">(
</span></span><span class="line" line="23"><span class="sz0mV">  markdownContent</span><span class="s5ixo">,
</span></span><span class="line" line="24"><span class="s5ixo">  (</span><span class="s8iYz">newContent</span><span class="s5ixo">, </span><span class="s8iYz">oldContent</span><span class="s5ixo">) </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="25"><span class="sLKXg">    const</span><span class="sNmU0"> blocks</span><span class="s_Sar"> =</span><span class="s7GmK"> newContent</span><span class="s5ixo">.</span><span class="sAdtL">split</span><span class="s5ixo">(</span><span class="sDaw7">/</span><span class="sRZ4U">\n</span><span class="sYoRg">{2,}</span><span class="sDaw7">/</span><span class="s5ixo">)
</span></span><span class="line" line="26"><span class="sW2Sy">    // Only re-render the last block, reuse cache for others
</span></span><span class="line" line="27"><span class="sW2Sy">    // Handle cases where blocks decrease or increase
</span></span><span class="line" line="28"><span class="s7GmK">    blockCache</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s_Sar"> =</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length
</span></span><span class="line" line="29"><span class="sLKXg">    for</span><span class="s5ixo"> (</span><span class="sLKXg">let</span><span class="sz0mV"> i</span><span class="s_Sar"> =</span><span class="sAGMh"> 0</span><span class="s5ixo">; </span><span class="sz0mV">i</span><span class="s_Sar"> &lt;</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s5ixo">; </span><span class="sz0mV">i</span><span class="s_Sar">++</span><span class="s5ixo">) {
</span></span><span class="line" line="30"><span class="sW2Sy">      // Only render the last one, or new blocks
</span></span><span class="line" line="31"><span class="sLKXg">      if</span><span class="s5ixo"> (</span><span class="sz0mV">i</span><span class="s_Sar"> ===</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s_Sar"> -</span><span class="sAGMh"> 1</span><span class="s_Sar"> ||</span><span class="s_Sar"> !</span><span class="s7GmK">blockCache</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">]) {
</span></span><span class="line" line="32"><span class="s7GmK">        blockCache</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">] </span><span class="s_Sar">=</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="sz0mV">blocks</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">] </span><span class="s_Sar">||</span><span class="sDhpE"> &#39;&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="33"><span class="s5ixo">      }
</span></span><span class="line" line="34"><span class="sW2Sy">      // Reuse other blocks directly
</span></span><span class="line" line="35"><span class="s5ixo">    }
</span></span><span class="line" line="36"><span class="s7GmK">    renderedBlocks</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s_Sar"> =</span><span class="s7GmK"> blockCache</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sAdtL">slice</span><span class="s5ixo">()
</span></span><span class="line" line="37"><span class="s5ixo">  },
</span></span><span class="line" line="38"><span class="s5ixo">  { </span><span class="sJa8x">immediate</span><span class="st7oF">:</span><span class="sAGMh"> true</span><span class="s5ixo"> }
</span></span><span class="line" line="39"><span class="s5ixo">)
</span></span><span class="line" line="40"><span emptylineplaceholder="true">
</span></span><span class="line" line="41"><span class="sAdtL">onMounted</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="42"><span class="sW2Sy">  // markdownContent.value = await fetch() ...
</span></span><span class="line" line="43"><span class="s5ixo">})
</span></span><span class="line" line="44"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h2 id="ultimate-weapon-precise-updates-with-morphdom" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Ultimate Weapon: Precise Updates with morphdom<!--]--><a href="#ultimate-weapon-precise-updates-with-morphdom" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->While chunked rendering solves most problems, it struggles with Markdown lists. Because in Markdown syntax, list items are usually separated by only one newline, so the entire list is treated as one large chunk. Imagine a list with hundreds of items—even if only the last item is updated, the entire list chunk must be completely re-rendered, and we&#39;re back to square one.<!--]--></p><h3 id="what-is-morphdom" class="prose-heading prose-h3" data-v-894c4550><!--[-->What is morphdom?<!--]--><a href="#what-is-morphdom" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[--><code><!--[-->morphdom<!--]--></code> is a JavaScript library of only 5KB (gzipped), with the core functionality of: <strong><!--[-->receiving two DOM nodes (or HTML strings), calculating the minimal DOM operations needed, and &quot;morphing&quot; the first node into the second, rather than directly replacing it<!--]--></strong>.<!--]--></p><p><!--[-->Its working principle is similar to Virtual DOM&#39;s Diff algorithm, but <strong><!--[-->operates directly on the real DOM<!--]--></strong>:<!--]--></p><ol><!--[--><li><!--[-->Compare tag names, attributes, text content, etc., between old and new DOM;<!--]--></li><li><!--[-->Execute only add/delete/modify operations on the differences (like modifying text, updating attributes, moving node positions);<!--]--></li><li><!--[-->Unchanged DOM nodes are completely preserved, including their event listeners, scroll positions, selection states, etc.<!--]--></li><!--]--></ol><p><!--[-->Markdown treats lists as a whole, but in the generated HTML, each list item (<code><!--[-->&lt;li&gt;<!--]--></code>) is independent! When <code><!--[-->morphdom<!--]--></code> updates later list items, it ensures earlier list items remain untouched, naturally preserving their state.<!--]--></p><p><!--[-->Isn&#39;t this exactly what we&#39;ve been dreaming of? Real-time Markdown updates while maximally preserving user operation state, and saving a bunch of unnecessary DOM operations!<!--]--></p><h3 id="example-code" class="prose-heading prose-h3" data-v-894c4550><!--[-->Example Code<!--]--><a href="#example-code" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> ref</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdownContainer&quot;</span><span class="sAGMh"> class</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdown-container&quot;</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">    &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> id</span><span class="s5ixo">=</span><span class="sDhpE">&quot;md-root&quot;</span><span class="s5ixo">&gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span class="s5ixo">  &lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="5"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="8"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">nextTick</span><span class="s5ixo">, </span><span class="sJa8x">ref</span><span class="s5ixo">, </span><span class="sJa8x">watch</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="9"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="10"><span class="sLKXg">import</span><span class="sJa8x"> morphdom</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;morphdom&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">);
</span></span><span class="line" line="13"><span class="sLKXg">const</span><span class="sNmU0"> markdownContainer</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sAGMh">null</span><span class="s5ixo">);
</span></span><span class="line" line="14"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">();
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">const</span><span class="sAdtL"> render</span><span class="s_Sar"> =</span><span class="s5ixo"> () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="17"><span class="sLKXg">  if</span><span class="s5ixo"> (</span><span class="s_Sar">!</span><span class="s7GmK">markdownContainer</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sAdtL">querySelector</span><span class="s5ixo">(</span><span class="sDhpE">&#39;#md-root&#39;</span><span class="s5ixo">)) </span><span class="sLKXg">return</span><span class="s5ixo">;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">  const</span><span class="sNmU0"> newHtml</span><span class="s_Sar"> =</span><span class="sDhpE"> `&lt;div id=&quot;md-root&quot;&gt;`</span><span class="s_Sar"> +</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="s7GmK">markdownContent</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">) </span><span class="s_Sar">+</span><span class="sDhpE"> `&lt;/div&gt;`
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span class="sAdtL">  morphdom</span><span class="s5ixo">(</span><span class="s7GmK">markdownContainer</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">, </span><span class="sz0mV">newHtml</span><span class="s5ixo">, {
</span></span><span class="line" line="22"><span class="sJa8x">    childrenOnly</span><span class="st7oF">:</span><span class="sAGMh"> true
</span></span><span class="line" line="23"><span class="s5ixo">  });
</span></span><span class="line" line="24"><span class="s5ixo">}
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span class="sAdtL">watch</span><span class="s5ixo">(</span><span class="sz0mV">markdownContent</span><span class="s5ixo">, () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="27"><span class="sAdtL">    render</span><span class="s5ixo">()
</span></span><span class="line" line="28"><span class="s5ixo">});
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span class="sAdtL">onMounted</span><span class="s5ixo">(</span><span class="sLKXg">async</span><span class="s5ixo"> () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="31"><span class="sW2Sy">  // Wait for DOM to be mounted
</span></span><span class="line" line="32"><span class="sLKXg">  await</span><span class="sAdtL"> nextTick</span><span class="s5ixo">()
</span></span><span class="line" line="33"><span class="sAdtL">  render</span><span class="s5ixo">()
</span></span><span class="line" line="34"><span class="s5ixo">})
</span></span><span class="line" line="35"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h3 id="seeing-is-believing-demo-comparison" class="prose-heading prose-h3" data-v-894c4550><!--[-->Seeing is Believing: Demo Comparison<!--]--><a href="#seeing-is-believing-demo-comparison" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->The iframe below contains a comparison demo showing the performance differences between different approaches.<!--]--></p><p><!--[--><strong><!--[-->Tip:<!--]--></strong> If you&#39;re using Chromium-based browsers like Chrome or Edge, open Developer Tools (DevTools), find the &quot;Rendering&quot; tab, and check &quot;Paint flashing.&quot; This way you can visually see which parts get repainted with each update—fewer repainted areas mean better performance!<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-4f488808><img src="https://static.031130.xyz/uploads/2025/07/12/d5721c40fb076.webp" alt="" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-4f488808><!----><!--teleport start--><!--teleport end--></span><!--]--></p><iframe src="https://static.031130.xyz/demo/morphdom-vs-markdown-chunk.html" width="100%" height="500" allowfullscreen loading="lazy"></iframe><h2 id="progress-so-far" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Progress So Far<!--]--><a href="#progress-so-far" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->From the initial &quot;brute force full refresh,&quot; to the &quot;smarter chunked updates,&quot; and now to the &quot;surgical precision of <code><!--[-->morphdom<!--]--></code> updates,&quot; we&#39;ve progressively eliminated unnecessary rendering overhead, ultimately creating a Markdown real-time rendering solution that&#39;s both fast and preserves user state.<!--]--></p><p><!--[-->However, using <code><!--[-->morphdom<!--]--></code>, a third-party library to directly manipulate DOM in Vue components, feels somewhat... not quite &quot;Vue&quot;? While it solves the core performance and state issues, playing this way in the Vue world feels a bit like taking the back door.<!--]--></p><p><!--[--><strong><!--[-->Next Episode Preview:<!--]--></strong> In the next article, we&#39;ll discuss whether there&#39;s a more elegant, more &quot;native&quot; solution in the Vue world to achieve precise Markdown updates. Stay tuned!<!--]--></p><style>html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sz0mV, html code.shiki .sz0mV{--shiki-default:#383A42;--shiki-dark:#E06C75}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sNmU0, html code.shiki .sNmU0{--shiki-default:#986801;--shiki-dark:#E5C07B}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .s7GmK, html code.shiki .s7GmK{--shiki-default:#383A42;--shiki-dark:#E5C07B}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .sDaw7, html code.shiki .sDaw7{--shiki-default:#0184BC;--shiki-dark:#E06C75}html pre.shiki code .sRZ4U, html code.shiki .sRZ4U{--shiki-default:#986801;--shiki-dark:#E06C75}html pre.shiki code .sYoRg, html code.shiki .sYoRg{--shiki-default:#0184BC;--shiki-dark:#D19A66}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .st7oF, html code.shiki .st7oF{--shiki-default:#0184BC;--shiki-dark:#ABB2BF}</style></article><hr class="article-end-hr" data-v-02771279><div class="tags" data-v-02771279><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-02771279><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/en/tags/Vue.js/" class="" data-v-02771279>#Vue.js</a><a href="/en/tags/Markdown/" class="" data-v-02771279>#Markdown</a><a href="/en/tags/JavaScript/" class="" data-v-02771279>#JavaScript</a><a href="/en/tags/Web/" class="" data-v-02771279>#Web</a><a href="/en/tags/HTML/" class="" data-v-02771279>#HTML</a><!--]--></div><nav class="post-navigation" data-v-02771279 data-v-a46f138f><a href="/en/2025/07/13/vue-markdown-render-improvement-2/" class="nav-button prev" data-v-a46f138f><div class="nav-arrow" data-v-a46f138f>←</div><div class="nav-content" data-v-a46f138f><span class="nav-label" data-v-a46f138f>Previous</span><span class="nav-title" data-v-a46f138f>Vue Markdown Rendering Optimization in Practice (Part 2): Farewell to DOM Manipulation, Embrace AST and Functional Rendering</span></div></a><!----></nav><div id="waline" data-v-02771279><span></span></div><!--]--></main><div class="after-main side" data-v-2fa67436><!--[--><aside data-v-02771279><nav class="toc" data-v-02771279 data-v-ae70bcd1><div class="toc-title" data-v-ae70bcd1>目录</div><ul class="toc-list" data-v-ae70bcd1><!--[--><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#background" data-v-ae70bcd1>Background</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#first-version-simple-and-brute-force-v-html" data-v-ae70bcd1>First Version: Simple and Brute Force v-html</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#evolution-chunked-updates-for-markdown" data-v-ae70bcd1>Evolution: Chunked Updates for Markdown</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ultimate-weapon-precise-updates-with-morphdom" data-v-ae70bcd1>Ultimate Weapon: Precise Updates with morphdom</a></li><li class="toc-item toc-level-3" data-v-ae70bcd1><a href="#what-is-morphdom" data-v-ae70bcd1>What is morphdom?</a></li><li class="toc-item toc-level-3" data-v-ae70bcd1><a href="#example-code" data-v-ae70bcd1>Example Code</a></li><li class="toc-item toc-level-3" data-v-ae70bcd1><a href="#seeing-is-believing-demo-comparison" data-v-ae70bcd1>Seeing is Believing: Demo Comparison</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#progress-so-far" data-v-ae70bcd1>Progress So Far</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-color:#cc5577;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100%25&#39; height=&#39;100%25&#39; viewBox=&#39;0 0 100 60&#39;%3E%3Cg %3E%3Crect fill=&#39;%23cc5577&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ce5776&#39; x=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d05a76&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d15c75&#39; x=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d35f74&#39; x=&#39;10&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d46174&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d66473&#39; x=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d76673&#39; x=&#39;20&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23d96972&#39; x=&#39;10&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23da6c72&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23db6e71&#39; x=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23dc7171&#39; x=&#39;30&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23dd7471&#39; x=&#39;20&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23de7671&#39; x=&#39;10&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23df7971&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e07c71&#39; x=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e17e71&#39; x=&#39;40&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e28171&#39; x=&#39;30&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e38471&#39; x=&#39;20&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e38771&#39; x=&#39;10&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e48972&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e58c72&#39; x=&#39;60&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e58f73&#39; x=&#39;50&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e69173&#39; x=&#39;40&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e69474&#39; x=&#39;30&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e79775&#39; x=&#39;20&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e79a75&#39; x=&#39;10&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e89c76&#39; x=&#39;70&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e89f77&#39; x=&#39;60&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e8a278&#39; x=&#39;50&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9a47a&#39; x=&#39;40&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9a77b&#39; x=&#39;30&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9aa7c&#39; x=&#39;20&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23e9ac7e&#39; x=&#39;80&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eaaf7f&#39; x=&#39;70&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab281&#39; x=&#39;60&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab482&#39; x=&#39;50&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eab784&#39; x=&#39;40&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eaba86&#39; x=&#39;30&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebbc88&#39; x=&#39;90&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebbf8a&#39; x=&#39;80&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc18c&#39; x=&#39;70&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc48e&#39; x=&#39;60&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc790&#39; x=&#39;50&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebc992&#39; x=&#39;40&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebcc94&#39; x=&#39;90&#39; y=&#39;10&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebce97&#39; x=&#39;80&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ebd199&#39; x=&#39;70&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd39c&#39; x=&#39;60&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd69e&#39; x=&#39;50&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecd8a1&#39; x=&#39;90&#39; y=&#39;20&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecdba4&#39; x=&#39;80&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ecdda6&#39; x=&#39;70&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ece0a9&#39; x=&#39;60&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede2ac&#39; x=&#39;90&#39; y=&#39;30&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede4af&#39; x=&#39;80&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede7b2&#39; x=&#39;70&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23ede9b5&#39; x=&#39;90&#39; y=&#39;40&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23eeecb8&#39; x=&#39;80&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3Crect fill=&#39;%23EEB&#39; x=&#39;90&#39; y=&#39;50&#39; width=&#39;11&#39; height=&#39;11&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-2fa67436 data-v-620c8785><div class="footer-mask" data-v-620c8785></div><div class="footer-content" data-v-620c8785><div data-v-620c8785>©2020 - 2025 By zhullyb</div><iframe frameborder="0" src="https://support.nodeget.com/page/promotion?id=61" loading="lazy" style="border-radius:8px;height:246px;transform:scale(0.8);transform-origin:top center;" data-v-620c8785></iframe></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/en/#website","@type":"WebSite","description":"这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","inLanguage":"en-US","name":"竹林里有冰的博客","url":"https://zhul.in/en/","translationOfWork":{"@id":"https://zhul.in/#website"}},{"@id":"https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/#webpage","@type":"WebPage","description":true,"name":"Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom's Elegant Transformation","url":"https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/","isPartOf":{"@id":"https://zhul.in/en/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/en/2025/07/12/vue-markdown-render-improvement-1/_payload.json?788ed2f7-445c-471b-aaff-4a5f3a28a664">[{"state":1,"once":22,"_errors":23,"serverRendered":6,"path":25,"prerenderedAt":26},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"en",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":17,"description":18,"env":19,"name":20,"trailingSlash":6,"url":21},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"en-US","zh-CN","这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","production","竹林里有冰的博客","https://zhul.in/",["Set"],["ShallowReactive",24],{"post-2025-07-12-vue-markdown-render-improvement-1-en":-1,"surround-2025-07-12-vue-markdown-render-improvement-1-en":-1,"randomIndex/en/2025/07/12/vue-markdown-render-improvement-1/":-1,"posts-search-sections":-1},"/en/2025/07/12/vue-markdown-render-improvement-1/",1763584237989]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"简体中文",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"788ed2f7-445c-471b-aaff-4a5f3a28a664",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>