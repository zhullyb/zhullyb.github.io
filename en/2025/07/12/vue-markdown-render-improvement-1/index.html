<!DOCTYPE html><html  lang="en-US"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom&#x27;s Elegant Transformation | 竹林里有冰的博客</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-6c2349ae] .markdown-body{font-family:inherit;font-size:inherit}[data-v-6c2349ae] .markdown-body h2,[data-v-6c2349ae] .markdown-body h3,[data-v-6c2349ae] .markdown-body h4,[data-v-6c2349ae] .markdown-body h5,[data-v-6c2349ae] .markdown-body h6{scroll-margin-top:78px}[data-v-6c2349ae] .markdown-body h2>a,[data-v-6c2349ae] .markdown-body h3>a,[data-v-6c2349ae] .markdown-body h4>a,[data-v-6c2349ae] .markdown-body h5>a,[data-v-6c2349ae] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-6c2349ae] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-6c2349ae] .markdown-body .shiki,[data-v-6c2349ae] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-6c2349ae]{position:sticky;top:78px}[data-v-6c2349ae] #waline{margin-top:3rem}.article-end-hr[data-v-6c2349ae]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-6c2349ae]{border-color:#444c56}}.tags[data-v-6c2349ae]{margin:1rem 0}.tags[data-v-6c2349ae] *{vertical-align:middle}.tags svg[data-v-6c2349ae]{font-size:.9em}.tags a[data-v-6c2349ae]{display:inline-block;margin-left:.2rem}.tags a[data-v-6c2349ae]:hover{color:#007bff}</style><style>.content-wrapper[data-v-40d23075]{margin-bottom:40px;margin-top:40px}@media(min-width:1025px){.content-wrapper[data-v-40d23075]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-40d23075]{width:20%}}@media(max-width:1024px){.content-wrapper[data-v-40d23075]{margin:30px}}main[data-v-40d23075]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-40d23075]{width:unset}}</style><style>header[data-v-c4c9a290]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-c4c9a290]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-c4c9a290],header.show-mobile-menu[data-v-c4c9a290]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-c4c9a290]{height:-moz-fit-content;height:fit-content}.header-container[data-v-c4c9a290]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-c4c9a290]{min-width:100%;padding-left:16px;padding-right:16px}}.header-container .header-title[data-v-c4c9a290]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-c4c9a290]{justify-content:space-between}.header[data-v-c4c9a290],.header-right[data-v-c4c9a290]{align-items:center;display:flex}.header-right[data-v-c4c9a290]{gap:16px}.mobile-menu-dropdown[data-v-c4c9a290]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-c4c9a290]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-c4c9a290],a[data-v-c4c9a290]{color:#fff;text-decoration:none}.lang-switch[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-c4c9a290]{font-size:16px;line-height:1}@media(max-width:1024px){.search-trigger[data-v-c4c9a290]{display:none}}</style><style>.post-navigation[data-v-a35c130b]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a35c130b]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a35c130b]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a35c130b]:hover{border-color:#007bff}.nav-button:hover .nav-arrow[data-v-a35c130b],.nav-button:hover .nav-label[data-v-a35c130b],.nav-button:hover .nav-title[data-v-a35c130b]{color:#007bff}.nav-button.prev[data-v-a35c130b]{margin-right:auto}.nav-button.prev .nav-content[data-v-a35c130b]{text-align:left}.nav-button.next[data-v-a35c130b]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a35c130b]{text-align:right}.nav-arrow[data-v-a35c130b]{color:#6a737d;flex-shrink:0;font-weight:600;line-height:1}.nav-content[data-v-a35c130b]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a35c130b]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a35c130b]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a35c130b]{color:#c9d1d9}}@media(max-width:720px){.post-navigation[data-v-a35c130b]{flex-direction:column;gap:.75rem}.nav-button[data-v-a35c130b]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-bdce45f2]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-bdce45f2]{background:#181c27;border:1px solid #444c5a}}@media(max-width:1024px){.toc[data-v-bdce45f2]{display:none}}.toc-title[data-v-bdce45f2]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-bdce45f2]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-bdce45f2]{list-style:none;margin:0;padding:0}.toc-item[data-v-bdce45f2]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-bdce45f2]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-bdce45f2]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-bdce45f2]{color:#ccc}}.toc-item a[data-v-bdce45f2]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-bdce45f2]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-bdce45f2]{padding-left:0}.toc-item.toc-level-1 a[data-v-bdce45f2]{font-weight:500}.toc-item.toc-level-2[data-v-bdce45f2]{padding-left:.75rem}.toc-item.toc-level-3[data-v-bdce45f2]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-bdce45f2]{font-size:.85rem}.toc-item.toc-level-4[data-v-bdce45f2]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-bdce45f2]{font-size:.825rem}.toc-item.toc-level-5[data-v-bdce45f2]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-bdce45f2]{font-size:.8rem}.toc-item.toc-level-6[data-v-bdce45f2]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-bdce45f2]{font-size:.775rem}.toc[data-v-bdce45f2]::-webkit-scrollbar{width:5px}.toc[data-v-bdce45f2]::-webkit-scrollbar-track{background:transparent}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-5bcc226c]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-5bcc226c],footer[data-v-5bcc226c]{align-items:center;display:flex}.footer-content[data-v-5bcc226c]{flex-direction:column;gap:8px;padding:20px;z-index:1}.footer-mask[data-v-5bcc226c]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-5bcc226c]{background:linear-gradient(180deg,#0009,#000c)}}.social[data-v-5bcc226c]{gap:16px;margin-bottom:12px}.social[data-v-5bcc226c],.social-icons[data-v-5bcc226c]{align-items:center;display:flex}.social-icons[data-v-5bcc226c]{background-color:#ffffff1a;border-radius:50%;cursor:pointer;height:48px;justify-content:center;width:48px}.social-icons[data-v-5bcc226c]:hover{background-color:#fff3}.social-icons svg[data-v-5bcc226c]{fill:#fff;height:20px;width:20px}</style><style>.promo-card[data-v-f771117d]{background:#0003;border:.5px solid #eee;box-sizing:border-box;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;gap:16px;max-width:310px;padding:24px;zoom:.8}.card-header[data-v-f771117d]{justify-content:space-between}.card-header[data-v-f771117d],.header-left[data-v-f771117d]{align-items:center;display:flex}.header-left[data-v-f771117d]{gap:8px}.logo-img[data-v-f771117d]{display:block;height:auto;width:100%}.logo-yxvm-container[data-v-f771117d]{margin-left:2px;width:100px}.plus-separator[data-v-f771117d]{color:#fff;font-size:20px;font-weight:700}.logo-nodeseek-container[data-v-f771117d]{width:40px}.github-link[data-v-f771117d]{color:#fff;display:block;transition:color .2s ease-in-out;width:20px}.github-link[data-v-f771117d]:hover{color:#38bdf8}.github-icon[data-v-f771117d]{fill:currentColor;height:100%;width:100%}.card-title[data-v-f771117d]{color:#fff;font-size:18px;font-weight:500;line-height:1.2;margin:0;text-transform:capitalize}.card-description[data-v-f771117d]{color:#94a3b8;font-size:14px;line-height:1.5;margin:0}.card-footer[data-v-f771117d]{color:#e4e4e7;display:flex;font-size:13px;font-weight:500;gap:4px;justify-content:flex-end}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>pre[data-v-a9c19cc1]{font-size:14px}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>.prose-img-wrapper[data-v-4f488808]{display:inline-block;position:relative}.prose-img[data-v-4f488808]{border-radius:4px;box-shadow:0 1px 4px #00000014;max-width:100%;transition:box-shadow .2s}.prose-img[data-v-4f488808]:hover{box-shadow:0 4px 16px #0000002e}.prose-img-caption[data-v-4f488808]{color:#666;display:block;font-size:.875rem;font-style:italic;margin-top:.25rem;text-align:center}.prose-img-preview-mask[data-v-4f488808]{align-items:center;animation:fadeIn-4f488808 .2s;background:#000000d9;display:flex;justify-content:center;inset:0;position:fixed;z-index:9999}.prose-img-preview-img[data-v-4f488808]{background:#fff;border-radius:8px;box-shadow:0 8px 32px #0006;max-height:90vh;max-width:90vw;will-change:transform}.prose-img-preview-img[data-v-4f488808],.prose-img-preview-scale-indicator[data-v-4f488808]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.prose-img-preview-scale-indicator[data-v-4f488808]{background:#00000080;border-radius:4px;bottom:32px;color:#fff;font-size:1rem;left:50%;padding:2px 10px;pointer-events:none;position:absolute;transform:translate(-50%);z-index:10001}.prose-img-preview-close[data-v-4f488808]{background:none;border:none;color:#fff;cursor:pointer;font-size:2.5rem;line-height:1;padding:0 .5rem;position:absolute;right:48px;top:32px;transition:color .2s;z-index:10000}.prose-img-preview-close[data-v-4f488808]:hover{color:#ffb3b3}@keyframes fadeIn-4f488808{0%{opacity:0}to{opacity:1}}</style><style>@media(max-width:1024px){.pc-nav[data-v-49e970ab]{display:none}}.mobile-nav[data-v-49e970ab]{cursor:pointer;display:none}@media(max-width:1024px){.mobile-nav[data-v-49e970ab]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-49e970ab]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-49e970ab]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-49e970ab]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-0f1d2f14]{height:60vh;width:100%}.mask[data-v-0f1d2f14]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-0f1d2f14]{background:#00000080}}.title-container[data-v-0f1d2f14]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:1024px){.title-container[data-v-0f1d2f14]{width:80%}}.title[data-v-0f1d2f14]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-0f1d2f14]{font-size:32px;font-weight:700;margin:0}@media(max-width:720px){.title h1[data-v-0f1d2f14]{font-size:24px}}.title p[data-v-0f1d2f14]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:1024px){.title[data-v-0f1d2f14]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-63592d71],.search-overlay-leave-active[data-v-63592d71]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-63592d71],.search-overlay-leave-to[data-v-63592d71]{opacity:0}.search-overlay[data-v-63592d71]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-63592d71]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-63592d71]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-63592d71]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-63592d71]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-63592d71]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-63592d71]:hover{color:#000c}.search-overlay__body[data-v-63592d71]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-63592d71]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-63592d71]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-63592d71]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-63592d71]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-63592d71]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-63592d71]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-63592d71]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-63592d71]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-63592d71]{color:#0000008c}.search-overlay__item-snippet[data-v-63592d71]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-63592d71]{padding:80px 12px 20px}.search-overlay__panel[data-v-63592d71]{max-height:calc(100vh - 120px)}}</style><link rel="stylesheet" href="/_nuxt/entry.7EIxnZzq.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.Dgtf9Uq0.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/en/2025/07/12/vue-markdown-render-improvement-1/_payload.json?c46d8ff0-c0d3-4997-967e-cbaf7862d4fb"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CLl0YTUh.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/u56RYctJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DxApbTFV.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/786uThaa.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CYDy_428.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B9rOL0WR.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BFZlgkQ7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/bZ2WZAiS.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CcClHATN.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BK2RZizz.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TmTWJG0_.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DeWIM8oz.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DFS5_75J.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BdkcR0nX.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/oaTK6wCN.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BOQWBaQ0.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/c46d8ff0-c0d3-4997-967e-cbaf7862d4fb.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="竹林里有冰的博客 RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="竹林里有冰的博客 Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Vue.js,Markdown,JavaScript,Web,HTML"><script type="module" src="/_nuxt/CLl0YTUh.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom's Elegant Transformation | 竹林里有冰的博客"><meta property="og:description" data-infer="" content><link rel="canonical" href="https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"><meta property="og:url" content="https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="竹林里有冰的博客"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-6c2349ae data-v-40d23075><!--[--><header class="" data-v-c4c9a290><div class="header-container" data-v-c4c9a290><div class="header" data-v-c4c9a290><a href="/en/" class="header-title" data-v-c4c9a290>Zhullyb&#39;s Blog</a><div class="header-right" data-v-c4c9a290><nav data-v-c4c9a290 data-v-49e970ab><div class="pc-nav" data-v-49e970ab><!--[--><a href="/en/" class="" data-v-49e970ab>Home</a><a href="/en/archives/" class="" data-v-49e970ab>Archives</a><a href="/en/tags/" class="" data-v-49e970ab>Tags</a><a href="/en/links/" class="" data-v-49e970ab>Links</a><a href="/en/about/" class="" data-v-49e970ab>About</a><!--]--></div><div class="mobile-nav" data-v-49e970ab><div class="container" data-v-49e970ab><!--[--><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><!--]--></div></div></nav><a href="/2025/07/12/vue-markdown-render-improvement-1/" class="lang-switch" aria-label="Switch Language" data-v-c4c9a290><span class="lang-switch__label" data-v-c4c9a290>中</span></a><button type="button" class="search-trigger" aria-label="Search" data-v-c4c9a290><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c4c9a290><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-c4c9a290>Search</span></button></div></div></div><!----></header><div class="banner" style="background-color:#ff9d00;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100%25&#39; height=&#39;100%25&#39; viewBox=&#39;0 0 1600 800&#39;%3E%3Cg stroke=&#39;%23000&#39; stroke-width=&#39;66.7&#39; stroke-opacity=&#39;0.05&#39; %3E%3Ccircle fill=&#39;%23ff9d00&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1800&#39;/%3E%3Ccircle fill=&#39;%23fb8d17&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1700&#39;/%3E%3Ccircle fill=&#39;%23f47d24&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1600&#39;/%3E%3Ccircle fill=&#39;%23ed6e2d&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1500&#39;/%3E%3Ccircle fill=&#39;%23e35f34&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1400&#39;/%3E%3Ccircle fill=&#39;%23d85239&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1300&#39;/%3E%3Ccircle fill=&#39;%23cc453e&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1200&#39;/%3E%3Ccircle fill=&#39;%23be3941&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1100&#39;/%3E%3Ccircle fill=&#39;%23b02f43&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1000&#39;/%3E%3Ccircle fill=&#39;%23a02644&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;900&#39;/%3E%3Ccircle fill=&#39;%23901e44&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;800&#39;/%3E%3Ccircle fill=&#39;%23801843&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;700&#39;/%3E%3Ccircle fill=&#39;%236f1341&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;600&#39;/%3E%3Ccircle fill=&#39;%235e0f3d&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;500&#39;/%3E%3Ccircle fill=&#39;%234e0c38&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;400&#39;/%3E%3Ccircle fill=&#39;%233e0933&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;300&#39;/%3E%3Ccircle fill=&#39;%232e062c&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;200&#39;/%3E%3Ccircle fill=&#39;%23210024&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;100&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-c4c9a290 data-v-0f1d2f14><div class="mask" data-v-0f1d2f14><div class="title-container" data-v-0f1d2f14><div class="title" data-v-0f1d2f14><h1 data-v-0f1d2f14>Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom&#39;s Elegant Transformation</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-40d23075><div class="before-main side" data-v-40d23075><!--[--><!--]--></div><main data-v-40d23075><!--[--><article class="markdown-body" data-v-6c2349ae><h2 id="background" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Background<!--]--><a href="#background" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->In a recent AI project I took over, I needed to implement a ChatGPT-like conversational interface. The core workflow is: the backend continuously pushes AI-generated Markdown text fragments to the frontend via SSE (Server-Sent Events) protocol. The frontend is responsible for dynamically receiving and concatenating these Markdown fragments, ultimately rendering and displaying the complete Markdown text in real-time on the user interface.<!--]--></p><p><!--[-->Markdown rendering isn&#39;t an uncommon requirement, especially in today&#39;s world flooded with LLM-based products. Unlike the React ecosystem, which has a popular third-party library with 14k+ stars—<a href="https://github.com/remarkjs/react-markdown" rel="nofollow"><!--[-->react-markdown<!--]--></a>—Vue doesn&#39;t seem to have an actively maintained Markdown rendering library with significant popularity (at least 2k+ stars). <a href="https://github.com/cloudacy/vue-markdown-render#readme" rel="nofollow"><!--[-->cloudacy/vue-markdown-render<!--]--></a> last released a year ago but has only 103 stars as of this writing; <a href="https://github.com/miaolz123/vue-markdown" rel="nofollow"><!--[-->miaolz123/vue-markdown<!--]--></a> has 2k stars but its last commit was 7 years ago; <a href="https://github.com/zhaoxuhui1122/vue-markdown" rel="nofollow"><!--[-->zhaoxuhui1122/vue-markdown<!--]--></a> is even archived.<!--]--></p><h2 id="first-version-simple-and-brute-force-v-html" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->First Version: Simple and Brute Force v-html<!--]--><a href="#first-version-simple-and-brute-force-v-html" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->After a quick survey, I confirmed that the Vue ecosystem indeed lacks a robust Markdown rendering library. Since there&#39;s no ready-made solution, let&#39;s build our own!<!--]--></p><p><!--[-->Based on most articles and LLM recommendations, we first adopted the markdown-it third-party library to convert Markdown to HTML strings, then passed it through v-html.<!--]--></p><p><!--[--><strong><!--[-->PS:<!--]--></strong> We assume here that the Markdown content is trusted (e.g., generated by our own AI). If the content comes from user input, you must use libraries like <code><!--[-->DOMPurify<!--]--></code> to prevent XSS attacks and avoid &quot;opening a window&quot; in your website!<!--]--></p><p><!--[-->Example code:<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> v-html</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">renderedHtml</span><span class="s5ixo">&quot;</span><span class="s5ixo">&gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">computed</span><span class="s5ixo">, </span><span class="sJa8x">onMounted</span><span class="s5ixo">, </span><span class="sJa8x">ref</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="7"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">);
</span></span><span class="line" line="10"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">();
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="sLKXg">const</span><span class="sNmU0"> renderedHtml</span><span class="s_Sar"> =</span><span class="sAdtL"> computed</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="s7GmK">markdownContent</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">))
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span class="sAdtL">onMounted</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="15"><span class="sW2Sy">  // markdownContent.value = await fetch() ...
</span></span><span class="line" line="16"><span class="s5ixo">})
</span></span><span class="line" line="17"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h2 id="evolution-chunked-updates-for-markdown" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Evolution: Chunked Updates for Markdown<!--]--><a href="#evolution-chunked-updates-for-markdown" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->While the above approach achieves basic rendering, it has obvious flaws in real-time update scenarios: <strong><!--[-->every time a new Markdown fragment is received, the entire document triggers a full re-render<!--]--></strong>. Even if only the last line is new content, the entire document&#39;s DOM gets completely replaced. This leads to two core problems:<!--]--></p><ol><!--[--><li><!--[--><strong><!--[-->Performance bottleneck:<!--]--></strong> As Markdown content grows, the overhead of <code><!--[-->markdown-it<!--]--></code> parsing and DOM reconstruction increases linearly.<!--]--></li><li><!--[--><strong><!--[-->Lost interaction state:<!--]--></strong> Full refresh wipes out the user&#39;s current operation state. Most notably, if you&#39;ve selected some text, one refresh and the selection is gone!<!--]--></li><!--]--></ol><p><!--[-->To solve these two problems, <a href="https://juejin.cn/post/7480900772386734143" rel="nofollow"><!--[-->we found a chunked rendering solution online<!--]--></a>—splitting Markdown by two consecutive newlines (<code><!--[-->\n\n<!--]--></code>) into chunks. This way, each update only re-renders the last new chunk, while previous chunks reuse the cache. The benefits are obvious:<!--]--></p><ul><!--[--><li><!--[-->If the user has selected text in a previous chunk, the selection state won&#39;t be lost on the next update (because that chunk hasn&#39;t changed).<!--]--></li><li><!--[-->Fewer DOM nodes need re-rendering, naturally improving performance.<!--]--></li><!--]--></ul><p><!--[-->The adjusted code looks like this:<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">    &lt;</span><span class="sJa8x">div
</span></span><span class="line" line="4"><span class="sLKXg">      v-for</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="s5ixo">(</span><span class="sz0mV">block</span><span class="s5ixo">, </span><span class="sz0mV">idx</span><span class="s5ixo">) </span><span class="sLKXg">in</span><span class="sz0mV"> renderedBlocks</span><span class="s5ixo">&quot;
</span></span><span class="line" line="5"><span class="s5ixo">      :</span><span class="sAGMh">key</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">idx</span><span class="s5ixo">&quot;
</span></span><span class="line" line="6"><span class="sAGMh">      v-html</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">block</span><span class="s5ixo">&quot;
</span></span><span class="line" line="7"><span class="sAGMh">      class</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdown-block&quot;
</span></span><span class="line" line="8"><span class="s5ixo">    &gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="9"><span class="s5ixo">  &lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="10"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="13"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">ref</span><span class="s5ixo">, </span><span class="sJa8x">computed</span><span class="s5ixo">, </span><span class="sJa8x">watch</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;
</span></span><span class="line" line="14"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="17"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">()
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">const</span><span class="sNmU0"> renderedBlocks</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">([])
</span></span><span class="line" line="20"><span class="sLKXg">const</span><span class="sNmU0"> blockCache</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">([])
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span class="sAdtL">watch</span><span class="s5ixo">(
</span></span><span class="line" line="23"><span class="sz0mV">  markdownContent</span><span class="s5ixo">,
</span></span><span class="line" line="24"><span class="s5ixo">  (</span><span class="s8iYz">newContent</span><span class="s5ixo">, </span><span class="s8iYz">oldContent</span><span class="s5ixo">) </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="25"><span class="sLKXg">    const</span><span class="sNmU0"> blocks</span><span class="s_Sar"> =</span><span class="s7GmK"> newContent</span><span class="s5ixo">.</span><span class="sAdtL">split</span><span class="s5ixo">(</span><span class="sDaw7">/</span><span class="sRZ4U">\n</span><span class="sYoRg">{2,}</span><span class="sDaw7">/</span><span class="s5ixo">)
</span></span><span class="line" line="26"><span class="sW2Sy">    // Only re-render the last block, reuse cache for others
</span></span><span class="line" line="27"><span class="sW2Sy">    // Handle cases where blocks decrease or increase
</span></span><span class="line" line="28"><span class="s7GmK">    blockCache</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s_Sar"> =</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length
</span></span><span class="line" line="29"><span class="sLKXg">    for</span><span class="s5ixo"> (</span><span class="sLKXg">let</span><span class="sz0mV"> i</span><span class="s_Sar"> =</span><span class="sAGMh"> 0</span><span class="s5ixo">; </span><span class="sz0mV">i</span><span class="s_Sar"> &lt;</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s5ixo">; </span><span class="sz0mV">i</span><span class="s_Sar">++</span><span class="s5ixo">) {
</span></span><span class="line" line="30"><span class="sW2Sy">      // Only render the last one, or new blocks
</span></span><span class="line" line="31"><span class="sLKXg">      if</span><span class="s5ixo"> (</span><span class="sz0mV">i</span><span class="s_Sar"> ===</span><span class="s7GmK"> blocks</span><span class="s5ixo">.</span><span class="sJa8x">length</span><span class="s_Sar"> -</span><span class="sAGMh"> 1</span><span class="s_Sar"> ||</span><span class="s_Sar"> !</span><span class="s7GmK">blockCache</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">]) {
</span></span><span class="line" line="32"><span class="s7GmK">        blockCache</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">] </span><span class="s_Sar">=</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="sz0mV">blocks</span><span class="s5ixo">[</span><span class="sz0mV">i</span><span class="s5ixo">] </span><span class="s_Sar">||</span><span class="sDhpE"> &#39;&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="33"><span class="s5ixo">      }
</span></span><span class="line" line="34"><span class="sW2Sy">      // Reuse other blocks directly
</span></span><span class="line" line="35"><span class="s5ixo">    }
</span></span><span class="line" line="36"><span class="s7GmK">    renderedBlocks</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s_Sar"> =</span><span class="s7GmK"> blockCache</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sAdtL">slice</span><span class="s5ixo">()
</span></span><span class="line" line="37"><span class="s5ixo">  },
</span></span><span class="line" line="38"><span class="s5ixo">  { </span><span class="sJa8x">immediate</span><span class="st7oF">:</span><span class="sAGMh"> true</span><span class="s5ixo"> }
</span></span><span class="line" line="39"><span class="s5ixo">)
</span></span><span class="line" line="40"><span emptylineplaceholder="true">
</span></span><span class="line" line="41"><span class="sAdtL">onMounted</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="42"><span class="sW2Sy">  // markdownContent.value = await fetch() ...
</span></span><span class="line" line="43"><span class="s5ixo">})
</span></span><span class="line" line="44"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h2 id="ultimate-weapon-precise-updates-with-morphdom" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Ultimate Weapon: Precise Updates with morphdom<!--]--><a href="#ultimate-weapon-precise-updates-with-morphdom" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->While chunked rendering solves most problems, it struggles with Markdown lists. Because in Markdown syntax, list items are usually separated by only one newline, so the entire list is treated as one large chunk. Imagine a list with hundreds of items—even if only the last item is updated, the entire list chunk must be completely re-rendered, and we&#39;re back to square one.<!--]--></p><h3 id="what-is-morphdom" class="prose-heading prose-h3" data-v-894c4550><!--[-->What is morphdom?<!--]--><a href="#what-is-morphdom" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[--><code><!--[-->morphdom<!--]--></code> is a JavaScript library of only 5KB (gzipped), with the core functionality of: <strong><!--[-->receiving two DOM nodes (or HTML strings), calculating the minimal DOM operations needed, and &quot;morphing&quot; the first node into the second, rather than directly replacing it<!--]--></strong>.<!--]--></p><p><!--[-->Its working principle is similar to Virtual DOM&#39;s Diff algorithm, but <strong><!--[-->operates directly on the real DOM<!--]--></strong>:<!--]--></p><ol><!--[--><li><!--[-->Compare tag names, attributes, text content, etc., between old and new DOM;<!--]--></li><li><!--[-->Execute only add/delete/modify operations on the differences (like modifying text, updating attributes, moving node positions);<!--]--></li><li><!--[-->Unchanged DOM nodes are completely preserved, including their event listeners, scroll positions, selection states, etc.<!--]--></li><!--]--></ol><p><!--[-->Markdown treats lists as a whole, but in the generated HTML, each list item (<code><!--[-->&lt;li&gt;<!--]--></code>) is independent! When <code><!--[-->morphdom<!--]--></code> updates later list items, it ensures earlier list items remain untouched, naturally preserving their state.<!--]--></p><p><!--[-->Isn&#39;t this exactly what we&#39;ve been dreaming of? Real-time Markdown updates while maximally preserving user operation state, and saving a bunch of unnecessary DOM operations!<!--]--></p><h3 id="example-code" class="prose-heading prose-h3" data-v-894c4550><!--[-->Example Code<!--]--><a href="#example-code" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> ref</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdownContainer&quot;</span><span class="sAGMh"> class</span><span class="s5ixo">=</span><span class="sDhpE">&quot;markdown-container&quot;</span><span class="s5ixo">&gt;
</span></span><span class="line" line="3"><span class="s5ixo">    &lt;</span><span class="sJa8x">div</span><span class="sAGMh"> id</span><span class="s5ixo">=</span><span class="sDhpE">&quot;md-root&quot;</span><span class="s5ixo">&gt;&lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span class="s5ixo">  &lt;/</span><span class="sJa8x">div</span><span class="s5ixo">&gt;
</span></span><span class="line" line="5"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="8"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">nextTick</span><span class="s5ixo">, </span><span class="sJa8x">ref</span><span class="s5ixo">, </span><span class="sJa8x">watch</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="9"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownIt</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;markdown-it&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="10"><span class="sLKXg">import</span><span class="sJa8x"> morphdom</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;morphdom&#39;</span><span class="s5ixo">;
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;&#39;</span><span class="s5ixo">);
</span></span><span class="line" line="13"><span class="sLKXg">const</span><span class="sNmU0"> markdownContainer</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sAGMh">null</span><span class="s5ixo">);
</span></span><span class="line" line="14"><span class="sLKXg">const</span><span class="sNmU0"> md</span><span class="s_Sar"> =</span><span class="sLKXg"> new</span><span class="sAdtL"> MarkdownIt</span><span class="s5ixo">();
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">const</span><span class="sAdtL"> render</span><span class="s_Sar"> =</span><span class="s5ixo"> () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="17"><span class="sLKXg">  if</span><span class="s5ixo"> (</span><span class="s_Sar">!</span><span class="s7GmK">markdownContainer</span><span class="s5ixo">.</span><span class="s2QsP">value</span><span class="s5ixo">.</span><span class="sAdtL">querySelector</span><span class="s5ixo">(</span><span class="sDhpE">&#39;#md-root&#39;</span><span class="s5ixo">)) </span><span class="sLKXg">return</span><span class="s5ixo">;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">  const</span><span class="sNmU0"> newHtml</span><span class="s_Sar"> =</span><span class="sDhpE"> `&lt;div id=&quot;md-root&quot;&gt;`</span><span class="s_Sar"> +</span><span class="s7GmK"> md</span><span class="s5ixo">.</span><span class="sAdtL">render</span><span class="s5ixo">(</span><span class="s7GmK">markdownContent</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">) </span><span class="s_Sar">+</span><span class="sDhpE"> `&lt;/div&gt;`
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span class="sAdtL">  morphdom</span><span class="s5ixo">(</span><span class="s7GmK">markdownContainer</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">, </span><span class="sz0mV">newHtml</span><span class="s5ixo">, {
</span></span><span class="line" line="22"><span class="sJa8x">    childrenOnly</span><span class="st7oF">:</span><span class="sAGMh"> true
</span></span><span class="line" line="23"><span class="s5ixo">  });
</span></span><span class="line" line="24"><span class="s5ixo">}
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span class="sAdtL">watch</span><span class="s5ixo">(</span><span class="sz0mV">markdownContent</span><span class="s5ixo">, () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="27"><span class="sAdtL">    render</span><span class="s5ixo">()
</span></span><span class="line" line="28"><span class="s5ixo">});
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span class="sAdtL">onMounted</span><span class="s5ixo">(</span><span class="sLKXg">async</span><span class="s5ixo"> () </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="31"><span class="sW2Sy">  // Wait for DOM to be mounted
</span></span><span class="line" line="32"><span class="sLKXg">  await</span><span class="sAdtL"> nextTick</span><span class="s5ixo">()
</span></span><span class="line" line="33"><span class="sAdtL">  render</span><span class="s5ixo">()
</span></span><span class="line" line="34"><span class="s5ixo">})
</span></span><span class="line" line="35"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h3 id="seeing-is-believing-demo-comparison" class="prose-heading prose-h3" data-v-894c4550><!--[-->Seeing is Believing: Demo Comparison<!--]--><a href="#seeing-is-believing-demo-comparison" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->The iframe below contains a comparison demo showing the performance differences between different approaches.<!--]--></p><p><!--[--><strong><!--[-->Tip:<!--]--></strong> If you&#39;re using Chromium-based browsers like Chrome or Edge, open Developer Tools (DevTools), find the &quot;Rendering&quot; tab, and check &quot;Paint flashing.&quot; This way you can visually see which parts get repainted with each update—fewer repainted areas mean better performance!<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-4f488808><img src="https://static.031130.xyz/uploads/2025/07/12/d5721c40fb076.webp" alt="" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-4f488808><!----><!--teleport start--><!--teleport end--></span><!--]--></p><iframe src="https://static.031130.xyz/demo/morphdom-vs-markdown-chunk.html" width="100%" height="500" allowfullscreen loading="lazy"></iframe><h2 id="progress-so-far" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Progress So Far<!--]--><a href="#progress-so-far" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->From the initial &quot;brute force full refresh,&quot; to the &quot;smarter chunked updates,&quot; and now to the &quot;surgical precision of <code><!--[-->morphdom<!--]--></code> updates,&quot; we&#39;ve progressively eliminated unnecessary rendering overhead, ultimately creating a Markdown real-time rendering solution that&#39;s both fast and preserves user state.<!--]--></p><p><!--[-->However, using <code><!--[-->morphdom<!--]--></code>, a third-party library to directly manipulate DOM in Vue components, feels somewhat... not quite &quot;Vue&quot;? While it solves the core performance and state issues, playing this way in the Vue world feels a bit like taking the back door.<!--]--></p><p><!--[--><strong><!--[-->Next Episode Preview:<!--]--></strong> In the next article, we&#39;ll discuss whether there&#39;s a more elegant, more &quot;native&quot; solution in the Vue world to achieve precise Markdown updates. Stay tuned!<!--]--></p><style>html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sz0mV, html code.shiki .sz0mV{--shiki-default:#383A42;--shiki-dark:#E06C75}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sNmU0, html code.shiki .sNmU0{--shiki-default:#986801;--shiki-dark:#E5C07B}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .s7GmK, html code.shiki .s7GmK{--shiki-default:#383A42;--shiki-dark:#E5C07B}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .sDaw7, html code.shiki .sDaw7{--shiki-default:#0184BC;--shiki-dark:#E06C75}html pre.shiki code .sRZ4U, html code.shiki .sRZ4U{--shiki-default:#986801;--shiki-dark:#E06C75}html pre.shiki code .sYoRg, html code.shiki .sYoRg{--shiki-default:#0184BC;--shiki-dark:#D19A66}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .st7oF, html code.shiki .st7oF{--shiki-default:#0184BC;--shiki-dark:#ABB2BF}</style></article><hr class="article-end-hr" data-v-6c2349ae><div class="tags" data-v-6c2349ae><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-6c2349ae><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/en/tags/Vue.js/" class="" data-v-6c2349ae>#Vue.js</a><a href="/en/tags/Markdown/" class="" data-v-6c2349ae>#Markdown</a><a href="/en/tags/JavaScript/" class="" data-v-6c2349ae>#JavaScript</a><a href="/en/tags/Web/" class="" data-v-6c2349ae>#Web</a><a href="/en/tags/HTML/" class="" data-v-6c2349ae>#HTML</a><!--]--></div><nav class="post-navigation" data-v-6c2349ae data-v-a35c130b><a href="/en/2025/07/13/vue-markdown-render-improvement-2/" class="nav-button prev" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M10 22L0 12L10 2l1.775 1.775L3.55 12l8.225 8.225z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>Previous</span><span class="nav-title" data-v-a35c130b>Vue Markdown Rendering Optimization in Practice (Part 2): Farewell to DOM Manipulation, Embrace AST and Functional Rendering</span></div></a><a href="/en/2025/07/05/node-sass-migration-to-dart-sass/" class="nav-button next" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M8.025 22L6.25 20.225L14.475 12L6.25 3.775L8.025 2l10 10z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>Next</span><span class="nav-title" data-v-a35c130b>Migration from node-sass to dart-sass: A Troubleshooting Chronicle</span></div></a></nav><div id="waline" data-v-6c2349ae><span></span></div><!--]--></main><div class="after-main side" data-v-40d23075><!--[--><aside data-v-6c2349ae><nav class="toc" data-v-6c2349ae data-v-bdce45f2><div class="toc-title" data-v-bdce45f2>Contents</div><ul class="toc-list" data-v-bdce45f2><!--[--><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#background" data-v-bdce45f2>Background</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#first-version-simple-and-brute-force-v-html" data-v-bdce45f2>First Version: Simple and Brute Force v-html</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#evolution-chunked-updates-for-markdown" data-v-bdce45f2>Evolution: Chunked Updates for Markdown</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#ultimate-weapon-precise-updates-with-morphdom" data-v-bdce45f2>Ultimate Weapon: Precise Updates with morphdom</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#what-is-morphdom" data-v-bdce45f2>What is morphdom?</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#example-code" data-v-bdce45f2>Example Code</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#seeing-is-believing-demo-comparison" data-v-bdce45f2>Seeing is Believing: Demo Comparison</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#progress-so-far" data-v-bdce45f2>Progress So Far</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-color:#ff9d00;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100%25&#39; height=&#39;100%25&#39; viewBox=&#39;0 0 1600 800&#39;%3E%3Cg stroke=&#39;%23000&#39; stroke-width=&#39;66.7&#39; stroke-opacity=&#39;0.05&#39; %3E%3Ccircle fill=&#39;%23ff9d00&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1800&#39;/%3E%3Ccircle fill=&#39;%23fb8d17&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1700&#39;/%3E%3Ccircle fill=&#39;%23f47d24&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1600&#39;/%3E%3Ccircle fill=&#39;%23ed6e2d&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1500&#39;/%3E%3Ccircle fill=&#39;%23e35f34&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1400&#39;/%3E%3Ccircle fill=&#39;%23d85239&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1300&#39;/%3E%3Ccircle fill=&#39;%23cc453e&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1200&#39;/%3E%3Ccircle fill=&#39;%23be3941&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1100&#39;/%3E%3Ccircle fill=&#39;%23b02f43&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;1000&#39;/%3E%3Ccircle fill=&#39;%23a02644&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;900&#39;/%3E%3Ccircle fill=&#39;%23901e44&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;800&#39;/%3E%3Ccircle fill=&#39;%23801843&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;700&#39;/%3E%3Ccircle fill=&#39;%236f1341&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;600&#39;/%3E%3Ccircle fill=&#39;%235e0f3d&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;500&#39;/%3E%3Ccircle fill=&#39;%234e0c38&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;400&#39;/%3E%3Ccircle fill=&#39;%233e0933&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;300&#39;/%3E%3Ccircle fill=&#39;%232e062c&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;200&#39;/%3E%3Ccircle fill=&#39;%23210024&#39; cx=&#39;0&#39; cy=&#39;0&#39; r=&#39;100&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-40d23075 data-v-5bcc226c><div class="footer-mask" data-v-5bcc226c></div><div class="footer-content" data-v-5bcc226c><div class="social" data-v-5bcc226c><a href="https://github.com/zhullyb/" rel="noopener noreferrer" class="social-icons" aria-label="Github" data-v-5bcc226c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" fill-rule="evenodd" d="M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"></path></svg></a><a class="social-icons" href="/en/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS" data-v-5bcc226c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" fill-rule="evenodd" d="M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"></path></svg></a><a href="/en/donate/" class="social-icons" aria-label="Donate" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" d="M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"></path></svg></a><a class="social-icons" href="mailto:zhullyb@outlook.com" aria-label="Email" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"></path></svg></a></div><div class="center-y" style="gap:4px;font-weight:600;" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" style="font-size:0.9em;" data-v-5bcc226c><g fill="none"><path d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M15.182 15.183a4.5 4.5 0 1 1 0-6.364"></path></g></svg> 2020 - 2025 zhullyb </div><div class="center-y" style="gap:8px;font-weight:600;" data-v-5bcc226c> Proudly Powered by <a href="https://nuxt.com/" rel="noopener noreferrer" class="center-y" aria-label="Nuxt" data-v-5bcc226c><svg viewBox="0 0 512 121" width="5.09em" height="1.2em" style="fill:white;" data-v-5bcc226c><path fill="#00DC82" d="M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"></path><path d="M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"></path></svg></a></div><div class="promo-card" style="margin-top:12px;" data-v-5bcc226c data-v-f771117d><div class="card-header" data-v-f771117d><div class="header-left" data-v-f771117d><div class="logo-yxvm-container" data-v-f771117d><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="/static/yxvm-logo.png" alt="yxvm" class="logo-img" data-v-f771117d></a></div><span class="plus-separator" data-v-f771117d>+</span><div class="logo-nodeseek-container" data-v-f771117d><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="/static/logo2.png" alt="nodeseek" class="logo-img" data-v-f771117d></a></div></div><div data-v-f771117d><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-f771117d><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-f771117d><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-f771117d></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-f771117d></g><g id="SVGRepo_iconCarrier" data-v-f771117d><title data-v-f771117d>github [#142]</title><desc data-v-f771117d>Created with Sketch.</desc><defs data-v-f771117d></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-f771117d><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-f771117d><g transform="translate(56.000000, 160.000000)" id="icons" data-v-f771117d><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-f771117d></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-f771117d> NodeSupport Project </h1><p class="card-description" data-v-f771117d> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p><div class="card-footer" data-v-f771117d><span data-v-f771117d>Support ID:</span><span data-v-f771117d>61</span></div></div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/en/#website","@type":"WebSite","description":"这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","inLanguage":"en-US","name":"竹林里有冰的博客","url":"https://zhul.in/en/","translationOfWork":{"@id":"https://zhul.in/#website"}},{"@id":"https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/#webpage","@type":"WebPage","description":true,"name":"Vue Markdown Rendering Optimization in Practice (Part 1): From Brute Force Refresh, Chunked Updates to Morphdom's Elegant Transformation","url":"https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/","isPartOf":{"@id":"https://zhul.in/en/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/en/2025/07/12/vue-markdown-render-improvement-1/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/en/2025/07/12/vue-markdown-render-improvement-1/_payload.json?c46d8ff0-c0d3-4997-967e-cbaf7862d4fb">[{"state":1,"once":22,"_errors":23,"serverRendered":6,"path":25,"prerenderedAt":26},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"en",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":17,"description":18,"env":19,"name":20,"trailingSlash":6,"url":21},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"en-US","zh-CN","这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","production","竹林里有冰的博客","https://zhul.in/",["Set"],["ShallowReactive",24],{"post-2025-07-12-vue-markdown-render-improvement-1-en":-1,"surround-2025-07-12-vue-markdown-render-improvement-1-en":-1,"randomIndex/2025/07/12/vue-markdown-render-improvement-1/":-1,"language-switch-/en/2025/07/12/vue-markdown-render-improvement-1/-zh":-1,"posts-search-sections":-1},"/en/2025/07/12/vue-markdown-render-improvement-1/",1764006664701]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"简体中文",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"c46d8ff0-c0d3-4997-967e-cbaf7862d4fb",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>