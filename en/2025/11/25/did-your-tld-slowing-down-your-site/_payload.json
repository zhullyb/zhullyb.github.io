[{"data":1,"prerenderedAt":2067},["ShallowReactive",2],{"post-2025-11-25-did-your-tld-slowing-down-your-site-en":3,"surround-2025-11-25-did-your-tld-slowing-down-your-site-en":2059,"randomIndex/2025/11/25/did-your-tld-slowing-down-your-site/":62,"language-switch-/en/2025/11/25/did-your-tld-slowing-down-your-site/-zh":2066},{"id":4,"title":5,"body":6,"date":2045,"description":2046,"extension":2047,"lang":2048,"meta":2049,"navigation":89,"path":2050,"rawbody":2051,"seo":2052,"stem":2053,"sticky":2054,"tags":2055,"__hash__":2058},"posts/posts/en/did-your-tld-slowing-down-your-site.md","Does Your Top-Level Domain Slow Down Your Website? â€” Another Look at DNS Cold Start",{"type":7,"value":8,"toc":2040},"minimark",[9,23,30,244,247,252,255,266,285,292,295,301,304,307,313,316,319,322,328,331,335,338,354,357,360,363,1624,1628,1633,2023,2026,2036],[10,11,12,13,18,19],"p",{},"In my ",[14,15,17],"a",{"href":16},"/en/2025/11/11/dns-cold-start-dilemma/","previous blog post",", I mentioned a core insight: ",[20,21,22],"strong",{},"For small sites with low traffic and geographically dispersed visitors, DNS cold start isn't an occasional \"accident\" but rather a passive \"norm.\"",[10,24,25,26,29],{},"For most webmasters, site traffic doesn't increase overnight, so our visitors will likely need to go through the complete DNS resolution process. In the previous post, I discussed switching to authoritative DNS servers that are physically closer to visitors to improve speed, but ",[20,27,28],{},"TLD (Top-Level Domain) Nameservers are beyond our control"," â€” specifically, the portion highlighted in red in the diagram below.",[31,32,37],"pre",{"className":33,"code":34,"language":35,"meta":36,"style":36},"language-mermaid shiki shiki-themes one-light one-dark-pro","sequenceDiagram\n    autonumber\n    participant User as User/Browser\n    participant Local as Local DNS\u003Cbr>Recursive Resolver\n    participant Root as Root Nameserver\n    participant TLD as TLD Server\n    participant Auth as Authoritative DNS Server\n\n    Note over User,Auth: Complete DNS Recursive Query Process\n\n    User->>Local: Query domain www.example.com\n    Note over Local: Check cache (MISS)\n\n    Local->>Root: Query .com TLD server\n    Root-->>Local: Return .com TLD server address\n\n    %% --- Highlighted section begins ---\n    rect rgb(255, 235, 235)\n        Note right of Local: âš ï¸ Core focus of this article \u003Cbr> (TLD resolution latency)\n        Local->>TLD: Query authoritative server for example.com\n\n        Note left of TLD: Physical distance and Anycast capability\u003Cbr>determine whether hundreds of ms delay exists\n\n        TLD-->>Local: Return authoritative server address for example.com\n    end\n    %% --- Highlighted section ends ---\n\n    Local->>Auth: Query A record for www.example.com\n    Auth-->>Local: Return IP address (e.g., 1.1.1.1)\n\n    Note over Local: Cache result (TTL)\n\n    Local-->>User: Return final IP address\n\n    User->>Auth: Establish TCP connection / HTTP request\n","mermaid","",[38,39,40,48,54,60,66,72,78,84,91,97,102,108,114,119,125,131,136,142,148,154,160,165,171,176,182,188,194,199,205,211,216,222,227,233,238],"code",{"__ignoreMap":36},[41,42,45],"span",{"class":43,"line":44},"line",1,[41,46,47],{},"sequenceDiagram\n",[41,49,51],{"class":43,"line":50},2,[41,52,53],{},"    autonumber\n",[41,55,57],{"class":43,"line":56},3,[41,58,59],{},"    participant User as User/Browser\n",[41,61,63],{"class":43,"line":62},4,[41,64,65],{},"    participant Local as Local DNS\u003Cbr>Recursive Resolver\n",[41,67,69],{"class":43,"line":68},5,[41,70,71],{},"    participant Root as Root Nameserver\n",[41,73,75],{"class":43,"line":74},6,[41,76,77],{},"    participant TLD as TLD Server\n",[41,79,81],{"class":43,"line":80},7,[41,82,83],{},"    participant Auth as Authoritative DNS Server\n",[41,85,87],{"class":43,"line":86},8,[41,88,90],{"emptyLinePlaceholder":89},true,"\n",[41,92,94],{"class":43,"line":93},9,[41,95,96],{},"    Note over User,Auth: Complete DNS Recursive Query Process\n",[41,98,100],{"class":43,"line":99},10,[41,101,90],{"emptyLinePlaceholder":89},[41,103,105],{"class":43,"line":104},11,[41,106,107],{},"    User->>Local: Query domain www.example.com\n",[41,109,111],{"class":43,"line":110},12,[41,112,113],{},"    Note over Local: Check cache (MISS)\n",[41,115,117],{"class":43,"line":116},13,[41,118,90],{"emptyLinePlaceholder":89},[41,120,122],{"class":43,"line":121},14,[41,123,124],{},"    Local->>Root: Query .com TLD server\n",[41,126,128],{"class":43,"line":127},15,[41,129,130],{},"    Root-->>Local: Return .com TLD server address\n",[41,132,134],{"class":43,"line":133},16,[41,135,90],{"emptyLinePlaceholder":89},[41,137,139],{"class":43,"line":138},17,[41,140,141],{},"    %% --- Highlighted section begins ---\n",[41,143,145],{"class":43,"line":144},18,[41,146,147],{},"    rect rgb(255, 235, 235)\n",[41,149,151],{"class":43,"line":150},19,[41,152,153],{},"        Note right of Local: âš ï¸ Core focus of this article \u003Cbr> (TLD resolution latency)\n",[41,155,157],{"class":43,"line":156},20,[41,158,159],{},"        Local->>TLD: Query authoritative server for example.com\n",[41,161,163],{"class":43,"line":162},21,[41,164,90],{"emptyLinePlaceholder":89},[41,166,168],{"class":43,"line":167},22,[41,169,170],{},"        Note left of TLD: Physical distance and Anycast capability\u003Cbr>determine whether hundreds of ms delay exists\n",[41,172,174],{"class":43,"line":173},23,[41,175,90],{"emptyLinePlaceholder":89},[41,177,179],{"class":43,"line":178},24,[41,180,181],{},"        TLD-->>Local: Return authoritative server address for example.com\n",[41,183,185],{"class":43,"line":184},25,[41,186,187],{},"    end\n",[41,189,191],{"class":43,"line":190},26,[41,192,193],{},"    %% --- Highlighted section ends ---\n",[41,195,197],{"class":43,"line":196},27,[41,198,90],{"emptyLinePlaceholder":89},[41,200,202],{"class":43,"line":201},28,[41,203,204],{},"    Local->>Auth: Query A record for www.example.com\n",[41,206,208],{"class":43,"line":207},29,[41,209,210],{},"    Auth-->>Local: Return IP address (e.g., 1.1.1.1)\n",[41,212,214],{"class":43,"line":213},30,[41,215,90],{"emptyLinePlaceholder":89},[41,217,219],{"class":43,"line":218},31,[41,220,221],{},"    Note over Local: Cache result (TTL)\n",[41,223,225],{"class":43,"line":224},32,[41,226,90],{"emptyLinePlaceholder":89},[41,228,230],{"class":43,"line":229},33,[41,231,232],{},"    Local-->>User: Return final IP address\n",[41,234,236],{"class":43,"line":235},34,[41,237,90],{"emptyLinePlaceholder":89},[41,239,241],{"class":43,"line":240},35,[41,242,243],{},"    User->>Auth: Establish TCP connection / HTTP request\n",[10,245,246],{},"So, if you haven't purchased a domain yet but want to pursue the ultimate first-screen loading time like a true geek (even if you don't have many visitors), which TLD should you choose?",[248,249,251],"h2",{"id":250},"simple-test","Simple Test",[10,253,254],{},"A simple method is to directly ping the TLD's nameserver to see how long it takes for the public DNS server requested by visitors to complete this segment of resolution.",[10,256,257,258,261,262,265],{},"Taking my domain zhul.in as an example, on Linux, you can use the ",[38,259,260],{},"dig"," command to obtain the Nameservers for the ",[38,263,264],{},"in"," TLD:",[31,267,271],{"className":268,"code":269,"language":270,"meta":36,"style":36},"language-bash shiki shiki-themes one-light one-dark-pro","dig NS in.\n","bash",[38,272,273],{"__ignoreMap":36},[41,274,275,278,282],{"class":43,"line":44},[41,276,260],{"class":277},"sAdtL",[41,279,281],{"class":280},"sDhpE"," NS",[41,283,284],{"class":280}," in.\n",[10,286,287],{},[288,289],"img",{"alt":290,"src":291},"TLD Nameservers for .in","https://static.031130.xyz/uploads/2025/11/24/b15e97068bd75.webp",[10,293,294],{},"Then you can pick any Nameserver (public DNS servers actually have a selection strategy based on historical performance) and directly ping that domain:",[10,296,297],{},[288,298],{"alt":299,"src":300},"Latency to TLD Nameserver","https://static.031130.xyz/uploads/2025/11/24/bed48f4ed30ac.webp",[10,302,303],{},"My network environment here is Hangzhou Mobile. If I run a DNS recursive server on my local network, this result represents the minimum time required for the red portion in the sequence diagram above (the DNS server needs additional time to process the request).",[10,305,306],{},"Using multi-location ping latency tests provided by some websites, we can infer in which countries or regions this TLD has deployed Anycast nodes. Below is the result provided by iplark.com.",[10,308,309],{},[288,310],{"alt":311,"src":312},"Ping values for .in TLD Nameserver worldwide","https://static.031130.xyz/uploads/2025/11/24/748d25e0beecc.webp",[10,314,315],{},"We can infer that the .in TLD Nameserver has deployed Anycast nodes in at least Japan, Hong Kong, USA, Canada, Europe, Australia, Brazil, India, South Africa, and other locations, while latency within mainland China is relatively high.",[317,318],"hr",{},[10,320,321],{},"As a comparison, we can use the same method to examine the Anycast nodes for the .cn domain's TLD Nameserver.",[10,323,324],{},[288,325],{"alt":326,"src":327},"Ping values for .cn TLD Nameserver worldwide","https://static.031130.xyz/uploads/2025/11/24/9751de16b460b.webp",[10,329,330],{},"According to tests by itdog.cn, the .cn domain's TLD Nameserver may only have nodes in Beijing.",[248,332,334],{"id":333},"a-more-advanced-testing-approach","A More Advanced Testing Approach",[10,336,337],{},"The above testing method is only a simple judgment method. In reality, many external factors affect DNS cold start resolution time:",[339,340,341,345,348,351],"ul",{},[342,343,344],"li",{},"Peering exists between public DNS servers and TLD Nameservers, making their communication very fast",[342,346,347],{},"The TLD Nameserver has poor performance, requiring an additional tens of milliseconds to process your request",[342,349,350],{},"Among the TLD's several Nameservers, some are faster than others, and the public DNS server you use can select the faster one based on historical data",[342,352,353],{},"...",[10,355,356],{},"Therefore, we need a testing approach based on actual DNS resolution requests.",[10,358,359],{},"Testing DNS cold start has always faced a dilemma â€” we don't manage public DNS servers and cannot log in to manually clear their cache, so only the first test result may be valid, with subsequent requests hitting the cache. However, this time we're testing the latency between the public DNS server and the TLD Nameserver. With Gemini's reminder, I realized we could test the resolution time for random, non-existent domains across different regions using public DNS, which can reflect differences between various TLDs.",[10,361,362],{},"So, the test code is below. You can use bash on common Linux systems to execute this code. Ensure you have the dig and shasum commands installed, and I recommend using tools like screen/tmux to run it in the background, as the entire testing process may last over ten minutes. If your network environment is within mainland China, I suggest changing the public DNS server in the code to 223.5.5.5 / 119.29.29.29, which should better match the usage environment of domestic visitors.",[31,364,366],{"className":268,"code":365,"language":270,"meta":36,"style":36},"#!/bin/bash\n\n# ================= Configuration Section =================\n# CSV filename\nOUTPUT_FILE=\"dns_benchmark_results.csv\"\n\n# DNS server\nDNS_SERVER=\"8.8.8.8\"\n\n# List of TLDs to test\n# Includes: global generic (com), country code (cn, de), popular tech (io, xyz), and potentially slower suffixes\nTLDS_TO_TEST=(\"com\" \"net\" \"org\" \"cn\" \"in\" \"de\" \"cc\" \"site\" \"ai\" \"io\" \"xyz\" \"top\")\n\n# Number of tests per TLD\nSAMPLES=1000\n\n# Interval between queries (seconds), to prevent being flagged as attack by DNS server\n# 1000 times * 0.1s = 100s/TLD, total time approximately 15-20 minutes\nSLEEP_INTERVAL=0.1\n# ===========================================\n\n# Initialize CSV file header\necho \"TLD,Domain,QueryTime_ms,Status,Timestamp\" > \"$OUTPUT_FILE\"\n\necho \"=============================================\"\necho \"   DNS TLD Latency Benchmark Tool\"\necho \"   Target DNS: $DNS_SERVER\"\necho \"   Samples per TLD: $SAMPLES\"\necho \"   Output File: $OUTPUT_FILE\"\necho \"=============================================\"\necho \"\"\n\n# Define progress bar function\nfunction show_progress {\n    # Parameters: $1=current progress, $2=total, $3=current TLD, $4=current average time\n    let _progress=(${1}*100/${2})\n    let _done=(${_progress}*4)/10\n    let _left=40-$_done\n\n    # Build fill strings\n    _fill=$(printf \"%${_done}s\")\n    _empty=$(printf \"%${_left}s\")\n\n    # \\r returns cursor to beginning of line for refresh effect\n    printf \"\\rProgress [${_fill// /#}${_empty// /-}] ${_progress}%% - Testing .${3} (Avg: ${4}ms) \"\n}\n\n# Main loop\nfor tld in \"${TLDS_TO_TEST[@]}\"; do\n    # Initialize statistics variables\n    total_time_accum=0\n    valid_count=0\n\n    for (( i=1; i\u003C=${SAMPLES}; i++ )); do\n        # 1. Generate random domain (prevent cache hits)\n        # Use date +%N (nanoseconds) for sufficient randomness, compatible with Linux/macOS\n        RAND_PART=$(date +%s%N | shasum | head -c 10)\n        DOMAIN=\"test-${RAND_PART}.${tld}\"\n        TIMESTAMP=$(date \"+%Y-%m-%d %H:%M:%S\")\n\n        # 2. Execute query\n        # +tries=1 +time=2: try once, timeout 2 seconds, avoid script hanging\n        result=$(dig @${DNS_SERVER} ${DOMAIN} A +noall +stats +time=2 +tries=1)\n\n        # Extract time (Query time: 12 msec)\n        query_time=$(echo \"$result\" | grep \"Query time\" | awk '{print $4}')\n        # Extract status (status: NXDOMAIN, NOERROR, etc.)\n        status=$(echo \"$result\" | grep \"status:\" | awk '{print $6}' | tr -d ',')\n\n        # 3. Data cleaning and recording\n        if [[ -n \"$query_time\" && \"$query_time\" =~ ^[0-9]+$ ]]; then\n            # Write to CSV\n            echo \"${tld},${DOMAIN},${query_time},${status},${TIMESTAMP}\" >> \"$OUTPUT_FILE\"\n\n            # Update statistics\n            total_time_accum=$((total_time_accum + query_time))\n            valid_count=$((valid_count + 1))\n            current_avg=$((total_time_accum / valid_count))\n        else\n            # Record failure/timeout\n            echo \"${tld},${DOMAIN},-1,TIMEOUT,${TIMESTAMP}\" >> \"$OUTPUT_FILE\"\n            current_avg=\"N/A\"\n        fi\n\n        # 4. Display progress bar\n        show_progress $i $SAMPLES $tld $current_avg\n\n        sleep $SLEEP_INTERVAL\n    done\n\n    # New line after each TLD completes\n    echo \"\"\n    echo \"âœ… Completed .${tld} | Final Avg: ${current_avg} ms\"\n    echo \"---------------------------------------------\"\ndone\n\necho \"ðŸŽ‰ All Done! Results saved to $OUTPUT_FILE\"\n",[38,367,368,374,378,383,388,401,405,410,420,424,429,434,484,488,493,503,507,512,517,527,532,536,541,562,566,573,580,592,604,615,621,628,632,637,649,654,677,703,714,719,725,755,780,785,791,851,857,862,868,906,912,923,933,938,981,987,993,1028,1058,1075,1080,1086,1092,1143,1148,1154,1191,1197,1242,1247,1253,1290,1296,1357,1362,1368,1391,1411,1430,1436,1442,1482,1492,1498,1503,1509,1527,1532,1541,1547,1552,1558,1566,1593,1601,1607,1612],{"__ignoreMap":36},[41,369,370],{"class":43,"line":44},[41,371,373],{"class":372},"sW2Sy","#!/bin/bash\n",[41,375,376],{"class":43,"line":50},[41,377,90],{"emptyLinePlaceholder":89},[41,379,380],{"class":43,"line":56},[41,381,382],{"class":372},"# ================= Configuration Section =================\n",[41,384,385],{"class":43,"line":62},[41,386,387],{"class":372},"# CSV filename\n",[41,389,390,394,398],{"class":43,"line":68},[41,391,393],{"class":392},"sJa8x","OUTPUT_FILE",[41,395,397],{"class":396},"sknuh","=",[41,399,400],{"class":280},"\"dns_benchmark_results.csv\"\n",[41,402,403],{"class":43,"line":74},[41,404,90],{"emptyLinePlaceholder":89},[41,406,407],{"class":43,"line":80},[41,408,409],{"class":372},"# DNS server\n",[41,411,412,415,417],{"class":43,"line":86},[41,413,414],{"class":392},"DNS_SERVER",[41,416,397],{"class":396},[41,418,419],{"class":280},"\"8.8.8.8\"\n",[41,421,422],{"class":43,"line":93},[41,423,90],{"emptyLinePlaceholder":89},[41,425,426],{"class":43,"line":99},[41,427,428],{"class":372},"# List of TLDs to test\n",[41,430,431],{"class":43,"line":104},[41,432,433],{"class":372},"# Includes: global generic (com), country code (cn, de), popular tech (io, xyz), and potentially slower suffixes\n",[41,435,436,439,441,445,448,451,454,457,460,463,466,469,472,475,478,481],{"class":43,"line":110},[41,437,438],{"class":392},"TLDS_TO_TEST",[41,440,397],{"class":396},[41,442,444],{"class":443},"s5ixo","(",[41,446,447],{"class":280},"\"com\"",[41,449,450],{"class":280}," \"net\"",[41,452,453],{"class":280}," \"org\"",[41,455,456],{"class":280}," \"cn\"",[41,458,459],{"class":280}," \"in\"",[41,461,462],{"class":280}," \"de\"",[41,464,465],{"class":280}," \"cc\"",[41,467,468],{"class":280}," \"site\"",[41,470,471],{"class":280}," \"ai\"",[41,473,474],{"class":280}," \"io\"",[41,476,477],{"class":280}," \"xyz\"",[41,479,480],{"class":280}," \"top\"",[41,482,483],{"class":443},")\n",[41,485,486],{"class":43,"line":116},[41,487,90],{"emptyLinePlaceholder":89},[41,489,490],{"class":43,"line":121},[41,491,492],{"class":372},"# Number of tests per TLD\n",[41,494,495,498,500],{"class":43,"line":127},[41,496,497],{"class":392},"SAMPLES",[41,499,397],{"class":396},[41,501,502],{"class":280},"1000\n",[41,504,505],{"class":43,"line":133},[41,506,90],{"emptyLinePlaceholder":89},[41,508,509],{"class":43,"line":138},[41,510,511],{"class":372},"# Interval between queries (seconds), to prevent being flagged as attack by DNS server\n",[41,513,514],{"class":43,"line":144},[41,515,516],{"class":372},"# 1000 times * 0.1s = 100s/TLD, total time approximately 15-20 minutes\n",[41,518,519,522,524],{"class":43,"line":150},[41,520,521],{"class":392},"SLEEP_INTERVAL",[41,523,397],{"class":396},[41,525,526],{"class":280},"0.1\n",[41,528,529],{"class":43,"line":156},[41,530,531],{"class":372},"# ===========================================\n",[41,533,534],{"class":43,"line":162},[41,535,90],{"emptyLinePlaceholder":89},[41,537,538],{"class":43,"line":167},[41,539,540],{"class":372},"# Initialize CSV file header\n",[41,542,543,547,550,553,556,559],{"class":43,"line":173},[41,544,546],{"class":545},"s_Sar","echo",[41,548,549],{"class":280}," \"TLD,Domain,QueryTime_ms,Status,Timestamp\"",[41,551,552],{"class":443}," > ",[41,554,555],{"class":280},"\"",[41,557,558],{"class":392},"$OUTPUT_FILE",[41,560,561],{"class":280},"\"\n",[41,563,564],{"class":43,"line":178},[41,565,90],{"emptyLinePlaceholder":89},[41,567,568,570],{"class":43,"line":184},[41,569,546],{"class":545},[41,571,572],{"class":280}," \"=============================================\"\n",[41,574,575,577],{"class":43,"line":190},[41,576,546],{"class":545},[41,578,579],{"class":280}," \"   DNS TLD Latency Benchmark Tool\"\n",[41,581,582,584,587,590],{"class":43,"line":196},[41,583,546],{"class":545},[41,585,586],{"class":280}," \"   Target DNS: ",[41,588,589],{"class":392},"$DNS_SERVER",[41,591,561],{"class":280},[41,593,594,596,599,602],{"class":43,"line":201},[41,595,546],{"class":545},[41,597,598],{"class":280}," \"   Samples per TLD: ",[41,600,601],{"class":392},"$SAMPLES",[41,603,561],{"class":280},[41,605,606,608,611,613],{"class":43,"line":207},[41,607,546],{"class":545},[41,609,610],{"class":280}," \"   Output File: ",[41,612,558],{"class":392},[41,614,561],{"class":280},[41,616,617,619],{"class":43,"line":213},[41,618,546],{"class":545},[41,620,572],{"class":280},[41,622,623,625],{"class":43,"line":218},[41,624,546],{"class":545},[41,626,627],{"class":280}," \"\"\n",[41,629,630],{"class":43,"line":224},[41,631,90],{"emptyLinePlaceholder":89},[41,633,634],{"class":43,"line":229},[41,635,636],{"class":372},"# Define progress bar function\n",[41,638,639,643,646],{"class":43,"line":235},[41,640,642],{"class":641},"sLKXg","function",[41,644,645],{"class":277}," show_progress",[41,647,648],{"class":443}," {\n",[41,650,651],{"class":43,"line":240},[41,652,653],{"class":372},"    # Parameters: $1=current progress, $2=total, $3=current TLD, $4=current average time\n",[41,655,657,660,663,665,669,672,675],{"class":43,"line":656},36,[41,658,659],{"class":545},"    let",[41,661,662],{"class":280}," _progress=",[41,664,444],{"class":443},[41,666,668],{"class":667},"s8iYz","${1}",[41,670,671],{"class":443},"*100/",[41,673,674],{"class":667},"${2}",[41,676,483],{"class":443},[41,678,680,682,685,687,691,694,697,700],{"class":43,"line":679},37,[41,681,659],{"class":545},[41,683,684],{"class":280}," _done=",[41,686,444],{"class":443},[41,688,690],{"class":689},"sr1Ac","${",[41,692,693],{"class":392},"_progress",[41,695,696],{"class":689},"}",[41,698,699],{"class":443},"*4)",[41,701,702],{"class":280},"/10\n",[41,704,706,708,711],{"class":43,"line":705},38,[41,707,659],{"class":545},[41,709,710],{"class":280}," _left=40-",[41,712,713],{"class":392},"$_done\n",[41,715,717],{"class":43,"line":716},39,[41,718,90],{"emptyLinePlaceholder":89},[41,720,722],{"class":43,"line":721},40,[41,723,724],{"class":372},"    # Build fill strings\n",[41,726,728,731,733,736,739,742,745,748,750,753],{"class":43,"line":727},41,[41,729,730],{"class":392},"    _fill",[41,732,397],{"class":396},[41,734,735],{"class":443},"$(",[41,737,738],{"class":545},"printf",[41,740,741],{"class":280}," \"%",[41,743,690],{"class":744},"sTIpt",[41,746,747],{"class":392},"_done",[41,749,696],{"class":744},[41,751,752],{"class":280},"s\"",[41,754,483],{"class":443},[41,756,758,761,763,765,767,769,771,774,776,778],{"class":43,"line":757},42,[41,759,760],{"class":392},"    _empty",[41,762,397],{"class":396},[41,764,735],{"class":443},[41,766,738],{"class":545},[41,768,741],{"class":280},[41,770,690],{"class":744},[41,772,773],{"class":392},"_left",[41,775,696],{"class":744},[41,777,752],{"class":280},[41,779,483],{"class":443},[41,781,783],{"class":43,"line":782},43,[41,784,90],{"emptyLinePlaceholder":89},[41,786,788],{"class":43,"line":787},44,[41,789,790],{"class":372},"    # \\r returns cursor to beginning of line for refresh effect\n",[41,792,794,797,800,802,805,808,811,814,817,819,822,825,827,830,832,834,836,839,842,845,848],{"class":43,"line":793},45,[41,795,796],{"class":545},"    printf",[41,798,799],{"class":280}," \"\\rProgress [",[41,801,690],{"class":744},[41,803,804],{"class":392},"_fill",[41,806,807],{"class":443},"//",[41,809,810],{"class":443}," /#",[41,812,813],{"class":744},"}${",[41,815,816],{"class":392},"_empty",[41,818,807],{"class":443},[41,820,821],{"class":443}," /",[41,823,824],{"class":392},"-",[41,826,696],{"class":744},[41,828,829],{"class":280},"] ",[41,831,690],{"class":744},[41,833,693],{"class":392},[41,835,696],{"class":744},[41,837,838],{"class":280},"%% - Testing .",[41,840,841],{"class":667},"${3}",[41,843,844],{"class":280}," (Avg: ",[41,846,847],{"class":667},"${4}",[41,849,850],{"class":280},"ms) \"\n",[41,852,854],{"class":43,"line":853},46,[41,855,856],{"class":443},"}\n",[41,858,860],{"class":43,"line":859},47,[41,861,90],{"emptyLinePlaceholder":89},[41,863,865],{"class":43,"line":864},48,[41,866,867],{"class":372},"# Main loop\n",[41,869,871,874,877,880,883,885,887,890,893,896,898,900,903],{"class":43,"line":870},49,[41,872,873],{"class":641},"for",[41,875,876],{"class":392}," tld",[41,878,879],{"class":641}," in",[41,881,882],{"class":280}," \"",[41,884,690],{"class":744},[41,886,438],{"class":392},[41,888,889],{"class":280},"[",[41,891,892],{"class":443},"@",[41,894,895],{"class":280},"]",[41,897,696],{"class":744},[41,899,555],{"class":280},[41,901,902],{"class":443},"; ",[41,904,905],{"class":641},"do\n",[41,907,909],{"class":43,"line":908},50,[41,910,911],{"class":372},"    # Initialize statistics variables\n",[41,913,915,918,920],{"class":43,"line":914},51,[41,916,917],{"class":392},"    total_time_accum",[41,919,397],{"class":396},[41,921,922],{"class":280},"0\n",[41,924,926,929,931],{"class":43,"line":925},52,[41,927,928],{"class":392},"    valid_count",[41,930,397],{"class":396},[41,932,922],{"class":280},[41,934,936],{"class":43,"line":935},53,[41,937,90],{"emptyLinePlaceholder":89},[41,939,941,944,947,950,952,956,958,960,963,965,967,969,971,973,976,979],{"class":43,"line":940},54,[41,942,943],{"class":641},"    for",[41,945,946],{"class":443}," (( ",[41,948,949],{"class":392},"i",[41,951,397],{"class":396},[41,953,955],{"class":954},"sAGMh","1",[41,957,902],{"class":443},[41,959,949],{"class":392},[41,961,962],{"class":396},"\u003C=",[41,964,690],{"class":689},[41,966,497],{"class":392},[41,968,696],{"class":689},[41,970,902],{"class":443},[41,972,949],{"class":392},[41,974,975],{"class":396},"++",[41,977,978],{"class":443}," )); ",[41,980,905],{"class":641},[41,982,984],{"class":43,"line":983},55,[41,985,986],{"class":372},"        # 1. Generate random domain (prevent cache hits)\n",[41,988,990],{"class":43,"line":989},56,[41,991,992],{"class":372},"        # Use date +%N (nanoseconds) for sufficient randomness, compatible with Linux/macOS\n",[41,994,996,999,1001,1003,1006,1009,1012,1015,1017,1020,1023,1026],{"class":43,"line":995},57,[41,997,998],{"class":392},"        RAND_PART",[41,1000,397],{"class":396},[41,1002,735],{"class":443},[41,1004,1005],{"class":277},"date",[41,1007,1008],{"class":280}," +%s%N",[41,1010,1011],{"class":443}," | ",[41,1013,1014],{"class":277},"shasum",[41,1016,1011],{"class":443},[41,1018,1019],{"class":277},"head",[41,1021,1022],{"class":954}," -c",[41,1024,1025],{"class":954}," 10",[41,1027,483],{"class":443},[41,1029,1031,1034,1036,1039,1041,1044,1046,1049,1051,1054,1056],{"class":43,"line":1030},58,[41,1032,1033],{"class":392},"        DOMAIN",[41,1035,397],{"class":396},[41,1037,1038],{"class":280},"\"test-",[41,1040,690],{"class":744},[41,1042,1043],{"class":392},"RAND_PART",[41,1045,696],{"class":744},[41,1047,1048],{"class":280},".",[41,1050,690],{"class":744},[41,1052,1053],{"class":392},"tld",[41,1055,696],{"class":744},[41,1057,561],{"class":280},[41,1059,1061,1064,1066,1068,1070,1073],{"class":43,"line":1060},59,[41,1062,1063],{"class":392},"        TIMESTAMP",[41,1065,397],{"class":396},[41,1067,735],{"class":443},[41,1069,1005],{"class":277},[41,1071,1072],{"class":280}," \"+%Y-%m-%d %H:%M:%S\"",[41,1074,483],{"class":443},[41,1076,1078],{"class":43,"line":1077},60,[41,1079,90],{"emptyLinePlaceholder":89},[41,1081,1083],{"class":43,"line":1082},61,[41,1084,1085],{"class":372},"        # 2. Execute query\n",[41,1087,1089],{"class":43,"line":1088},62,[41,1090,1091],{"class":372},"        # +tries=1 +time=2: try once, timeout 2 seconds, avoid script hanging\n",[41,1093,1095,1098,1100,1102,1104,1107,1109,1111,1113,1116,1119,1121,1124,1127,1130,1133,1136,1139,1141],{"class":43,"line":1094},63,[41,1096,1097],{"class":392},"        result",[41,1099,397],{"class":396},[41,1101,735],{"class":443},[41,1103,260],{"class":277},[41,1105,1106],{"class":280}," @",[41,1108,690],{"class":689},[41,1110,414],{"class":392},[41,1112,696],{"class":689},[41,1114,1115],{"class":689}," ${",[41,1117,1118],{"class":392},"DOMAIN",[41,1120,696],{"class":689},[41,1122,1123],{"class":280}," A",[41,1125,1126],{"class":280}," +noall",[41,1128,1129],{"class":280}," +stats",[41,1131,1132],{"class":280}," +time=",[41,1134,1135],{"class":954},"2",[41,1137,1138],{"class":280}," +tries=",[41,1140,955],{"class":954},[41,1142,483],{"class":443},[41,1144,1146],{"class":43,"line":1145},64,[41,1147,90],{"emptyLinePlaceholder":89},[41,1149,1151],{"class":43,"line":1150},65,[41,1152,1153],{"class":372},"        # Extract time (Query time: 12 msec)\n",[41,1155,1157,1160,1162,1164,1166,1168,1171,1173,1175,1178,1181,1183,1186,1189],{"class":43,"line":1156},66,[41,1158,1159],{"class":392},"        query_time",[41,1161,397],{"class":396},[41,1163,735],{"class":443},[41,1165,546],{"class":545},[41,1167,882],{"class":280},[41,1169,1170],{"class":392},"$result",[41,1172,555],{"class":280},[41,1174,1011],{"class":443},[41,1176,1177],{"class":277},"grep",[41,1179,1180],{"class":280}," \"Query time\"",[41,1182,1011],{"class":443},[41,1184,1185],{"class":277},"awk",[41,1187,1188],{"class":280}," '{print $4}'",[41,1190,483],{"class":443},[41,1192,1194],{"class":43,"line":1193},67,[41,1195,1196],{"class":372},"        # Extract status (status: NXDOMAIN, NOERROR, etc.)\n",[41,1198,1200,1203,1205,1207,1209,1211,1213,1215,1217,1219,1222,1224,1226,1229,1231,1234,1237,1240],{"class":43,"line":1199},68,[41,1201,1202],{"class":392},"        status",[41,1204,397],{"class":396},[41,1206,735],{"class":443},[41,1208,546],{"class":545},[41,1210,882],{"class":280},[41,1212,1170],{"class":392},[41,1214,555],{"class":280},[41,1216,1011],{"class":443},[41,1218,1177],{"class":277},[41,1220,1221],{"class":280}," \"status:\"",[41,1223,1011],{"class":443},[41,1225,1185],{"class":277},[41,1227,1228],{"class":280}," '{print $6}'",[41,1230,1011],{"class":443},[41,1232,1233],{"class":277},"tr",[41,1235,1236],{"class":954}," -d",[41,1238,1239],{"class":280}," ','",[41,1241,483],{"class":443},[41,1243,1245],{"class":43,"line":1244},69,[41,1246,90],{"emptyLinePlaceholder":89},[41,1248,1250],{"class":43,"line":1249},70,[41,1251,1252],{"class":372},"        # 3. Data cleaning and recording\n",[41,1254,1256,1259,1262,1265,1267,1270,1272,1275,1277,1279,1281,1284,1287],{"class":43,"line":1255},71,[41,1257,1258],{"class":641},"        if",[41,1260,1261],{"class":443}," [[ ",[41,1263,1264],{"class":396},"-n",[41,1266,882],{"class":280},[41,1268,1269],{"class":392},"$query_time",[41,1271,555],{"class":280},[41,1273,1274],{"class":396}," &&",[41,1276,882],{"class":280},[41,1278,1269],{"class":392},[41,1280,555],{"class":280},[41,1282,1283],{"class":396}," =~",[41,1285,1286],{"class":443}," ^[0-9]+$ ]]; ",[41,1288,1289],{"class":641},"then\n",[41,1291,1293],{"class":43,"line":1292},72,[41,1294,1295],{"class":372},"            # Write to CSV\n",[41,1297,1299,1302,1304,1306,1308,1310,1313,1315,1317,1319,1321,1323,1326,1328,1330,1332,1335,1337,1339,1341,1344,1346,1348,1351,1353,1355],{"class":43,"line":1298},73,[41,1300,1301],{"class":545},"            echo",[41,1303,882],{"class":280},[41,1305,690],{"class":744},[41,1307,1053],{"class":392},[41,1309,696],{"class":744},[41,1311,1312],{"class":280},",",[41,1314,690],{"class":744},[41,1316,1118],{"class":392},[41,1318,696],{"class":744},[41,1320,1312],{"class":280},[41,1322,690],{"class":744},[41,1324,1325],{"class":392},"query_time",[41,1327,696],{"class":744},[41,1329,1312],{"class":280},[41,1331,690],{"class":744},[41,1333,1334],{"class":392},"status",[41,1336,696],{"class":744},[41,1338,1312],{"class":280},[41,1340,690],{"class":744},[41,1342,1343],{"class":392},"TIMESTAMP",[41,1345,696],{"class":744},[41,1347,555],{"class":280},[41,1349,1350],{"class":443}," >> ",[41,1352,555],{"class":280},[41,1354,558],{"class":392},[41,1356,561],{"class":280},[41,1358,1360],{"class":43,"line":1359},74,[41,1361,90],{"emptyLinePlaceholder":89},[41,1363,1365],{"class":43,"line":1364},75,[41,1366,1367],{"class":372},"            # Update statistics\n",[41,1369,1371,1374,1376,1379,1382,1385,1388],{"class":43,"line":1370},76,[41,1372,1373],{"class":392},"            total_time_accum",[41,1375,397],{"class":396},[41,1377,1378],{"class":443},"$((",[41,1380,1381],{"class":277},"total_time_accum",[41,1383,1384],{"class":280}," +",[41,1386,1387],{"class":280}," query_time",[41,1389,1390],{"class":443},"))\n",[41,1392,1394,1397,1399,1401,1404,1406,1409],{"class":43,"line":1393},77,[41,1395,1396],{"class":392},"            valid_count",[41,1398,397],{"class":396},[41,1400,1378],{"class":443},[41,1402,1403],{"class":277},"valid_count",[41,1405,1384],{"class":280},[41,1407,1408],{"class":954}," 1",[41,1410,1390],{"class":443},[41,1412,1414,1417,1419,1421,1423,1425,1428],{"class":43,"line":1413},78,[41,1415,1416],{"class":392},"            current_avg",[41,1418,397],{"class":396},[41,1420,1378],{"class":443},[41,1422,1381],{"class":277},[41,1424,821],{"class":280},[41,1426,1427],{"class":280}," valid_count",[41,1429,1390],{"class":443},[41,1431,1433],{"class":43,"line":1432},79,[41,1434,1435],{"class":641},"        else\n",[41,1437,1439],{"class":43,"line":1438},80,[41,1440,1441],{"class":372},"            # Record failure/timeout\n",[41,1443,1445,1447,1449,1451,1453,1455,1457,1459,1461,1463,1466,1468,1470,1472,1474,1476,1478,1480],{"class":43,"line":1444},81,[41,1446,1301],{"class":545},[41,1448,882],{"class":280},[41,1450,690],{"class":744},[41,1452,1053],{"class":392},[41,1454,696],{"class":744},[41,1456,1312],{"class":280},[41,1458,690],{"class":744},[41,1460,1118],{"class":392},[41,1462,696],{"class":744},[41,1464,1465],{"class":280},",-1,TIMEOUT,",[41,1467,690],{"class":744},[41,1469,1343],{"class":392},[41,1471,696],{"class":744},[41,1473,555],{"class":280},[41,1475,1350],{"class":443},[41,1477,555],{"class":280},[41,1479,558],{"class":392},[41,1481,561],{"class":280},[41,1483,1485,1487,1489],{"class":43,"line":1484},82,[41,1486,1416],{"class":392},[41,1488,397],{"class":396},[41,1490,1491],{"class":280},"\"N/A\"\n",[41,1493,1495],{"class":43,"line":1494},83,[41,1496,1497],{"class":641},"        fi\n",[41,1499,1501],{"class":43,"line":1500},84,[41,1502,90],{"emptyLinePlaceholder":89},[41,1504,1506],{"class":43,"line":1505},85,[41,1507,1508],{"class":372},"        # 4. Display progress bar\n",[41,1510,1512,1515,1518,1521,1524],{"class":43,"line":1511},86,[41,1513,1514],{"class":277},"        show_progress",[41,1516,1517],{"class":392}," $i",[41,1519,1520],{"class":392}," $SAMPLES",[41,1522,1523],{"class":392}," $tld",[41,1525,1526],{"class":392}," $current_avg\n",[41,1528,1530],{"class":43,"line":1529},87,[41,1531,90],{"emptyLinePlaceholder":89},[41,1533,1535,1538],{"class":43,"line":1534},88,[41,1536,1537],{"class":277},"        sleep",[41,1539,1540],{"class":392}," $SLEEP_INTERVAL\n",[41,1542,1544],{"class":43,"line":1543},89,[41,1545,1546],{"class":641},"    done\n",[41,1548,1550],{"class":43,"line":1549},90,[41,1551,90],{"emptyLinePlaceholder":89},[41,1553,1555],{"class":43,"line":1554},91,[41,1556,1557],{"class":372},"    # New line after each TLD completes\n",[41,1559,1561,1564],{"class":43,"line":1560},92,[41,1562,1563],{"class":545},"    echo",[41,1565,627],{"class":280},[41,1567,1569,1571,1574,1576,1578,1580,1583,1585,1588,1590],{"class":43,"line":1568},93,[41,1570,1563],{"class":545},[41,1572,1573],{"class":280}," \"âœ… Completed .",[41,1575,690],{"class":744},[41,1577,1053],{"class":392},[41,1579,696],{"class":744},[41,1581,1582],{"class":280}," | Final Avg: ",[41,1584,690],{"class":744},[41,1586,1587],{"class":392},"current_avg",[41,1589,696],{"class":744},[41,1591,1592],{"class":280}," ms\"\n",[41,1594,1596,1598],{"class":43,"line":1595},94,[41,1597,1563],{"class":545},[41,1599,1600],{"class":280}," \"---------------------------------------------\"\n",[41,1602,1604],{"class":43,"line":1603},95,[41,1605,1606],{"class":641},"done\n",[41,1608,1610],{"class":43,"line":1609},96,[41,1611,90],{"emptyLinePlaceholder":89},[41,1613,1615,1617,1620,1622],{"class":43,"line":1614},97,[41,1616,546],{"class":545},[41,1618,1619],{"class":280}," \"ðŸŽ‰ All Done! Results saved to ",[41,1621,558],{"class":392},[41,1623,561],{"class":280},[248,1625,1627],{"id":1626},"test-results","Test Results",[10,1629,1630],{},[20,1631,1632],{},"Disclaimer: The following test results are for reference only, do not constitute any purchase recommendations, and only represent network conditions as of the test date (November 24, 2025), with no follow-up updates planned. DNS cold start has almost no impact on large sites; only small sites need to be concerned. In this test, all testing points within China used 223.5.5.5 as the DNS server, while overseas testing points used 8.8.8.8.",[1634,1635,1636,1681],"table",{},[1637,1638,1639],"thead",{},[1233,1640,1641,1645,1648,1651,1654,1657,1660,1663,1666,1669,1672,1675,1678],{},[1642,1643,1644],"th",{},"Test Point/Latency (ms)",[1642,1646,1647],{},".com",[1642,1649,1650],{},".net",[1642,1652,1653],{},".org",[1642,1655,1656],{},".cn",[1642,1658,1659],{},".in",[1642,1661,1662],{},".de",[1642,1664,1665],{},".cc",[1642,1667,1668],{},".site",[1642,1670,1671],{},".ai",[1642,1673,1674],{},".io",[1642,1676,1677],{},".xyz",[1642,1679,1680],{},".top",[1682,1683,1684,1726,1767,1806,1847,1884,1918,1954,1988],"tbody",{},[1233,1685,1686,1690,1693,1696,1699,1702,1705,1708,1711,1714,1717,1720,1723],{},[1687,1688,1689],"td",{},"ðŸ‡¨ðŸ‡³ Shanghai Tencent Cloud",[1687,1691,1692],{},"438",[1687,1694,1695],{},"429",[1687,1697,1698],{},"470",[1687,1700,1701],{},"30",[1687,1703,1704],{},"535",[1687,1706,1707],{},"353",[1687,1709,1710],{},"476",[1687,1712,1713],{},"454",[1687,1715,1716],{},"367",[1687,1718,1719],{},"485",[1687,1721,1722],{},"444",[1687,1724,1725],{},"43",[1233,1727,1728,1731,1734,1737,1740,1743,1746,1749,1752,1755,1758,1761,1764],{},[1687,1729,1730],{},"ðŸ‡¨ðŸ‡³ Beijing Tencent Cloud",[1687,1732,1733],{},"425",[1687,1735,1736],{},"443",[1687,1738,1739],{},"469",[1687,1741,1742],{},"17",[1687,1744,1745],{},"350",[1687,1747,1748],{},"420",[1687,1750,1751],{},"466",[1687,1753,1754],{},"647",[1687,1756,1757],{},"582",[1687,1759,1760],{},"461",[1687,1762,1763],{},"559",[1687,1765,1766],{},"9",[1233,1768,1769,1772,1775,1777,1780,1783,1786,1789,1792,1794,1797,1800,1803],{},[1687,1770,1771],{},"ðŸ‡­ðŸ‡° Hong Kong Yxvm",[1687,1773,1774],{},"75",[1687,1776,1774],{},[1687,1778,1779],{},"363",[1687,1781,1782],{},"227",[1687,1784,1785],{},"6",[1687,1787,1788],{},"11",[1687,1790,1791],{},"61",[1687,1793,1785],{},[1687,1795,1796],{},"33",[1687,1798,1799],{},"126",[1687,1801,1802],{},"5",[1687,1804,1805],{},"7",[1233,1807,1808,1811,1814,1817,1820,1823,1826,1829,1832,1835,1838,1841,1844],{},[1687,1809,1810],{},"ðŸ‡¨ðŸ‡³ Zhanghua (Taiwan) Hinet",[1687,1812,1813],{},"90",[1687,1815,1816],{},"87",[1687,1818,1819],{},"128",[1687,1821,1822],{},"213",[1687,1824,1825],{},"59",[1687,1827,1828],{},"38",[1687,1830,1831],{},"76",[1687,1833,1834],{},"37",[1687,1836,1837],{},"73",[1687,1839,1840],{},"94",[1687,1842,1843],{},"36",[1687,1845,1846],{},"47",[1233,1848,1849,1852,1855,1858,1861,1864,1867,1870,1872,1875,1877,1880,1882],{},[1687,1850,1851],{},"ðŸ‡¯ðŸ‡µ Osaka Vmiss",[1687,1853,1854],{},"20",[1687,1856,1857],{},"19",[1687,1859,1860],{},"244",[1687,1862,1863],{},"309",[1687,1865,1866],{},"15",[1687,1868,1869],{},"24",[1687,1871,1742],{},[1687,1873,1874],{},"35",[1687,1876,1857],{},[1687,1878,1879],{},"65",[1687,1881,1834],{},[1687,1883,1813],{},[1233,1885,1886,1889,1891,1893,1896,1899,1901,1904,1906,1908,1910,1913,1915],{},[1687,1887,1888],{},"ðŸ‡¸ðŸ‡¬ Singapore Wap",[1687,1890,1785],{},[1687,1892,1766],{},[1687,1894,1895],{},"139",[1687,1897,1898],{},"398",[1687,1900,1785],{},[1687,1902,1903],{},"10",[1687,1905,1805],{},[1687,1907,1742],{},[1687,1909,1805],{},[1687,1911,1912],{},"110",[1687,1914,1742],{},[1687,1916,1917],{},"66",[1233,1919,1920,1923,1925,1927,1930,1933,1936,1939,1941,1944,1946,1949,1951],{},[1687,1921,1922],{},"ðŸ‡ºðŸ‡¸ Los Angeles ColoCrossing",[1687,1924,1805],{},[1687,1926,1805],{},[1687,1928,1929],{},"307",[1687,1931,1932],{},"137",[1687,1934,1935],{},"4",[1687,1937,1938],{},"64",[1687,1940,1802],{},[1687,1942,1943],{},"62",[1687,1945,1802],{},[1687,1947,1948],{},"49",[1687,1950,1846],{},[1687,1952,1953],{},"231",[1233,1955,1956,1959,1962,1964,1967,1970,1972,1974,1977,1979,1981,1983,1985],{},[1687,1957,1958],{},"ðŸ‡©ðŸ‡ª DÃ¼sseldorf WIIT AG",[1687,1960,1961],{},"16",[1687,1963,1742],{},[1687,1965,1966],{},"288",[1687,1968,1969],{},"82",[1687,1971,1774],{},[1687,1973,1866],{},[1687,1975,1976],{},"14",[1687,1978,1869],{},[1687,1980,1917],{},[1687,1982,1837],{},[1687,1984,1869],{},[1687,1986,1987],{},"306",[1233,1989,1990,1993,1995,1998,2001,2004,2006,2009,2012,2014,2016,2018,2020],{},[1687,1991,1992],{},"ðŸ‡¦ðŸ‡º Sydney Oracle",[1687,1994,1796],{},[1687,1996,1997],{},"31",[1687,1999,2000],{},"12",[1687,2002,2003],{},"338",[1687,2005,1805],{},[1687,2007,2008],{},"13",[1687,2010,2011],{},"121",[1687,2013,1805],{},[1687,2015,1903],{},[1687,2017,1766],{},[1687,2019,1805],{},[1687,2021,2022],{},"191",[10,2024,2025],{},"From the data above, we can see that .cn and .top are the fastest domain suffixes for resolution within mainland China among all tested options, but choosing .cn and .top means sacrificing resolution speed for visitors in other regions. Generic domain suffixes like .com, .net, and .org perform well in most regions globally, but their resolution speed within mainland China is relatively slow because they haven't deployed Anycast nodes on the mainland.",[10,2027,2028,2029,2035],{},"You can click ",[14,2030,2034],{"href":2031,"rel":2032},"https://static.031130.xyz/bin/dns_benchmark_results_20251124.tar.zst",[2033],"nofollow","here"," to download the complete test results CSV file for further analysis.",[2037,2038,2039],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sknuh, html code.shiki .sknuh{--shiki-default:#383A42;--shiki-dark:#56B6C2}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .sr1Ac, html code.shiki .sr1Ac{--shiki-default:#E45649;--shiki-dark:#ABB2BF}html pre.shiki code .sTIpt, html code.shiki .sTIpt{--shiki-default:#E45649;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}",{"title":36,"searchDepth":50,"depth":50,"links":2041},[2042,2043,2044],{"id":250,"depth":50,"text":251},{"id":333,"depth":50,"text":334},{"id":1626,"depth":50,"text":1627},"2025-11-25","In my previous blog post, I mentioned a core insight: For small sites with low traffic and geographically dispersed visitors, DNS cold start isn't an occasional \"accident\" but rather a passive \"norm.\"","md","en",{},"/2025/11/25/did-your-tld-slowing-down-your-site","---\ntitle: Does Your Top-Level Domain Slow Down Your Website? â€” Another Look at DNS Cold Start\ndate: 2025-11-25\nsticky:\ntags:\n- Network\n- DNS\n---\n\nIn my [previous blog post](/en/2025/11/11/dns-cold-start-dilemma/), I mentioned a core insight: **For small sites with low traffic and geographically dispersed visitors, DNS cold start isn't an occasional \"accident\" but rather a passive \"norm.\"**\n\nFor most webmasters, site traffic doesn't increase overnight, so our visitors will likely need to go through the complete DNS resolution process. In the previous post, I discussed switching to authoritative DNS servers that are physically closer to visitors to improve speed, but **TLD (Top-Level Domain) Nameservers are beyond our control** â€” specifically, the portion highlighted in red in the diagram below.\n\n```mermaid\nsequenceDiagram\n    autonumber\n    participant User as User/Browser\n    participant Local as Local DNS\u003Cbr>Recursive Resolver\n    participant Root as Root Nameserver\n    participant TLD as TLD Server\n    participant Auth as Authoritative DNS Server\n\n    Note over User,Auth: Complete DNS Recursive Query Process\n\n    User->>Local: Query domain www.example.com\n    Note over Local: Check cache (MISS)\n\n    Local->>Root: Query .com TLD server\n    Root-->>Local: Return .com TLD server address\n\n    %% --- Highlighted section begins ---\n    rect rgb(255, 235, 235)\n        Note right of Local: âš ï¸ Core focus of this article \u003Cbr> (TLD resolution latency)\n        Local->>TLD: Query authoritative server for example.com\n\n        Note left of TLD: Physical distance and Anycast capability\u003Cbr>determine whether hundreds of ms delay exists\n\n        TLD-->>Local: Return authoritative server address for example.com\n    end\n    %% --- Highlighted section ends ---\n\n    Local->>Auth: Query A record for www.example.com\n    Auth-->>Local: Return IP address (e.g., 1.1.1.1)\n\n    Note over Local: Cache result (TTL)\n\n    Local-->>User: Return final IP address\n\n    User->>Auth: Establish TCP connection / HTTP request\n```\n\nSo, if you haven't purchased a domain yet but want to pursue the ultimate first-screen loading time like a true geek (even if you don't have many visitors), which TLD should you choose?\n\n## Simple Test\n\nA simple method is to directly ping the TLD's nameserver to see how long it takes for the public DNS server requested by visitors to complete this segment of resolution.\n\nTaking my domain zhul.in as an example, on Linux, you can use the `dig` command to obtain the Nameservers for the `in` TLD:\n\n```bash\ndig NS in.\n```\n\n![TLD Nameservers for .in](https://static.031130.xyz/uploads/2025/11/24/b15e97068bd75.webp)\n\nThen you can pick any Nameserver (public DNS servers actually have a selection strategy based on historical performance) and directly ping that domain:\n\n![Latency to TLD Nameserver](https://static.031130.xyz/uploads/2025/11/24/bed48f4ed30ac.webp)\n\nMy network environment here is Hangzhou Mobile. If I run a DNS recursive server on my local network, this result represents the minimum time required for the red portion in the sequence diagram above (the DNS server needs additional time to process the request).\n\nUsing multi-location ping latency tests provided by some websites, we can infer in which countries or regions this TLD has deployed Anycast nodes. Below is the result provided by iplark.com.\n\n![Ping values for .in TLD Nameserver worldwide](https://static.031130.xyz/uploads/2025/11/24/748d25e0beecc.webp)\n\nWe can infer that the .in TLD Nameserver has deployed Anycast nodes in at least Japan, Hong Kong, USA, Canada, Europe, Australia, Brazil, India, South Africa, and other locations, while latency within mainland China is relatively high.\n\n***\n\nAs a comparison, we can use the same method to examine the Anycast nodes for the .cn domain's TLD Nameserver.\n\n![Ping values for .cn TLD Nameserver worldwide](https://static.031130.xyz/uploads/2025/11/24/9751de16b460b.webp)\n\nAccording to tests by itdog.cn, the .cn domain's TLD Nameserver may only have nodes in Beijing.\n\n## A More Advanced Testing Approach\n\nThe above testing method is only a simple judgment method. In reality, many external factors affect DNS cold start resolution time:\n\n- Peering exists between public DNS servers and TLD Nameservers, making their communication very fast\n- The TLD Nameserver has poor performance, requiring an additional tens of milliseconds to process your request\n- Among the TLD's several Nameservers, some are faster than others, and the public DNS server you use can select the faster one based on historical data\n- ...\n\nTherefore, we need a testing approach based on actual DNS resolution requests.\n\nTesting DNS cold start has always faced a dilemma â€” we don't manage public DNS servers and cannot log in to manually clear their cache, so only the first test result may be valid, with subsequent requests hitting the cache. However, this time we're testing the latency between the public DNS server and the TLD Nameserver. With Gemini's reminder, I realized we could test the resolution time for random, non-existent domains across different regions using public DNS, which can reflect differences between various TLDs.\n\nSo, the test code is below. You can use bash on common Linux systems to execute this code. Ensure you have the dig and shasum commands installed, and I recommend using tools like screen/tmux to run it in the background, as the entire testing process may last over ten minutes. If your network environment is within mainland China, I suggest changing the public DNS server in the code to 223.5.5.5 / 119.29.29.29, which should better match the usage environment of domestic visitors.\n\n```bash\n#!/bin/bash\n\n# ================= Configuration Section =================\n# CSV filename\nOUTPUT_FILE=\"dns_benchmark_results.csv\"\n\n# DNS server\nDNS_SERVER=\"8.8.8.8\"\n\n# List of TLDs to test\n# Includes: global generic (com), country code (cn, de), popular tech (io, xyz), and potentially slower suffixes\nTLDS_TO_TEST=(\"com\" \"net\" \"org\" \"cn\" \"in\" \"de\" \"cc\" \"site\" \"ai\" \"io\" \"xyz\" \"top\")\n\n# Number of tests per TLD\nSAMPLES=1000\n\n# Interval between queries (seconds), to prevent being flagged as attack by DNS server\n# 1000 times * 0.1s = 100s/TLD, total time approximately 15-20 minutes\nSLEEP_INTERVAL=0.1\n# ===========================================\n\n# Initialize CSV file header\necho \"TLD,Domain,QueryTime_ms,Status,Timestamp\" > \"$OUTPUT_FILE\"\n\necho \"=============================================\"\necho \"   DNS TLD Latency Benchmark Tool\"\necho \"   Target DNS: $DNS_SERVER\"\necho \"   Samples per TLD: $SAMPLES\"\necho \"   Output File: $OUTPUT_FILE\"\necho \"=============================================\"\necho \"\"\n\n# Define progress bar function\nfunction show_progress {\n    # Parameters: $1=current progress, $2=total, $3=current TLD, $4=current average time\n    let _progress=(${1}*100/${2})\n    let _done=(${_progress}*4)/10\n    let _left=40-$_done\n\n    # Build fill strings\n    _fill=$(printf \"%${_done}s\")\n    _empty=$(printf \"%${_left}s\")\n\n    # \\r returns cursor to beginning of line for refresh effect\n    printf \"\\rProgress [${_fill// /#}${_empty// /-}] ${_progress}%% - Testing .${3} (Avg: ${4}ms) \"\n}\n\n# Main loop\nfor tld in \"${TLDS_TO_TEST[@]}\"; do\n    # Initialize statistics variables\n    total_time_accum=0\n    valid_count=0\n\n    for (( i=1; i\u003C=${SAMPLES}; i++ )); do\n        # 1. Generate random domain (prevent cache hits)\n        # Use date +%N (nanoseconds) for sufficient randomness, compatible with Linux/macOS\n        RAND_PART=$(date +%s%N | shasum | head -c 10)\n        DOMAIN=\"test-${RAND_PART}.${tld}\"\n        TIMESTAMP=$(date \"+%Y-%m-%d %H:%M:%S\")\n\n        # 2. Execute query\n        # +tries=1 +time=2: try once, timeout 2 seconds, avoid script hanging\n        result=$(dig @${DNS_SERVER} ${DOMAIN} A +noall +stats +time=2 +tries=1)\n\n        # Extract time (Query time: 12 msec)\n        query_time=$(echo \"$result\" | grep \"Query time\" | awk '{print $4}')\n        # Extract status (status: NXDOMAIN, NOERROR, etc.)\n        status=$(echo \"$result\" | grep \"status:\" | awk '{print $6}' | tr -d ',')\n\n        # 3. Data cleaning and recording\n        if [[ -n \"$query_time\" && \"$query_time\" =~ ^[0-9]+$ ]]; then\n            # Write to CSV\n            echo \"${tld},${DOMAIN},${query_time},${status},${TIMESTAMP}\" >> \"$OUTPUT_FILE\"\n\n            # Update statistics\n            total_time_accum=$((total_time_accum + query_time))\n            valid_count=$((valid_count + 1))\n            current_avg=$((total_time_accum / valid_count))\n        else\n            # Record failure/timeout\n            echo \"${tld},${DOMAIN},-1,TIMEOUT,${TIMESTAMP}\" >> \"$OUTPUT_FILE\"\n            current_avg=\"N/A\"\n        fi\n\n        # 4. Display progress bar\n        show_progress $i $SAMPLES $tld $current_avg\n\n        sleep $SLEEP_INTERVAL\n    done\n\n    # New line after each TLD completes\n    echo \"\"\n    echo \"âœ… Completed .${tld} | Final Avg: ${current_avg} ms\"\n    echo \"---------------------------------------------\"\ndone\n\necho \"ðŸŽ‰ All Done! Results saved to $OUTPUT_FILE\"\n```\n\n## Test Results\n\n**Disclaimer: The following test results are for reference only, do not constitute any purchase recommendations, and only represent network conditions as of the test date (November 24, 2025), with no follow-up updates planned. DNS cold start has almost no impact on large sites; only small sites need to be concerned. In this test, all testing points within China used 223.5.5.5 as the DNS server, while overseas testing points used 8.8.8.8.**\n\n| Test Point/Latency (ms) | .com | .net | .org | .cn  | .in  | .de  | .cc  | .site | .ai  | .io  | .xyz | .top |\n| ----------------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ----- | ---- | ---- | ---- | ---- |\n| ðŸ‡¨ðŸ‡³ Shanghai Tencent Cloud | 438  | 429  | 470  | 30   | 535  | 353  | 476  | 454   | 367  | 485  | 444  | 43   |\n| ðŸ‡¨ðŸ‡³ Beijing Tencent Cloud  | 425  | 443  | 469  | 17   | 350  | 420  | 466  | 647   | 582  | 461  | 559  | 9    |\n| ðŸ‡­ðŸ‡° Hong Kong Yxvm         | 75   | 75   | 363  | 227  | 6    | 11   | 61   | 6     | 33   | 126  | 5    | 7    |\n| ðŸ‡¨ðŸ‡³ Zhanghua (Taiwan) Hinet | 90   | 87   | 128  | 213  | 59   | 38   | 76   | 37    | 73   | 94   | 36   | 47   |\n| ðŸ‡¯ðŸ‡µ Osaka Vmiss            | 20   | 19   | 244  | 309  | 15   | 24   | 17   | 35    | 19   | 65   | 37   | 90   |\n| ðŸ‡¸ðŸ‡¬ Singapore Wap          | 6    | 9    | 139  | 398  | 6    | 10   | 7    | 17    | 7    | 110  | 17   | 66   |\n| ðŸ‡ºðŸ‡¸ Los Angeles ColoCrossing | 7    | 7    | 307  | 137  | 4    | 64   | 5    | 62    | 5    | 49   | 47   | 231  |\n| ðŸ‡©ðŸ‡ª DÃ¼sseldorf WIIT AG     | 16   | 17   | 288  | 82   | 75   | 15   | 14   | 24    | 66   | 73   | 24   | 306  |\n| ðŸ‡¦ðŸ‡º Sydney Oracle          | 33   | 31   | 12   | 338  | 7    | 13   | 121  | 7     | 10   | 9    | 7    | 191  |\n\nFrom the data above, we can see that .cn and .top are the fastest domain suffixes for resolution within mainland China among all tested options, but choosing .cn and .top means sacrificing resolution speed for visitors in other regions. Generic domain suffixes like .com, .net, and .org perform well in most regions globally, but their resolution speed within mainland China is relatively slow because they haven't deployed Anycast nodes on the mainland.\n\nYou can click [here](https://static.031130.xyz/bin/dns_benchmark_results_20251124.tar.zst) to download the complete test results CSV file for further analysis.\n",{"title":5,"description":2046},"posts/en/did-your-tld-slowing-down-your-site",false,[2056,2057],"Network","DNS","kuHucxHOerWC7qexBppWfa5KnXeW_Oa6DADRIVYrC9s",[2060,2061],null,{"title":2062,"path":2063,"stem":2064,"date":2065,"lang":2048,"children":-1},"DNS Cold Start: The \"Stone of Sisyphus\" for Small Sites","/2025/11/11/dns-cold-start-dilemma","posts/en/dns-cold-start-dilemma","2025-11-11","/2025/11/25/did-your-tld-slowing-down-your-site/",1764012805815]