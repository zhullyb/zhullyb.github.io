<!DOCTYPE html><html  lang="en-US"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Mainland China Xiaomi FCM Screen-Off Disconnection: Attempts and Possible Solutions in a Rootless Environment | Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-3db633ac] .markdown-body{font-family:inherit;font-size:inherit}[data-v-3db633ac] .markdown-body .heimu,[data-v-3db633ac] .markdown-body .heimu a,[data-v-3db633ac] .markdown-body .heimu a.new,a[data-v-3db633ac] .markdown-body .heimu{background-color:#252525;color:#252525;text-shadow:none}[data-v-3db633ac] .markdown-body .heimu:active,[data-v-3db633ac] .markdown-body .heimu:hover,[data-v-3db633ac] .markdown-body .heimu:active .heimu,[data-v-3db633ac] .markdown-body .heimu:hover .heimu{color:#fff!important}[data-v-3db633ac] .markdown-body .heimu:active a,[data-v-3db633ac] .markdown-body .heimu:hover a{color:#add8e6!important}[data-v-3db633ac] .markdown-body .heimu:active .new,[data-v-3db633ac] .markdown-body .heimu:hover .new{color:#ba0000!important}a[data-v-3db633ac]:active .markdown-body .heimu,a[data-v-3db633ac]:hover .markdown-body .heimu{color:#add8e6!important}.new[data-v-3db633ac]:active .markdown-body .heimu,.new[data-v-3db633ac]:hover .markdown-body .heimu{color:#ba0000!important}[data-v-3db633ac] .markdown-body h2,[data-v-3db633ac] .markdown-body h3,[data-v-3db633ac] .markdown-body h4,[data-v-3db633ac] .markdown-body h5,[data-v-3db633ac] .markdown-body h6{scroll-margin-top:78px}[data-v-3db633ac] .markdown-body h2>a,[data-v-3db633ac] .markdown-body h3>a,[data-v-3db633ac] .markdown-body h4>a,[data-v-3db633ac] .markdown-body h5>a,[data-v-3db633ac] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-3db633ac] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-3db633ac] .markdown-body .shiki,[data-v-3db633ac] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-3db633ac]{position:sticky;top:78px}[data-v-3db633ac] #waline{margin-top:3rem}.article-end-hr[data-v-3db633ac]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-3db633ac]{border-color:#444c56}}.tags[data-v-3db633ac]{margin:1rem 0}.tags[data-v-3db633ac] *{vertical-align:middle}.tags svg[data-v-3db633ac]{font-size:.9em}.tags a[data-v-3db633ac]{display:inline-block;margin-left:.2rem}.tags a[data-v-3db633ac]:hover{color:#007bff}</style><style>.content-wrapper[data-v-40d23075]{margin-bottom:40px;margin-top:40px}@media(min-width:1025px){.content-wrapper[data-v-40d23075]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-40d23075]{width:20%}}@media(max-width:1024px){.content-wrapper[data-v-40d23075]{margin:30px}}main[data-v-40d23075]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-40d23075]{width:unset}}</style><style>header[data-v-c4c9a290]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-c4c9a290]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-c4c9a290],header.show-mobile-menu[data-v-c4c9a290]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-c4c9a290]{height:-moz-fit-content;height:fit-content}.header-container[data-v-c4c9a290]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-c4c9a290]{min-width:100%;padding-left:16px;padding-right:16px}}.header-container .header-title[data-v-c4c9a290]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-c4c9a290]{justify-content:space-between}.header[data-v-c4c9a290],.header-right[data-v-c4c9a290]{align-items:center;display:flex}.header-right[data-v-c4c9a290]{gap:16px}.mobile-menu-dropdown[data-v-c4c9a290]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-c4c9a290]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-c4c9a290],a[data-v-c4c9a290]{color:#fff;text-decoration:none}.lang-switch[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-c4c9a290]{font-size:16px;line-height:1}@media(max-width:1024px){.search-trigger[data-v-c4c9a290]{display:none}}</style><style>.post-navigation[data-v-a35c130b]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a35c130b]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a35c130b]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a35c130b]:hover{border-color:#007bff}.nav-button:hover .nav-arrow[data-v-a35c130b],.nav-button:hover .nav-label[data-v-a35c130b],.nav-button:hover .nav-title[data-v-a35c130b]{color:#007bff}.nav-button.prev[data-v-a35c130b]{margin-right:auto}.nav-button.prev .nav-content[data-v-a35c130b]{text-align:left}.nav-button.next[data-v-a35c130b]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a35c130b]{text-align:right}.nav-arrow[data-v-a35c130b]{color:#6a737d;flex-shrink:0;font-weight:600;line-height:1}.nav-content[data-v-a35c130b]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a35c130b]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a35c130b]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a35c130b]{color:#c9d1d9}}@media(max-width:720px){.post-navigation[data-v-a35c130b]{flex-direction:column;gap:.75rem}.nav-button[data-v-a35c130b]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-bdce45f2]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-bdce45f2]{background:#181c27;border:1px solid #444c5a}}@media(max-width:1024px){.toc[data-v-bdce45f2]{display:none}}.toc-title[data-v-bdce45f2]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-bdce45f2]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-bdce45f2]{list-style:none;margin:0;padding:0}.toc-item[data-v-bdce45f2]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-bdce45f2]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-bdce45f2]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-bdce45f2]{color:#ccc}}.toc-item a[data-v-bdce45f2]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-bdce45f2]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-bdce45f2]{padding-left:0}.toc-item.toc-level-1 a[data-v-bdce45f2]{font-weight:500}.toc-item.toc-level-2[data-v-bdce45f2]{padding-left:.75rem}.toc-item.toc-level-3[data-v-bdce45f2]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-bdce45f2]{font-size:.85rem}.toc-item.toc-level-4[data-v-bdce45f2]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-bdce45f2]{font-size:.825rem}.toc-item.toc-level-5[data-v-bdce45f2]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-bdce45f2]{font-size:.8rem}.toc-item.toc-level-6[data-v-bdce45f2]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-bdce45f2]{font-size:.775rem}.toc[data-v-bdce45f2]::-webkit-scrollbar{width:5px}.toc[data-v-bdce45f2]::-webkit-scrollbar-track{background:transparent}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-e344293c]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-e344293c],footer[data-v-e344293c]{align-items:center;display:flex}.footer-content[data-v-e344293c]{flex-direction:column;gap:8px;padding:20px;z-index:1}.footer-mask[data-v-e344293c]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-e344293c]{background:linear-gradient(180deg,#0009,#000c)}}.social[data-v-e344293c]{gap:16px;margin-bottom:12px}.social[data-v-e344293c],.social-icons[data-v-e344293c]{align-items:center;display:flex}.social-icons[data-v-e344293c]{background-color:#ffffff1a;border-radius:50%;cursor:pointer;height:48px;justify-content:center;width:48px}.social-icons[data-v-e344293c]:hover{background-color:#fff3}.social-icons svg[data-v-e344293c]{fill:#fff;height:20px;width:20px}</style><style>.promo-card[data-v-775d0fcd]{background:#0003;border:.5px solid #eee;box-sizing:border-box;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;gap:16px;max-width:310px;padding:24px;zoom:.8}.card-header[data-v-775d0fcd]{justify-content:space-between}.card-header[data-v-775d0fcd],.header-left[data-v-775d0fcd]{align-items:center;display:flex}.header-left[data-v-775d0fcd]{gap:8px}.logo-img[data-v-775d0fcd]{display:block;height:auto;width:100%}.logo-yxvm-container[data-v-775d0fcd]{margin-left:2px;width:100px}.plus-separator[data-v-775d0fcd]{color:#fff;font-size:20px;font-weight:700}.logo-nodeseek-container[data-v-775d0fcd]{width:40px}.github-link[data-v-775d0fcd]{color:#fff;display:block;transition:color .2s ease-in-out;width:20px}.github-link[data-v-775d0fcd]:hover{color:#38bdf8}.github-icon[data-v-775d0fcd]{fill:currentColor;height:100%;width:100%}.card-title[data-v-775d0fcd]{color:#fff;font-size:18px;font-weight:500;line-height:1.2;margin:0;text-transform:capitalize}.card-description[data-v-775d0fcd]{color:#94a3b8;font-size:14px;line-height:1.5;margin:0}.card-footer[data-v-775d0fcd]{color:#e4e4e7;display:flex;font-size:13px;font-weight:500;gap:4px;justify-content:flex-end}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>.prose-img-wrapper[data-v-f9b993a4]{display:block;margin:0 auto;max-width:100%;position:relative;width:100%}.prose-img[data-v-f9b993a4]{border-radius:4px;box-shadow:0 1px 4px #00000014;display:block;height:auto;margin:0 auto;max-height:70vh;max-width:min(92%,680px);-o-object-fit:contain;object-fit:contain;transition:box-shadow .2s;width:auto}.prose-img[data-v-f9b993a4]:hover{box-shadow:0 4px 16px #0000002e}.prose-img-caption[data-v-f9b993a4]{color:#666;display:block;font-size:.875rem;font-style:italic;margin-top:.25rem;text-align:center}.prose-img-preview-mask[data-v-f9b993a4]{align-items:center;animation:fadeIn-f9b993a4 .2s;background:#000000d9;display:flex;justify-content:center;inset:0;position:fixed;z-index:9999}.prose-img-preview-img[data-v-f9b993a4]{background:#fff;border-radius:8px;box-shadow:0 8px 32px #0006;max-height:90vh;max-width:90vw;will-change:transform}.prose-img-preview-img[data-v-f9b993a4],.prose-img-preview-scale-indicator[data-v-f9b993a4]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.prose-img-preview-scale-indicator[data-v-f9b993a4]{background:#00000080;border-radius:4px;bottom:32px;color:#fff;font-size:1rem;left:50%;padding:2px 10px;pointer-events:none;position:absolute;transform:translate(-50%);z-index:10001}.prose-img-preview-close[data-v-f9b993a4]{background:none;border:none;color:#fff;cursor:pointer;font-size:2.5rem;line-height:1;padding:0 .5rem;position:absolute;right:48px;top:32px;transition:color .2s;z-index:10000}.prose-img-preview-close[data-v-f9b993a4]:hover{color:#ffb3b3}@keyframes fadeIn-f9b993a4{0%{opacity:0}to{opacity:1}}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>pre[data-v-a9c19cc1]{font-size:14px}</style><style>@media(max-width:1024px){.pc-nav[data-v-49e970ab]{display:none}}.mobile-nav[data-v-49e970ab]{cursor:pointer;display:none}@media(max-width:1024px){.mobile-nav[data-v-49e970ab]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-49e970ab]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-49e970ab]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-49e970ab]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-0f1d2f14]{height:60vh;width:100%}.mask[data-v-0f1d2f14]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-0f1d2f14]{background:#00000080}}.title-container[data-v-0f1d2f14]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:1024px){.title-container[data-v-0f1d2f14]{width:80%}}.title[data-v-0f1d2f14]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-0f1d2f14]{font-size:32px;font-weight:700;margin:0}@media(max-width:720px){.title h1[data-v-0f1d2f14]{font-size:24px}}.title p[data-v-0f1d2f14]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:1024px){.title[data-v-0f1d2f14]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-63592d71],.search-overlay-leave-active[data-v-63592d71]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-63592d71],.search-overlay-leave-to[data-v-63592d71]{opacity:0}.search-overlay[data-v-63592d71]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-63592d71]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-63592d71]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-63592d71]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-63592d71]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-63592d71]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-63592d71]:hover{color:#000c}.search-overlay__body[data-v-63592d71]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-63592d71]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-63592d71]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-63592d71]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-63592d71]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-63592d71]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-63592d71]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-63592d71]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-63592d71]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-63592d71]{color:#0000008c}.search-overlay__item-snippet[data-v-63592d71]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-63592d71]{padding:80px 12px 20px}.search-overlay__panel[data-v-63592d71]{max-height:calc(100vh - 120px)}}</style><link rel="stylesheet" href="/_nuxt/entry.7EIxnZzq.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.CKGKZP89.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/en/2026/02/20/xiaomi-china-version-fcm-push-debug/_payload.json?4e8fd412-d3a0-4c26-b0fc-32813cfe2bf3"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DmkkHgfp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DFNjSbyB.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B21vPCJi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3sdyIoA.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CKZC_Il3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DLzM8_WP.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CRs77Xus.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B5WBPMfh.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CXSC9HOa.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Baksy54e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C9H-caiP.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/S6Kus4cf.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bl0DzaF9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C2eJVMaW.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/UEkIpfHm.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGmbMa_M.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/4e8fd412-d3a0-4c26-b0fc-32813cfe2bf3.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢ RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢ Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content="In November last year, I got a new mainland China version Xiaomi 15 as my daily driver. Actually, my previous Redmi K70 Ultra was released in the same year as this Xiaomi 15, and performance-wise they're comparable. However, during my Gap Year while traveling across the country, I realized it was a shame not being able to capture the night scenes I encountered, so I wanted to switch to a phone with better camera capabilities. The newly released Xiaomi 17 was at a premium price point, and didn't offer significant improvements over the 15, so I went directly for the Xiaomi 15."><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Android,Network,Hardware"><script type="module" src="/_nuxt/DmkkHgfp.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="Mainland China Xiaomi FCM Screen-Off Disconnection: Attempts and Possible Solutions in a Rootless Environment | Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢"><meta property="og:description" data-infer="" content="In November last year, I got a new mainland China version Xiaomi 15 as my daily driver. Actually, my previous Redmi K70 Ultra was released in the same year as this Xiaomi 15, and performance-wise they're comparable. However, during my Gap Year while traveling across the country, I realized it was a shame not being able to capture the night scenes I encountered, so I wanted to switch to a phone with better camera capabilities. The newly released Xiaomi 17 was at a premium price point, and didn't offer significant improvements over the 15, so I went directly for the Xiaomi 15."><link rel="canonical" href="https://zhul.in/en/2026/02/20/xiaomi-china-version-fcm-push-debug/"><meta property="og:url" content="https://zhul.in/en/2026/02/20/xiaomi-china-version-fcm-push-debug/"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-3db633ac data-v-40d23075><!--[--><header class="" data-v-c4c9a290><div class="header-container" data-v-c4c9a290><div class="header" data-v-c4c9a290><a href="/en/" class="header-title" data-v-c4c9a290>Zhullyb&#39;s Blog</a><div class="header-right" data-v-c4c9a290><nav data-v-c4c9a290 data-v-49e970ab><div class="pc-nav" data-v-49e970ab><!--[--><a href="/en/" class="" data-v-49e970ab>Home</a><a href="/en/archives/" class="" data-v-49e970ab>Archives</a><a href="/en/tags/" class="" data-v-49e970ab>Tags</a><a href="/en/links/" class="" data-v-49e970ab>Links</a><a href="/en/about/" class="" data-v-49e970ab>About</a><!--]--></div><div class="mobile-nav" data-v-49e970ab><div class="container" data-v-49e970ab><!--[--><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><!--]--></div></div></nav><a href="/2026/02/20/xiaomi-china-version-fcm-push-debug/" class="lang-switch" aria-label="Switch Language" data-v-c4c9a290><span class="lang-switch__label" data-v-c4c9a290>‰∏≠</span></a><button type="button" class="search-trigger" aria-label="Search" data-v-c4c9a290><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c4c9a290><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-c4c9a290>Search</span></button></div></div></div><!----></header><div class="banner" style="background-color:#ee5522;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100&#39; height=&#39;100&#39; viewBox=&#39;0 0 200 200&#39;%3E%3Cdefs%3E%3ClinearGradient id=&#39;a&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;33&#39; x2=&#39;100&#39; y2=&#39;-3&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3ClinearGradient id=&#39;b&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;135&#39; x2=&#39;100&#39; y2=&#39;97&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill=&#39;%23d23d09&#39; fill-opacity=&#39;0.6&#39;%3E%3Crect x=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3Crect y=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3C/g%3E%3Cg fill-opacity=&#39;0.5&#39;%3E%3Cpolygon fill=&#39;url(%23a)&#39; points=&#39;100 30 0 0 200 0&#39;/%3E%3Cpolygon fill=&#39;url(%23b)&#39; points=&#39;100 100 0 130 0 100 200 100 200 130&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-c4c9a290 data-v-0f1d2f14><div class="mask" data-v-0f1d2f14><div class="title-container" data-v-0f1d2f14><div class="title" data-v-0f1d2f14><h1 data-v-0f1d2f14>Mainland China Xiaomi FCM Screen-Off Disconnection: Attempts and Possible Solutions in a Rootless Environment</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-40d23075><div class="before-main side" data-v-40d23075><!--[--><!--]--></div><main data-v-40d23075><!--[--><article class="markdown-body" data-v-3db633ac><p><!--[-->In November last year, I got a new mainland China version Xiaomi 15 as my daily driver. Actually, my previous Redmi K70 Ultra was released in the same year as this Xiaomi 15, and performance-wise they&#39;re comparable. However, during my Gap Year while traveling across the country, I realized it was a shame not being able to capture the night scenes I encountered, so I wanted to switch to a phone with better camera capabilities. The newly released Xiaomi 17 was at a premium price point, and didn&#39;t offer significant improvements over the 15, so I went directly for the Xiaomi 15.<!--]--></p><p><!--[-->After getting it, I followed my usual habits and enabled &quot;Google Base Services&quot; in settings, installed &quot;Google Play&quot; and started using it normally. But over these past few months, I discovered that my FCM push notifications‚Äîwhether Outlook email notifications or a certain instant messaging app that looks like a paper airplane‚Äînever seemed to work properly from the start. Their notifications would occasionally pop up suddenly after I unlocked my phone, but more often they just disappeared. I would only receive the backlogged notifications when I manually opened the corresponding apps.<!--]--></p><p><!--[-->Recently I received an offer from an overseas university and will be going abroad in September to pursue a master&#39;s degree, so I wanted to resolve this issue before leaving the country. After all, when living in China, most apps can push messages to me through MiPush, and these FCM-dependent apps weren&#39;t my most frequently used ones. I could just open them manually when I woke up each day to receive notifications. Even if my message response time wasn&#39;t great, it wasn&#39;t a big deal‚Äîif there was something urgent, my family and friends knew other ways to reach me faster. But once abroad, FCM push notifications become critically important, so I need to fix this issue quickly, or I&#39;ll have to consider switching phones.<!--]--></p><h2 id="test-environment" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Test Environment<!--]--><a href="#test-environment" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[-->Xiaomi 15 mainland China version, 16GB + 512GB, HyperOS 3.0.7.0.WOCCNXM, the latest version as of this writing<!--]--></li><li><!--[-->&quot;Google Base Services&quot; enabled, &quot;Google Play&quot; installed<!--]--></li><li><!--[-->Connected to WiFi, with WiFi-routed data exit IP in üá∫üá∏ Los Angeles<!--]--></li><li><!--[-->MIUI optimization not disabled<!--]--></li><!--]--></ul><h2 id="getting-fcm-running-first" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Getting FCM Running First<!--]--><a href="#getting-fcm-running-first" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->I needed to first resolve the issue of FCM not receiving messages even when the screen is on. In the &quot;Phone&quot; app&#39;s dialer, entering <code><!--[-->*#*#426#*#*<!--]--></code> opens the FCM Diagnostics interface, which contains logs about FCM connection status.<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-f9b993a4><img src="https://static.031130.xyz/uploads/2026/02/20/6202d116db231.webp" alt="Dialer Input" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-f9b993a4><span class="prose-img-caption" data-v-f9b993a4>Dialer Input</span><!--teleport start--><!--teleport end--></span><span class="prose-img-wrapper" data-v-f9b993a4><img src="https://static.031130.xyz/uploads/2026/02/20/432922f339849.webp" alt="FCM Diagnostics Interface" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-f9b993a4><span class="prose-img-caption" data-v-f9b993a4>FCM Diagnostics Interface</span><!--teleport start--><!--teleport end--></span><!--]--></p><p><!--[-->In this interface, I found that FCM&#39;s connection status was actually normal, with no obvious error messages in the logs. So I started suspecting that some of HyperOS&#39;s power-saving mechanisms were interfering with FCM&#39;s normal operation in the background. Through some searching on Xiaohongshu (Little Red Book), I discovered that enabling &quot;Autostart&quot; permission for apps requiring FCM push in the settings interface, and setting battery optimization to &quot;Don&#39;t optimize,&quot; seemed to solve this problem.<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-f9b993a4><img src="https://static.031130.xyz/uploads/2026/02/20/8c20be931764b.webp" alt="App Settings Interface" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-f9b993a4><span class="prose-img-caption" data-v-f9b993a4>App Settings Interface</span><!--teleport start--><!--teleport end--></span><!--]--></p><p><!--[-->Testing with an IM app (sending messages from one account to another), I found that with the screen on, FCM could now receive messages normally even when the app was closed in the background.<!--]--></p><h2 id="the-problem-of-fcm-disconnecting-one-minute-after-screen-off" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->The Problem of FCM Disconnecting One Minute After Screen-Off<!--]--><a href="#the-problem-of-fcm-disconnecting-one-minute-after-screen-off" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->However, after turning off the screen and leaving it idle for a minute, FCM stopped working completely. Whether email notifications or IM messages, none could be pushed to the phone via FCM. Only when I lit up the screen would the backlogged notifications suddenly appear. Checking the FCM Diagnostics interface again, FCM&#39;s connection status was either disconnected or had just connected for a few seconds. This indicates that in the lock screen state, FCM&#39;s connection gets terminated by the system, preventing message reception.<!--]--></p><p><!--[-->PS: I discovered that when charging, even with the phone locked, FCM maintains its connection and receives messages normally. This further confirms that HyperOS&#39;s power-saving mechanisms are interfering with FCM&#39;s normal operation.<!--]--></p><h2 id="possible-solutions" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Possible Solutions<!--]--><a href="#possible-solutions" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->After searching on Xiaohongshu and Xiaol√ºshu (CoolApk), I found some attempts and solutions from others:<!--]--></p><h3 id="_1-disable-miui-optimization" class="prose-heading prose-h3" data-v-894c4550><!--[-->1. Disable MIUI Optimization<!--]--><a href="#_1-disable-miui-optimization" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->This is my least favorite solution, because MIUI optimization is actually an important reason why I like HyperOS (MIUI). After disabling MIUI optimization, I found that the remaining battery percentage information can&#39;t be displayed inside the status bar battery icon‚Äîit must appear to the right of the battery icon. This is a huge waste of status bar space after HyperOS introduced the Super Island (Dynamic Island). Of course, there are other features that would be affected, but this is what I care about most.<!--]--></p><p><!--[-->Additionally, in HyperOS 3&#39;s developer mode, the &quot;Disable MIUI optimization&quot; option can no longer be found, though some users report you can make this option reappear through methods like resetting settings status, but I don&#39;t think this is a good solution.<!--]--></p><h3 id="_2-freeze-battery-performance-app-or-replace-with-international-version" class="prose-heading prose-h3" data-v-894c4550><!--[-->2. Freeze &quot;Battery &amp; Performance&quot; App or Replace with International Version<!--]--><a href="#_2-freeze-battery-performance-app-or-replace-with-international-version" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->On HyperOS 2, some users reported that tampering with the &quot;Battery &amp; Performance&quot; system app could solve the FCM screen-off disconnection problem. I tried using adb shell to freeze it, but after testing, this wasn&#39;t a useful solution, and it might cause some system scheduling anomalies. <strong><!--[-->Also, don&#39;t enter ultra power saving mode, because that mode&#39;s UI is provided by the &quot;Battery &amp; Performance&quot; app!!<!--]--></strong><!--]--></p><p><!--[-->The adb command is as follows:<!--]--></p><pre class="language-bash shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="sAdtL">adb</span><span class="sDhpE"> shell</span><span class="sDhpE"> pm</span><span class="sDhpE"> uninstall</span><span class="sAGMh"> --user</span><span class="sAGMh"> 0</span><span class="sDhpE"> com.miui.powerkeeper
</span></span></code><!--]--></pre><p><!--[-->If you want to restore it, you can reinstall this app with the following command:<!--]--></p><pre class="language-bash shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="sAdtL">adb</span><span class="sDhpE"> shell</span><span class="sDhpE"> cmd</span><span class="sDhpE"> package</span><span class="sDhpE"> install-existing</span><span class="sDhpE"> com.miui.powerkeeper
</span></span></code><!--]--></pre><p><!--[-->Some people also reported that replacing it with the international version of the &quot;Battery &amp; Performance&quot; app could solve this problem, but I couldn&#39;t find the installation package for the HyperOS 3 international version&#39;s &quot;Battery &amp; Performance&quot; app. After downloading and unpacking the complete ROM for the Xiaomi 15 overseas version, that app&#39;s apk couldn&#39;t be directly updated or installed via adb either.<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-f9b993a4><img src="https://static.031130.xyz/uploads/2026/02/20/58ba6ce88ef49.webp" alt="Update Failed" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-f9b993a4><span class="prose-img-caption" data-v-f9b993a4>Update Failed</span><!--teleport start--><!--teleport end--></span><!--]--></p><h3 id="_3-use-fcmfix-and-other-xposed-modules-after-unlocking-bootloader" class="prose-heading prose-h3" data-v-894c4550><!--[-->3. Use <a href="https://github.com/kooritea/fcmfix" rel="nofollow"><!--[-->fcmfix<!--]--></a> and Other Xposed Modules After Unlocking Bootloader<!--]--><a href="#_3-use-fcmfix-and-other-xposed-modules-after-unlocking-bootloader" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->This solution is... forget it. Although I have a level 5 account on the Xiaomi community, I don&#39;t have the energy to participate in the &quot;Xiaomi entrance exam&quot; (I heard it&#39;s been suspended anyway). Moreover, after unlocking the bootloader, I might face a series of problems like payment apps not working. If I wanted to cover up related traces, I&#39;d have to go through more hassle‚Äîit feels like more trouble than it&#39;s worth.<!--]--></p><h3 id="_4-use-heartbeatfixerforgcm" class="prose-heading prose-h3" data-v-894c4550><!--[-->4. Use <a href="https://github.com/shaobin0604/HeartbeatFixerForGCM" rel="nofollow"><!--[-->HeartbeatFixerForGCM<!--]--></a><!--]--><a href="#_4-use-heartbeatfixerforgcm" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->This software has been removed from Google Play and hasn&#39;t been updated in a long time. Testing shows it cannot prevent FCM from being disconnected by the system in lock screen state on HyperOS 3.<!--]--></p><h3 id="_5-use-gboard-to-keep-fcm-alive" class="prose-heading prose-h3" data-v-894c4550><!--[-->5. Use Gboard to Keep FCM Alive<!--]--><a href="#_5-use-gboard-to-keep-fcm-alive" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->Although I don&#39;t know the principle, some users reported that installing Gboard keyboard allows FCM to maintain its connection and receive messages normally in lock screen state. I tried it too, and indeed after installing Gboard and setting it as the default input method, FCM could maintain its connection in lock screen state.<!--]--></p><p><!--[-->However, this solution isn&#39;t perfect either. After all, I don&#39;t like Gboard&#39;s input experience, so I can&#39;t really accept this solution.<!--]--></p><h2 id="some-personal-experiments" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Some Personal Experiments<!--]--><a href="#some-personal-experiments" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->Although I don&#39;t have much experience with Android development‚Äîonly touching it during a sophomore year course project‚Äîthe AI era has given me the ability to do vibe coding.<!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-f9b993a4><img src="https://static.031130.xyz/uploads/2026/02/20/51db4ed4ef15b.webp" alt="Attempting to use vibe coding to modify source code and compile" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-f9b993a4><span class="prose-img-caption" data-v-f9b993a4>Attempting to use vibe coding to modify source code and compile</span><!--teleport start--><!--teleport end--></span><!--]--></p><p><!--[-->So I also had AI modify some logic for keeping FCM alive based on HeartbeatFixerForGCM&#39;s open-source code, roughly following these approaches:<!--]--></p><ul><!--[--><li><!--[-->Input Method Keep-Alive: Continuing Gboard&#39;s approach, using the persistent nature of input method services to maintain FCM connection. It could keep FCM alive, but lost the input capability of the input method‚Äîpass.<!--]--></li><li><!--[-->Notification Listening: NotificationListener as a system listening role to increase persistence probability‚Äîno success, pass.<!--]--></li><li><!--[-->Foreground Service: Persistent notification + FGS to elevate process survival priority‚Äîno success, pass.<!--]--></li><li><!--[-->Accessibility Keep-Alive: Accessibility service also as a system listening role to increase persistence probability‚Äîno success, pass.<!--]--></li><li><!--[-->VPN Keep-Alive: Using VPN service&#39;s persistent nature to maintain FCM connection. Don&#39;t know if it has any effect, <del>but it did manage to disconnect my phone&#39;s network</del>‚Äîpass.<!--]--></li><!--]--></ul><p><!--[-->In short, none of these attempts succeeded. FCM still gets disconnected by the system in lock screen state.<!--]--></p><h2 id="seems-like-i-found-a-viable-solution" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Seems Like I Found a Viable Solution?<!--]--><a href="#seems-like-i-found-a-viable-solution" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->Just when I was at my wit&#39;s end and ready to shop for another phone, I saw a Xiaohongshu post mentioning that you could first uninstall updates to &quot;Google Play Services,&quot; then update it again to the latest version. The poster&#39;s explanation was to first uninstall the mainland-optimized Play Services, then install an un-optimized version from the Play Store, which could solve this problem.<!--]--></p><p><!--[-->Although you can&#39;t directly find the &quot;Google Play Services&quot; app on the Play Store, you can search for &quot;Google Play Services&quot; using your phone&#39;s browser, click the link from google.com, and it will automatically jump to the &quot;Google Play Services&quot; app page on the Play Store. You can also click <a href="https://play.google.com/store/apps/details?id=com.google.android.gms" rel="nofollow"><!--[-->here<!--]--></a> directly.<!--]--></p><p><!--[-->I tried it too, and indeed after uninstalling updates to &quot;Google Play Services,&quot; FCM could maintain its connection in lock screen state. Although this solution sounds a bit mystical and I can&#39;t see the actual principle at work, since it was effective, I didn&#39;t dwell on it.<!--]--></p><p><!--[-->But just when I thought the problem was solved, while writing this article, I tried restarting my phone and found the problem had returned. And after restarting, repeating the above steps of uninstalling updates to &quot;Google Play Services&quot; still didn&#39;t solve the problem. This troubled me greatly, so I started recalling the previous operation steps, but I could never reproduce the previous state...<!--]--></p><h2 id="wait-there-seems-to-be-a-fallback" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Wait, There Seems to Be a Fallback<!--]--><a href="#wait-there-seems-to-be-a-fallback" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->While discussing this issue with a <a href="https://github.com/Rurikobaka/" rel="nofollow"><!--[-->seasoned Android enthusiast<!--]--></a>, he pointed out that mainland OS indeed disconnects FCM&#39;s long connection after screen-off to save power, but still maintains a periodic check mechanism. This seems to match some isolated cases I encountered during testing. This periodic check interval is quite long‚Äîaccording to his estimate, around 10-20 minutes. I also conducted a round of testing myself. The process was:<!--]--></p><ol><!--[--><li><!--[-->Screen off for one minute, use secondary account to send message to main account, wait 6 minutes until main account receives the message, notified by my Xiaomi band&#39;s vibration that the message arrived.<!--]--></li><li><!--[-->Immediately use secondary account to send another message to main account, wait for main account to receive the second message, record the time difference between the two messages.<!--]--></li><!--]--></ol><p><!--[-->Because the time interval is quite long, I only tested one and a half rounds. The first round&#39;s time difference was 28 minutes, and the second round&#39;s time difference reached 38 minutes.<!--]--></p><p><!--[-->Conclusion: <strong><!--[-->In screen-off state, although FCM&#39;s connection gets disconnected by the system, the system will automatically wake up FCM approximately every 30 minutes (inaccurate data) to check for new messages. If there are any, you&#39;ll receive notifications.<!--]--></strong><!--]--></p><h2 id="conclusion" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Conclusion<!--]--><a href="#conclusion" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->Currently, to receive FCM push notifications on mainland China version Xiaomi phones, you can only choose between using Gboard + real-time push / periodic check mechanism fallback.<!--]--></p><p><!--[-->The former uses Gboard input method&#39;s persistent nature to maintain FCM connection, enabling real-time message reception in screen-off state, but requires sacrificing input experience; the latter uses system periodic FCM wake-ups to check for new messages. While not requiring sacrifice of input experience, there may be delays exceeding half an hour.<!--]--></p><h2 id="references" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->References<!--]--><a href="#references" class="heading-anchor" aria-label="ÈìæÊé•Âà∞Ê≠§Ê†áÈ¢ò" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><a href="https://www.mobile01.com/topicdetail.php?f=634&amp;t=6892724" rel="nofollow"><!--[-->„ÄêHyperOS„Äë‰øÆÂæ©Â∞èÁ±≥Èô∏ÁâàÈÄöÁü•Êé®ÈÄÅ - Mobile01<!--]--></a><!--]--></li><li><!--[--><a href="https://www.v2ex.com/t/993090" rel="nofollow"><!--[-->Â¶Ç‰ΩïËß£ÂÜ≥ÂéüÁîü Android Áª≠Ëà™ÈóÆÈ¢òÔºü - V2EX<!--]--></a><!--]--></li><li><!--[--><a href="https://staging.v2ex.com/t/1089681" rel="nofollow"><!--[-->Â∞èÁ±≥ 15/hyperOS 2.0 ÊâìÂºÄ FCM ÈÄöÁü• - V2EX<!--]--></a><!--]--></li><li><!--[--><a href="https://www.threads.com/@silicon.salmon/post/DDR_SD8y3Gp" rel="nofollow"><!--[-->Êµ∑Â§ñ‰∏çÂª∫Ë≠∞Ë≥ºË≤∑ÂÖßÂú∞ÁâàÂ∞èÁ±≥ÊâãÊ©ü Âõ†ÁÇ∫‰∏ÄÈéñÂ±èÂ∞±Êñ∑ÈÄ£ FCMÔºå Â∞éËá¥Êµ∑Â§ñ App Êî∂‰∏çÂà∞Ê∂àÊÅØÊé®ÈÄÅ„ÄÇ ‰∫ÆÂ±èÂæå FCMÔºåÊúÉÂòóË©¶ÈáçÈÄ£„ÄÇ ÈáçÈÄ£ÊàêÂäüÔºåÊâçËÉΩÊî∂Âà∞ÈÄöÁü•„ÄÇ Â∑≤ÈñãËá™ÂïüÂãïÔºåÈõªÊ±†ÁÑ°ÈôêÂà∂„ÄÇ Êúâ‰ªÄÈ∫ºËß£Ê±∫Ëæ¶Ê≥ïÔºü È¶ôÊ∏ØÊæ≥ÈñÄ| salmon0105<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/shaobin0604/HeartbeatFixerForGCM" rel="nofollow"><!--[-->shaobin0604/HeartbeatFixerForGCM: Tiny application to fix GCM push notification delay issue<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/kooritea/fcmfix" rel="nofollow"><!--[-->kooritea/fcmfix: <span>xposed</span>ËÆ©fcmÂî§ÈÜíÂ∑≤ÂÆåÂÖ®ÂÅúÊ≠¢ÁöÑÂ∫îÁî®<!--]--></a><!--]--></li><li><!--[-->Various discussions and feedback on social platforms like Xiaohongshu and CoolApk. Since the content is rather scattered and unsystematic, I won&#39;t list them all here. Interested readers can search for relevant keywords to view them.<!--]--></li><!--]--></ul><style>html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}</style></article><hr class="article-end-hr" data-v-3db633ac><div class="tags" data-v-3db633ac><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-3db633ac><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/en/tags/Android/" class="" data-v-3db633ac>#Android</a><a href="/en/tags/Network/" class="" data-v-3db633ac>#Network</a><a href="/en/tags/Hardware/" class="" data-v-3db633ac>#Hardware</a><!--]--></div><nav class="post-navigation" data-v-3db633ac data-v-a35c130b><!----><a href="/en/2026/01/31/mihomo-tun-fail-to-visit-dl-google-com/" class="nav-button next" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M8.025 22L6.25 20.225L14.475 12L6.25 3.775L8.025 2l10 10z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>Next</span><span class="nav-title" data-v-a35c130b>I Can‚Äôt Access dl.google.com ‚Äî A Network Debugging Story Under TUN</span></div></a></nav><div id="waline" data-v-3db633ac><span></span></div><!--]--></main><div class="after-main side" data-v-40d23075><!--[--><aside data-v-3db633ac><nav class="toc" data-v-3db633ac data-v-bdce45f2><div class="toc-title" data-v-bdce45f2>Contents</div><ul class="toc-list" data-v-bdce45f2><!--[--><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#test-environment" data-v-bdce45f2>Test Environment</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#getting-fcm-running-first" data-v-bdce45f2>Getting FCM Running First</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#the-problem-of-fcm-disconnecting-one-minute-after-screen-off" data-v-bdce45f2>The Problem of FCM Disconnecting One Minute After Screen-Off</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#possible-solutions" data-v-bdce45f2>Possible Solutions</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_1-disable-miui-optimization" data-v-bdce45f2>1. Disable MIUI Optimization</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_2-freeze-battery-performance-app-or-replace-with-international-version" data-v-bdce45f2>2. Freeze &quot;Battery &amp; Performance&quot; App or Replace with International Version</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_3-use-fcmfix-and-other-xposed-modules-after-unlocking-bootloader" data-v-bdce45f2>3. Use fcmfix and Other Xposed Modules After Unlocking Bootloader</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_4-use-heartbeatfixerforgcm" data-v-bdce45f2>4. Use HeartbeatFixerForGCM</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_5-use-gboard-to-keep-fcm-alive" data-v-bdce45f2>5. Use Gboard to Keep FCM Alive</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#some-personal-experiments" data-v-bdce45f2>Some Personal Experiments</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#seems-like-i-found-a-viable-solution" data-v-bdce45f2>Seems Like I Found a Viable Solution?</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#wait-there-seems-to-be-a-fallback" data-v-bdce45f2>Wait, There Seems to Be a Fallback</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#conclusion" data-v-bdce45f2>Conclusion</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#references" data-v-bdce45f2>References</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-color:#ee5522;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100&#39; height=&#39;100&#39; viewBox=&#39;0 0 200 200&#39;%3E%3Cdefs%3E%3ClinearGradient id=&#39;a&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;33&#39; x2=&#39;100&#39; y2=&#39;-3&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3ClinearGradient id=&#39;b&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;135&#39; x2=&#39;100&#39; y2=&#39;97&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill=&#39;%23d23d09&#39; fill-opacity=&#39;0.6&#39;%3E%3Crect x=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3Crect y=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3C/g%3E%3Cg fill-opacity=&#39;0.5&#39;%3E%3Cpolygon fill=&#39;url(%23a)&#39; points=&#39;100 30 0 0 200 0&#39;/%3E%3Cpolygon fill=&#39;url(%23b)&#39; points=&#39;100 100 0 130 0 100 200 100 200 130&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-40d23075 data-v-e344293c><div class="footer-mask" data-v-e344293c></div><div class="footer-content" data-v-e344293c><div class="social" data-v-e344293c><a class="social-icons" href="https://github.com/zhullyb/" target="_blank" rel="noopener noreferrer" aria-label="Github" data-v-e344293c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-e344293c><path fill="currentColor" fill-rule="evenodd" d="M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"></path></svg></a><a class="social-icons" href="https://zone.liolok.com/@zhullyb" target="_blank" rel="noopener noreferrer" aria-label="Mastodon" data-v-e344293c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-e344293c><path fill="currentColor" d="M20.94 14c-.28 1.41-2.44 2.96-4.97 3.26c-1.31.15-2.6.3-3.97.24c-2.25-.11-4-.54-4-.54v.62c.32 2.22 2.22 2.35 4.03 2.42c1.82.05 3.44-.46 3.44-.46l.08 1.65s-1.28.68-3.55.81c-1.25.07-2.81-.03-4.62-.5c-3.92-1.05-4.6-5.24-4.7-9.5l-.01-3.43c0-4.34 2.83-5.61 2.83-5.61C6.95 2.3 9.41 2 11.97 2h.06c2.56 0 5.02.3 6.47.96c0 0 2.83 1.27 2.83 5.61c0 0 .04 3.21-.39 5.43M18 8.91c0-1.08-.3-1.91-.85-2.56c-.56-.63-1.3-.96-2.23-.96c-1.06 0-1.87.41-2.42 1.23l-.5.88l-.5-.88c-.56-.82-1.36-1.23-2.43-1.23c-.92 0-1.66.33-2.23.96C6.29 7 6 7.83 6 8.91v5.26h2.1V9.06c0-1.06.45-1.62 1.36-1.62c1 0 1.5.65 1.5 1.93v2.79h2.07V9.37c0-1.28.5-1.93 1.51-1.93c.9 0 1.35.56 1.35 1.62v5.11H18z"></path></svg></a><a class="social-icons" href="/en/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS" data-v-e344293c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-e344293c><path fill="currentColor" fill-rule="evenodd" d="M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"></path></svg></a><a href="/en/donate/" class="social-icons" aria-label="Donate" data-v-e344293c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-e344293c><path fill="currentColor" d="M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"></path></svg></a><a class="social-icons" href="mailto:zhullyb@outlook.com" aria-label="Email" data-v-e344293c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-e344293c><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"></path></svg></a></div><div class="center-y" style="gap:4px;font-weight:600;" data-v-e344293c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" style="font-size:0.9em;" data-v-e344293c><g fill="none"><path d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M15.182 15.183a4.5 4.5 0 1 1 0-6.364"></path></g></svg> 2020 - 2025 zhullyb </div><div class="center-y" style="gap:8px;font-weight:600;" data-v-e344293c> Proudly Powered by <a href="https://nuxt.com/" rel="noopener noreferrer" class="center-y" aria-label="Nuxt" data-v-e344293c><svg viewBox="0 0 512 121" width="5.09em" height="1.2em" style="fill:white;" data-v-e344293c><path fill="#00DC82" d="M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"></path><path d="M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"></path></svg></a></div><div class="promo-card" style="margin-top:12px;" data-v-e344293c data-v-775d0fcd><div class="card-header" data-v-775d0fcd><div class="header-left" data-v-775d0fcd><div class="logo-yxvm-container" data-v-775d0fcd><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-775d0fcd><img src="https://static.031130.xyz/uploads/2025/11/25/2584c5a5ec26b.png" alt="yxvm" class="logo-img" loading="lazy" data-v-775d0fcd></a></div><span class="plus-separator" data-v-775d0fcd>+</span><div class="logo-nodeseek-container" data-v-775d0fcd><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-775d0fcd><img src="https://static.031130.xyz/uploads/2025/11/25/f56e28d4d53ca.png" alt="nodeseek" class="logo-img" loading="lazy" data-v-775d0fcd></a></div></div><div data-v-775d0fcd><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-775d0fcd><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-775d0fcd><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-775d0fcd></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-775d0fcd></g><g id="SVGRepo_iconCarrier" data-v-775d0fcd><title data-v-775d0fcd>github [#142]</title><desc data-v-775d0fcd>Created with Sketch.</desc><defs data-v-775d0fcd></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-775d0fcd><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-775d0fcd><g transform="translate(56.000000, 160.000000)" id="icons" data-v-775d0fcd><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-775d0fcd></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-775d0fcd> NodeSupport Project </h1><p class="card-description" data-v-775d0fcd> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p><div class="card-footer" data-v-775d0fcd><span data-v-775d0fcd>Support ID:</span><span data-v-775d0fcd>61</span></div></div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/en/#website","@type":"WebSite","description":"ËøôÈáåÊòØÊàëÁöÑ‰∏™‰∫∫ÂçöÂÆ¢Ôºå‰∏ìÊ≥®‰∫éÂàÜ‰∫´ÊäÄÊúØÂπ≤Ë¥ß„ÄÅÂ≠¶‰π†ÂøÉÂæóÂíåÁîüÊ¥ªÊÑüÊÇüÔºåÊ∂µÁõñÂâçÁ´ØÂºÄÂèë„ÄÅÂêéÁ´ØÊû∂ÊûÑ„ÄÅ‰∫∫Â∑•Êô∫ËÉΩ„ÄÅÁºñÁ®ãÊäÄÂ∑ß„ÄÅÂ∑•ÂÖ∑Êé®ËçêÁ≠âÂ§ö‰∏™È¢ÜÂüü„ÄÇÊàëÊåÅÁª≠Êõ¥Êñ∞ÂéüÂàõÂÜÖÂÆπÔºåËÆ∞ÂΩïÊàêÈïøËøáÁ®ã‰∏≠ÁöÑÊÄùËÄÉ‰∏éÊî∂Ëé∑ÔºåËá¥Âäõ‰∫éÂ∏ÆÂä©Êõ¥Â§öÂºÄÂèëËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèêÂçáÊäÄËÉΩ„ÄÅÊãìÂ±ïËßÜÈáé„ÄÇÂ¶ÇÊûú‰Ω†ÂØπÊäÄÊúØ„ÄÅ‰∫ßÂìÅÂíå‰∫íËÅîÁΩëË°å‰∏öÊÑüÂÖ¥Ë∂£ÔºåÁõ∏‰ø°‰Ω†ËÉΩÂú®ËøôÈáåÊâæÂà∞Êúâ‰ª∑ÂÄºÁöÑÁü•ËØÜ‰∏éÁÅµÊÑü„ÄÇ","inLanguage":"en-US","name":"Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢","url":"https://zhul.in/en/","translationOfWork":{"@id":"https://zhul.in/#website"}},{"@id":"https://zhul.in/en/2026/02/20/xiaomi-china-version-fcm-push-debug/#webpage","@type":"WebPage","description":"In November last year, I got a new mainland China version Xiaomi 15 as my daily driver. Actually, my previous Redmi K70 Ultra was released in the same year as this Xiaomi 15, and performance-wise they're comparable. However, during my Gap Year while traveling across the country, I realized it was a shame not being able to capture the night scenes I encountered, so I wanted to switch to a phone with better camera capabilities. The newly released Xiaomi 17 was at a premium price point, and didn't offer significant improvements over the 15, so I went directly for the Xiaomi 15.","name":"Mainland China Xiaomi FCM Screen-Off Disconnection: Attempts and Possible Solutions in a Rootless Environment","url":"https://zhul.in/en/2026/02/20/xiaomi-china-version-fcm-push-debug/","isPartOf":{"@id":"https://zhul.in/en/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/en/2026/02/20/xiaomi-china-version-fcm-push-debug/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/en/2026/02/20/xiaomi-china-version-fcm-push-debug/_payload.json?4e8fd412-d3a0-4c26-b0fc-32813cfe2bf3">[{"state":1,"once":22,"_errors":23,"serverRendered":6,"path":25,"prerenderedAt":26},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"en",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":17,"description":18,"env":19,"name":20,"trailingSlash":6,"url":21},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"en-US","zh-CN","ËøôÈáåÊòØÊàëÁöÑ‰∏™‰∫∫ÂçöÂÆ¢Ôºå‰∏ìÊ≥®‰∫éÂàÜ‰∫´ÊäÄÊúØÂπ≤Ë¥ß„ÄÅÂ≠¶‰π†ÂøÉÂæóÂíåÁîüÊ¥ªÊÑüÊÇüÔºåÊ∂µÁõñÂâçÁ´ØÂºÄÂèë„ÄÅÂêéÁ´ØÊû∂ÊûÑ„ÄÅ‰∫∫Â∑•Êô∫ËÉΩ„ÄÅÁºñÁ®ãÊäÄÂ∑ß„ÄÅÂ∑•ÂÖ∑Êé®ËçêÁ≠âÂ§ö‰∏™È¢ÜÂüü„ÄÇÊàëÊåÅÁª≠Êõ¥Êñ∞ÂéüÂàõÂÜÖÂÆπÔºåËÆ∞ÂΩïÊàêÈïøËøáÁ®ã‰∏≠ÁöÑÊÄùËÄÉ‰∏éÊî∂Ëé∑ÔºåËá¥Âäõ‰∫éÂ∏ÆÂä©Êõ¥Â§öÂºÄÂèëËÄÖÂíåÊäÄÊúØÁà±Â•ΩËÄÖÊèêÂçáÊäÄËÉΩ„ÄÅÊãìÂ±ïËßÜÈáé„ÄÇÂ¶ÇÊûú‰Ω†ÂØπÊäÄÊúØ„ÄÅ‰∫ßÂìÅÂíå‰∫íËÅîÁΩëË°å‰∏öÊÑüÂÖ¥Ë∂£ÔºåÁõ∏‰ø°‰Ω†ËÉΩÂú®ËøôÈáåÊâæÂà∞Êúâ‰ª∑ÂÄºÁöÑÁü•ËØÜ‰∏éÁÅµÊÑü„ÄÇ","production","Á´πÊûóÈáåÊúâÂÜ∞ÁöÑÂçöÂÆ¢","https://zhul.in/",["Set"],["ShallowReactive",24],{"post-2026-02-20-xiaomi-china-version-fcm-push-debug-en":-1,"surround-2026-02-20-xiaomi-china-version-fcm-push-debug-en":-1,"randomIndex/2026/02/20/xiaomi-china-version-fcm-push-debug/":-1,"language-switch-/en/2026/02/20/xiaomi-china-version-fcm-push-debug/-zh":-1,"posts-search-sections":-1},"/en/2026/02/20/xiaomi-china-version-fcm-push-debug/",1771555478203]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"ÁÆÄ‰Ωì‰∏≠Êñá",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"4e8fd412-d3a0-4c26-b0fc-32813cfe2bf3",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>