<!DOCTYPE html><html  lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>node-sass 迁移至 dart-sass 踩坑实录 | 竹林里有冰的博客</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-6c2349ae] .markdown-body{font-family:inherit;font-size:inherit}[data-v-6c2349ae] .markdown-body h2,[data-v-6c2349ae] .markdown-body h3,[data-v-6c2349ae] .markdown-body h4,[data-v-6c2349ae] .markdown-body h5,[data-v-6c2349ae] .markdown-body h6{scroll-margin-top:78px}[data-v-6c2349ae] .markdown-body h2>a,[data-v-6c2349ae] .markdown-body h3>a,[data-v-6c2349ae] .markdown-body h4>a,[data-v-6c2349ae] .markdown-body h5>a,[data-v-6c2349ae] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-6c2349ae] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-6c2349ae] .markdown-body .shiki,[data-v-6c2349ae] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-6c2349ae]{position:sticky;top:78px}[data-v-6c2349ae] #waline{margin-top:3rem}.article-end-hr[data-v-6c2349ae]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-6c2349ae]{border-color:#444c56}}.tags[data-v-6c2349ae]{margin:1rem 0}.tags[data-v-6c2349ae] *{vertical-align:middle}.tags svg[data-v-6c2349ae]{font-size:.9em}.tags a[data-v-6c2349ae]{display:inline-block;margin-left:.2rem}.tags a[data-v-6c2349ae]:hover{color:#007bff}</style><style>.content-wrapper[data-v-40d23075]{margin-bottom:40px;margin-top:40px}@media(min-width:1025px){.content-wrapper[data-v-40d23075]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-40d23075]{width:20%}}@media(max-width:1024px){.content-wrapper[data-v-40d23075]{margin:30px}}main[data-v-40d23075]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-40d23075]{width:unset}}</style><style>header[data-v-c4c9a290]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-c4c9a290]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-c4c9a290],header.show-mobile-menu[data-v-c4c9a290]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-c4c9a290]{height:-moz-fit-content;height:fit-content}.header-container[data-v-c4c9a290]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-c4c9a290]{min-width:100%;padding-left:16px;padding-right:16px}}.header-container .header-title[data-v-c4c9a290]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-c4c9a290]{justify-content:space-between}.header[data-v-c4c9a290],.header-right[data-v-c4c9a290]{align-items:center;display:flex}.header-right[data-v-c4c9a290]{gap:16px}.mobile-menu-dropdown[data-v-c4c9a290]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-c4c9a290]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-c4c9a290],a[data-v-c4c9a290]{color:#fff;text-decoration:none}.lang-switch[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-c4c9a290]{font-size:16px;line-height:1}@media(max-width:1024px){.search-trigger[data-v-c4c9a290]{display:none}}</style><style>.post-navigation[data-v-a35c130b]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a35c130b]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a35c130b]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a35c130b]:hover{border-color:#007bff}.nav-button:hover .nav-arrow[data-v-a35c130b],.nav-button:hover .nav-label[data-v-a35c130b],.nav-button:hover .nav-title[data-v-a35c130b]{color:#007bff}.nav-button.prev[data-v-a35c130b]{margin-right:auto}.nav-button.prev .nav-content[data-v-a35c130b]{text-align:left}.nav-button.next[data-v-a35c130b]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a35c130b]{text-align:right}.nav-arrow[data-v-a35c130b]{color:#6a737d;flex-shrink:0;font-weight:600;line-height:1}.nav-content[data-v-a35c130b]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a35c130b]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a35c130b]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a35c130b]{color:#c9d1d9}}@media(max-width:720px){.post-navigation[data-v-a35c130b]{flex-direction:column;gap:.75rem}.nav-button[data-v-a35c130b]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-bdce45f2]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-bdce45f2]{background:#181c27;border:1px solid #444c5a}}@media(max-width:1024px){.toc[data-v-bdce45f2]{display:none}}.toc-title[data-v-bdce45f2]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-bdce45f2]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-bdce45f2]{list-style:none;margin:0;padding:0}.toc-item[data-v-bdce45f2]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-bdce45f2]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-bdce45f2]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-bdce45f2]{color:#ccc}}.toc-item a[data-v-bdce45f2]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-bdce45f2]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-bdce45f2]{padding-left:0}.toc-item.toc-level-1 a[data-v-bdce45f2]{font-weight:500}.toc-item.toc-level-2[data-v-bdce45f2]{padding-left:.75rem}.toc-item.toc-level-3[data-v-bdce45f2]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-bdce45f2]{font-size:.85rem}.toc-item.toc-level-4[data-v-bdce45f2]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-bdce45f2]{font-size:.825rem}.toc-item.toc-level-5[data-v-bdce45f2]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-bdce45f2]{font-size:.8rem}.toc-item.toc-level-6[data-v-bdce45f2]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-bdce45f2]{font-size:.775rem}.toc[data-v-bdce45f2]::-webkit-scrollbar{width:5px}.toc[data-v-bdce45f2]::-webkit-scrollbar-track{background:transparent}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-f9a6c41b]{color:#fff;font-size:16px;justify-content:center;position:relative;width:100%}.footer-content[data-v-f9a6c41b],footer[data-v-f9a6c41b]{align-items:center;display:flex}.footer-content[data-v-f9a6c41b]{flex-direction:column;gap:8px;padding:20px;z-index:1}.footer-mask[data-v-f9a6c41b]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-f9a6c41b]{background:linear-gradient(180deg,#0009,#000c)}}.social[data-v-f9a6c41b]{gap:16px;margin-bottom:12px}.social[data-v-f9a6c41b],.social-icons[data-v-f9a6c41b]{align-items:center;display:flex}.social-icons[data-v-f9a6c41b]{background-color:#ffffff1a;border-radius:50%;cursor:pointer;height:48px;justify-content:center;width:48px}.social-icons[data-v-f9a6c41b]:hover{background-color:#fff3}.social-icons svg[data-v-f9a6c41b]{fill:#fff;height:20px;width:20px}</style><style>.promo-card[data-v-f771117d]{background:#0003;border:.5px solid #eee;box-sizing:border-box;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;gap:16px;max-width:310px;padding:24px;zoom:.8}.card-header[data-v-f771117d]{justify-content:space-between}.card-header[data-v-f771117d],.header-left[data-v-f771117d]{align-items:center;display:flex}.header-left[data-v-f771117d]{gap:8px}.logo-img[data-v-f771117d]{display:block;height:auto;width:100%}.logo-yxvm-container[data-v-f771117d]{margin-left:2px;width:100px}.plus-separator[data-v-f771117d]{color:#fff;font-size:20px;font-weight:700}.logo-nodeseek-container[data-v-f771117d]{width:40px}.github-link[data-v-f771117d]{color:#fff;display:block;transition:color .2s ease-in-out;width:20px}.github-link[data-v-f771117d]:hover{color:#38bdf8}.github-icon[data-v-f771117d]{fill:currentColor;height:100%;width:100%}.card-title[data-v-f771117d]{color:#fff;font-size:18px;font-weight:500;line-height:1.2;margin:0;text-transform:capitalize}.card-description[data-v-f771117d]{color:#94a3b8;font-size:14px;line-height:1.5;margin:0}.card-footer[data-v-f771117d]{color:#e4e4e7;display:flex;font-size:13px;font-weight:500;gap:4px;justify-content:flex-end}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>pre[data-v-a9c19cc1]{font-size:14px}</style><style>@media(max-width:1024px){.pc-nav[data-v-49e970ab]{display:none}}.mobile-nav[data-v-49e970ab]{cursor:pointer;display:none}@media(max-width:1024px){.mobile-nav[data-v-49e970ab]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-49e970ab]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-49e970ab]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-49e970ab]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-0f1d2f14]{height:60vh;width:100%}.mask[data-v-0f1d2f14]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-0f1d2f14]{background:#00000080}}.title-container[data-v-0f1d2f14]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:1024px){.title-container[data-v-0f1d2f14]{width:80%}}.title[data-v-0f1d2f14]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-0f1d2f14]{font-size:32px;font-weight:700;margin:0}@media(max-width:720px){.title h1[data-v-0f1d2f14]{font-size:24px}}.title p[data-v-0f1d2f14]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:1024px){.title[data-v-0f1d2f14]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-63592d71],.search-overlay-leave-active[data-v-63592d71]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-63592d71],.search-overlay-leave-to[data-v-63592d71]{opacity:0}.search-overlay[data-v-63592d71]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-63592d71]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-63592d71]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-63592d71]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-63592d71]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-63592d71]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-63592d71]:hover{color:#000c}.search-overlay__body[data-v-63592d71]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-63592d71]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-63592d71]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-63592d71]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-63592d71]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-63592d71]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-63592d71]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-63592d71]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-63592d71]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-63592d71]{color:#0000008c}.search-overlay__item-snippet[data-v-63592d71]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-63592d71]{padding:80px 12px 20px}.search-overlay__panel[data-v-63592d71]{max-height:calc(100vh - 120px)}}</style><link rel="stylesheet" href="/_nuxt/entry.-96EXPfd.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.BWPjWdBP.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/2025/07/05/node-sass-migration-to-dart-sass/_payload.json?9bb14eab-f5f2-410f-8a24-a34a9648eb82"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CDd-9Oyv.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/HpHOmbJT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DKjTVRMs.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DQUxU_8c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BKCWbbrw.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BBOVTkgp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BtbDo05o.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DYPznmLH.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BfSahnUp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/xfOZjzEX.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DBTRVC3n.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Clb05bbi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BVTGPyJN.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJ9y-LUZ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DjFzc0zC.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/p-uTPtNF.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/9bb14eab-f5f2-410f-8a24-a34a9648eb82.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="竹林里有冰的博客 RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="竹林里有冰的博客 Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Web,Vue.js,Sass,CSS,JavaScript"><script type="module" src="/_nuxt/CDd-9Oyv.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="node-sass 迁移至 dart-sass 踩坑实录 | 竹林里有冰的博客"><meta property="og:description" data-infer="" content><link rel="canonical" href="https://zhul.in/2025/07/05/node-sass-migration-to-dart-sass/"><meta property="og:url" content="https://zhul.in/2025/07/05/node-sass-migration-to-dart-sass/"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content="竹林里有冰的博客"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-6c2349ae data-v-40d23075><!--[--><header class="" data-v-c4c9a290><div class="header-container" data-v-c4c9a290><div class="header" data-v-c4c9a290><a href="/" class="header-title" data-v-c4c9a290>竹林里有冰的博客</a><div class="header-right" data-v-c4c9a290><nav data-v-c4c9a290 data-v-49e970ab><div class="pc-nav" data-v-49e970ab><!--[--><a href="/" class="" data-v-49e970ab>首页</a><a href="/archives/" class="" data-v-49e970ab>归档</a><a href="/tags/" class="" data-v-49e970ab>标签</a><a href="/links/" class="" data-v-49e970ab>友链</a><a href="/about/" class="" data-v-49e970ab>关于</a><!--]--></div><div class="mobile-nav" data-v-49e970ab><div class="container" data-v-49e970ab><!--[--><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><!--]--></div></div></nav><a href="/en/2025/07/05/node-sass-migration-to-dart-sass/" class="lang-switch" aria-label="Switch Language" data-v-c4c9a290><span class="lang-switch__label" data-v-c4c9a290>En</span></a><button type="button" class="search-trigger" aria-label="Search" data-v-c4c9a290><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c4c9a290><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-c4c9a290>搜索</span></button></div></div></div><!----></header><div class="banner" style="background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1036.18 140.35C1056.41 141.57 1076.7 134.68 1091.22 120.54 1105.92 106.22 1115.17 85.91 1113.03 65.5 1111.04 46.53 1093.97 34.67 1080.78 20.9 1067.1 6.63 1055.91-13.43 1036.18-14.7 1015.89-16.01 999.69 0.26 985.43 14.75 971.33 29.08 956.87 45.39 957.27 65.5 957.67 85.37 973 100.59 987.42 114.26 1001.32 127.45 1017.05 139.19 1036.18 140.35&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1042.18 134.35C1062.41 135.57 1082.7 128.68 1097.22 114.54 1111.92 100.22 1121.17 79.91 1119.03 59.5 1117.04 40.53 1099.97 28.67 1086.78 14.9 1073.1 0.63 1061.91-19.43 1042.18-20.7 1021.89-22.01 1005.69-5.74 991.43 8.75 977.33 23.08 962.87 39.39 963.27 59.5 963.67 79.37 979 94.59 993.42 108.26 1007.32 121.45 1023.05 133.19 1042.18 134.35&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1329.38 128.11C1347.9 128.29 1364.02 117.84 1377.77 105.44 1392.47 92.18 1408.11 76.85 1408.18 57.05 1408.25 37.21 1392.17 22.31 1378.11 8.32 1364.1-5.63 1349.15-21.69 1329.38-21.37 1309.77-21.05 1296.2-3.86 1282.23 9.9 1268.09 23.82 1249.8 37.21 1249.73 57.05 1249.66 76.92 1267.08 91.29 1281.91 104.52 1295.62 116.75 1311.01 127.93 1329.38 128.11&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1312.38 112.11C1330.9 112.29 1347.02 101.84 1360.77 89.44 1375.47 76.18 1391.11 60.85 1391.18 41.05 1391.25 21.21 1375.17 6.31 1361.11-7.68 1347.1-21.63 1332.15-37.69 1312.38-37.37 1292.77-37.05 1279.2-19.86 1265.23-6.1 1251.09 7.82 1232.8 21.21 1232.73 41.05 1232.66 60.92 1250.08 75.29 1264.91 88.52 1278.62 100.75 1294.01 111.93 1312.38 112.11&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M741.74 353.24C757.66 353.74 775.45 353.66 786.31 342.01 796.99 330.55 795.23 313.03 793.75 297.44 792.45 283.69 787.08 271.48 778.6 260.58 768.49 247.6 758.11 232.22 741.74 230.65 724.54 229 708.21 239.56 697.03 252.73 686.65 264.96 684.52 281.41 685.05 297.44 685.56 312.82 688.9 328.51 699.87 339.31 710.77 350.04 726.46 352.76 741.74 353.24&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M722.74 367.24C738.66 367.74 756.45 367.66 767.31 356.01 777.99 344.55 776.23 327.03 774.75 311.44 773.45 297.69 768.08 285.48 759.6 274.58 749.49 261.6 739.11 246.22 722.74 244.65 705.54 243 689.21 253.56 678.03 266.73 667.65 278.96 665.52 295.41 666.05 311.44 666.56 326.82 669.9 342.51 680.87 353.31 691.77 364.04 707.46 366.76 722.74 367.24&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1012.88 606.09C1024.88 606.49 1035.45 599.26 1043.98 590.8 1052.55 582.3 1060.15 571.76 1059.65 559.7 1059.16 547.97 1049.74 539.44 1041.5 531.08 1033.17 522.64 1024.74 512.09 1012.88 512.29 1001.1 512.48 993.01 523.2 985.19 532.01 978.01 540.1 971.05 548.88 970.78 559.7 970.51 570.74 976.37 580.61 983.79 588.79 991.67 597.48 1001.16 605.7 1012.88 606.09&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M992.88 599.09C1004.88 599.49 1015.45 592.26 1023.98 583.8 1032.55 575.3 1040.15 564.76 1039.65 552.7 1039.16 540.97 1029.74 532.44 1021.5 524.08 1013.17 515.64 1004.74 505.09 992.88 505.29 981.1 505.48 973.01 516.2 965.19 525.01 958.01 533.1 951.05 541.88 950.78 552.7 950.51 563.74 956.37 573.61 963.79 581.79 971.67 590.48 981.16 598.7 992.88 599.09&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1347.76 557.03C1375.03 558.66 1402.09 544.49 1418.86 522.93 1434.16 503.26 1429.17 476.75 1429.58 451.83 1430 426.2 1439.08 396.75 1421.25 378.34 1403.34 359.84 1373.51 366.86 1347.76 367.35 1322.79 367.83 1295.36 364.14 1277.02 381.09 1258.27 398.43 1254.91 426.33 1256.37 451.83 1257.74 475.75 1268.99 496.8 1284.7 514.89 1301.94 534.73 1321.53 555.46 1347.76 557.03&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1337.76 564.03C1365.03 565.66 1392.09 551.49 1408.86 529.93 1424.16 510.26 1419.17 483.75 1419.58 458.83 1420 433.2 1429.08 403.75 1411.25 385.34 1393.34 366.84 1363.51 373.86 1337.76 374.35 1312.79 374.83 1285.36 371.14 1267.02 388.09 1248.27 405.43 1244.91 433.33 1246.37 458.83 1247.74 482.75 1258.99 503.8 1274.7 521.89 1291.94 541.73 1311.53 562.46 1337.76 564.03&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M815.32 552.91C828.51 552.18 841.08 548.41 851.14 539.85 862.18 530.45 872.78 518.53 872.75 504.03 872.72 489.55 861.83 477.96 850.97 468.38 840.92 459.52 828.71 453.94 815.32 453.38 801.28 452.79 786.76 455.61 776.54 465.25 766.06 475.13 761.84 489.63 761.61 504.03 761.38 518.69 764.47 534.17 775.31 544.04 785.81 553.6 801.14 553.69 815.32 552.91&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M809.32 533.91C822.51 533.18 835.08 529.41 845.14 520.85 856.18 511.45 866.78 499.53 866.75 485.03 866.72 470.55 855.83 458.96 844.97 449.38 834.92 440.52 822.71 434.94 809.32 434.38 795.28 433.79 780.76 436.61 770.54 446.25 760.06 456.13 755.84 470.63 755.61 485.03 755.38 499.69 758.47 515.17 769.31 525.04 779.81 534.6 795.14 534.69 809.32 533.91&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M547.86 405.44C559.98 404.82 572.43 403.82 581.56 395.82 591.24 387.33 596.49 374.98 597.26 362.12 598.08 348.4 595.08 334.31 585.84 324.14 576.2 313.52 562.12 306.19 547.86 307.71 534.5 309.13 526.72 321.97 517.18 331.44 507.57 340.97 494.33 348.65 493.01 362.12 491.62 376.34 499.32 390.59 510.53 399.45 520.81 407.57 534.78 406.11 547.86 405.44&#39; fill=&#39;%2354c076&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M536.86 424.44C548.98 423.82 561.43 422.82 570.56 414.82 580.24 406.33 585.49 393.98 586.26 381.12 587.08 367.4 584.08 353.31 574.84 343.14 565.2 332.52 551.12 325.19 536.86 326.71 523.5 328.13 515.72 340.97 506.18 350.44 496.57 359.97 483.33 367.65 482.01 381.12 480.62 395.34 488.32 409.59 499.53 418.45 509.81 426.57 523.78 425.11 536.86 424.44&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23348d50&#39;%3e%3c/path%3e%3cpath d=&#39;M257.24 215.31C282.96 215.02 309.19 208.12 326.78 189.36 343.93 171.07 346.06 144.88 346.78 119.82 347.53 93.72 348.73 65.23 330.9 46.16 312.7 26.69 283.85 22.62 257.24 24.03 232.14 25.36 209.35 36.4 190.98 53.56 171.86 71.43 155.65 93.67 154.72 119.82 153.76 146.75 166.37 172.6 186.09 190.97 205.16 208.73 231.18 215.61 257.24 215.31&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M265.24 203.31C290.96 203.02 317.19 196.12 334.78 177.36 351.93 159.07 354.06 132.88 354.78 107.82 355.53 81.72 356.73 53.23 338.9 34.16 320.7 14.69 291.85 10.62 265.24 12.03 240.14 13.36 217.35 24.4 198.98 41.56 179.86 59.43 163.65 81.67 162.72 107.82 161.76 134.75 174.37 160.6 194.09 178.97 213.16 196.73 239.18 203.61 265.24 203.31&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);" data-v-c4c9a290 data-v-0f1d2f14><div class="mask" data-v-0f1d2f14><div class="title-container" data-v-0f1d2f14><div class="title" data-v-0f1d2f14><h1 data-v-0f1d2f14>node-sass 迁移至 dart-sass 踩坑实录</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-40d23075><div class="before-main side" data-v-40d23075><!--[--><!--]--></div><main data-v-40d23075><!--[--><article class="markdown-body" data-v-6c2349ae><h2 id="更新目标" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->更新目标<!--]--><a href="#更新目标" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[-->node-sass -&gt; sass ( dart-sass )<!--]--></li><li><!--[-->减少影响面，非必要不更新其他依赖的版本<!--]--></li><li><!--[-->在前两条基础上，看看能否提升 node.js 的版本<!--]--></li><!--]--></ul><h2 id="抛弃-node-sass-的理由" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->抛弃 node-sass 的理由<!--]--><a href="#抛弃-node-sass-的理由" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><a href="https://sass-lang.com/blog/libsass-is-deprecated/" rel="nofollow"><!--[-->node-sass 已经停止维护，dart-sass 是 sass 官方主推的继任者<!--]--></a><!--]--></li><li><!--[-->node-sass 在 windows 下的安装非常麻烦，npm 安装时需要开发机上同时装有 python2 和 Microsoft Visual C++<!--]--></li><li><!--[-->在安装 node-sass 时，需要从 Github 拉取资源，在特定网络环境下成功率并不高<!--]--></li><!--]--></ul><h2 id="项目依赖版本现状" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->项目依赖版本现状<!--]--><a href="#项目依赖版本现状" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><code><!--[-->node@^12<!--]--></code><!--]--></li><li><!--[--><code><!--[-->vue@^2<!--]--></code><!--]--></li><li><!--[--><code><!--[-->webpack@^3<!--]--></code><!--]--></li><li><!--[--><code><!--[-->vue-loader@^14<!--]--></code><!--]--></li><li><!--[--><code><!--[-->sass-loader@^7.0.3<!--]--></code><!--]--></li><li><!--[--><code><!--[-->node-sass@^4<!--]--></code><!--]--></li><!--]--></ul><h2 id="更新思路" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->更新思路<!--]--><a href="#更新思路" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><h3 id="nodejs" class="prose-heading prose-h3" data-v-894c4550><!--[-->node.js<!--]--><a href="#nodejs" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->webpack 官方并没有提供 webpack 3 支持的最高 node 版本，且即使 webpack 官方支持，webpack 的相关插件也未必支持。因此 node 版本能否更新就只能自己试。好在尽管这个项目的 CI/CD 跑在 node 12，但我日常都在用 node 14 开发，因此顺势将 node 版本提升至 14。<!--]--></p><h3 id="webpacksass-loader" class="prose-heading prose-h3" data-v-894c4550><!--[-->webpack、sass-loader<!--]--><a href="#webpacksass-loader" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->webpack 的版本目前处于非必要不更新的定时炸弹状态，基于现有的 webpack 3 限制，所支持的最高 sass-loader 版本就是 ^7 （ sass-loader 在 <a href="https://github.com/webpack-contrib/sass-loader/blob/v8.0.0/CHANGELOG.md" rel="nofollow"><!--[-->8.0.0 版本的更新日志<!--]--></a>中明确指出 8.0.0 版本需要 webpack 4.36.0）。<!--]--></p><p><!--[-->如果项目中 sass-loader@^7 支持使用 dart-sass 就可以不更新 sass-loader，也就不必更新 webpack 版本；反之，就需要同步更新 webpack 至 4，再视情况定下 sass-loader 的版本。<!--]--></p><p><!--[-->那么到底支不支持呢？我在 <a href="https://www.webpackjs.com/loaders/sass-loader/" rel="nofollow"><!--[-->webpack 官方文档介绍 sass-loader 的页面<!--]--></a>找到了这样一段 package.json 片段<!--]--></p><pre class="language-json shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">{
</span></span><span class="line" line="2"><span class="sJa8x">  &quot;devDependencies&quot;</span><span class="s5ixo">: {
</span></span><span class="line" line="3"><span class="sJa8x">    &quot;sass-loader&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;^7.2.0&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="4"><span class="sJa8x">    &quot;sass&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;^1.22.10&quot;
</span></span><span class="line" line="5"><span class="s5ixo">  }
</span></span><span class="line" line="6"><span class="s5ixo">}
</span></span></code><!--]--></pre><p><!--[-->这证明起码在 sass-loader@7.2.0 这一版本就已经支持 dart-sass 了，因此 webpack 版本可以停留在 ^3，而 sass-loader 暂时停留在 7.0.3 版本，如果后续有问题可以更新到 ^7 版本中最新的 7.3.1 版本。<!--]--></p><h3 id="dart-sass" class="prose-heading prose-h3" data-v-894c4550><!--[-->dart-sass<!--]--><a href="#dart-sass" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->sass-loader@^7 所支持的最高 sass 我并没有查到，Github Copilot 信誓旦旦地告诉我<!--]--></p><blockquote><!--[--><p><!--[--><strong><!--[-->官方文档引用：<!--]--></strong><!--]--></p><blockquote><!--[--><p><!--[-->sass-loader@^7.0.0 requires node-sass &gt;=4.0.0 or sass &gt;=1.3.0, &lt;=1.26.5.<!--]--></p><!--]--></blockquote><p><!--[--><strong><!--[-->建议：<!--]--></strong><!--]--></p><ul><!--[--><li><!--[-->如果需要使用更高版本的 <code><!--[-->sass<!--]--></code>，请升级到 <code><!--[-->sass-loader<!--]--></code> 8 或更高版本。<!--]--></li><!--]--></ul><!--]--></blockquote><p><!--[-->但事实上，我并没有在互联网上找到这段文本的蛛丝马迹。并且在 sass 的 ~1.26 版本中最后一个版本是 1.26.11 而非 1.26.5，<a href="https://docs.npmjs.com/about-semantic-versioning" rel="nofollow"><!--[-->根据常见的 npm 版本号原则<!--]--></a>，major version 和 minor version 不变，只改变了 patch version 的发版一般只有 bugfix 而没有 breaking change，不至于从 1.26.5 更新到 1.26.11 就突然不支持 sass-loader 7 了，因此更可能是 AI 幻觉或者是训练数据受限。<!--]--></p><p><!--[-->出于谨慎考虑，最终决定采用 webpack 官方文档中提到的 sass 1.22 的最后一个版本，也就是 1.22.12。<!--]--></p><h2 id="分析完成动手更新" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->分析完成，动手更新<!--]--><a href="#分析完成动手更新" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><h3 id="第一步卸载-node-sass安装-sass12212" class="prose-heading prose-h3" data-v-894c4550><!--[-->第一步，卸载 node-sass，安装 sass@^1.22.12<!--]--><a href="#第一步卸载-node-sass安装-sass12212" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><pre class="language-bash shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="sAdtL">npm</span><span class="sDhpE"> uninstall</span><span class="sDhpE"> node-sass
</span></span><span class="line" line="2"><span class="sAdtL">npm</span><span class="sDhpE"> install</span><span class="sDhpE"> sass@^1.22.12
</span></span></code><!--]--></pre><h3 id="第二步更新-webpack-配置非必须" class="prose-heading prose-h3" data-v-894c4550><!--[-->第二步，更新 webpack 配置（非必须）<!--]--><a href="#第二步更新-webpack-配置非必须" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><pre class="language-diff shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">module.exports = {
</span></span><span class="line" line="2"><span class="s5ixo">  // ...
</span></span><span class="line" line="3"><span class="s5ixo">  module: {
</span></span><span class="line" line="4"><span class="s5ixo">    rules: [
</span></span><span class="line" line="5"><span class="s5ixo">      {
</span></span><span class="line" line="6"><span class="s5ixo">        test: /\.(scss|sass)$/,
</span></span><span class="line" line="7"><span class="s5ixo">        use: [
</span></span><span class="line" line="8"><span class="s5ixo">          &#39;style-loader&#39;,
</span></span><span class="line" line="9"><span class="s5ixo">          &#39;css-loader&#39;,
</span></span><span class="line" line="10"><span class="s5ixo">          {
</span></span><span class="line" line="11"><span class="s5ixo">            loader: &#39;sass-loader&#39;,
</span></span><span class="line" line="12"><span class="sDhpE">+            options: {
</span></span><span class="line" line="13"><span class="sDhpE">+                // 事实上，这一行在大部分 sass-loader 版本中不用加，sass-loader 能自动检测本地是 sass 还是 node-sass
</span></span><span class="line" line="14"><span class="sDhpE">+                implementation: require(&#39;sass&#39;)
</span></span><span class="line" line="15"><span class="sDhpE">+              },
</span></span><span class="line" line="16"><span class="s5ixo">            },
</span></span><span class="line" line="17"><span class="s5ixo">          },
</span></span><span class="line" line="18"><span class="s5ixo">        ],
</span></span><span class="line" line="19"><span class="s5ixo">      },
</span></span><span class="line" line="20"><span class="s5ixo">    ],
</span></span><span class="line" line="21"><span class="s5ixo">  },
</span></span><span class="line" line="22"><span class="s5ixo">};
</span></span></code><!--]--></pre><h3 id="第三步批量替换-deep-语法为-v-deep" class="prose-heading prose-h3" data-v-894c4550><!--[-->第三步，批量替换 /deep/ 语法为 ::v-deep<!--]--><a href="#第三步批量替换-deep-语法为-v-deep" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->因为 <a href="https://chromestatus.com/feature/4964279606312960" rel="nofollow"><!--[-->/deep/ 写法在 2017 年被弃用<!--]--></a> ，/deep/ 变成了不受支持的深度作用选择器，node-sass 凭借其出色的容错性能够继续提供兼容，但 dart-sass 则不支持这种写法。于是需要将 /deep/ 语法批量替换成 ::v-deep 写法，这种写法虽然在 vue 的后续 rfc 被放弃了，但直至今日依然在事实上被支持。<!--]--></p><pre class="language-bash shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="sW2Sy"># 大概就是这么个意思，用 vscode 的批量替换其实也行
</span></span><span class="line" line="2"><span class="sAdtL">sed</span><span class="sAGMh"> -i</span><span class="sDhpE"> &#39;s#\s*/deep/\s*# ::v-deep #g&#39;</span><span class="s5ixo"> $(</span><span class="sAdtL">grep</span><span class="sAGMh"> -rl</span><span class="sDhpE"> &#39;/deep/&#39;</span><span class="sDhpE"> .</span><span class="s5ixo">)
</span></span></code><!--]--></pre><h3 id="第四步修复其他-sass-语法错误" class="prose-heading prose-h3" data-v-894c4550><!--[-->第四步，修复其他 sass 语法错误<!--]--><a href="#第四步修复其他-sass-语法错误" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->在迁移的过程中，我发现项目中有一些不规范的写法，node-sass 凭借出色的鲁棒性不吭一声强行解析，而 dart-sass 则干不了这粗活。因此需要根据编译时的报错手动修复一下这些语法错误，我这里一共遇到两种。<!--]--></p><pre class="language-diff shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">// 多打了一个冒号
</span></span><span class="line" line="2"><span class="s5ixo">.foo {
</span></span><span class="line" line="3"><span class="sJa8x">-  color:: #fff;
</span></span><span class="line" line="4"><span class="sDhpE">+  color: #fff;
</span></span><span class="line" line="5"><span class="s5ixo">}
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="s5ixo">// :nth-last-child 没指定数字
</span></span><span class="line" line="8"><span class="s5ixo">.bar {
</span></span><span class="line" line="9"><span class="sJa8x">-  &amp;:nth-last-child() {
</span></span><span class="line" line="10"><span class="sDhpE">+  &amp;:nth-last-child(1) {
</span></span><span class="line" line="11"><span class="s5ixo">      margin-bottom: 0;
</span></span><span class="line" line="12"><span class="s5ixo">  }
</span></span><span class="line" line="13"><span class="s5ixo">}
</span></span></code><!--]--></pre><h2 id="踩坑" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->踩坑<!--]--><a href="#踩坑" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><h3 id="v-deep-样式不生效" class="prose-heading prose-h3" data-v-894c4550><!--[-->::v-deep 样式不生效<!--]--><a href="#v-deep-样式不生效" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->依赖更新完后看了两眼好像是没问题，就推测试环境了。结果一天没到就被同事 call 了，::v-deep 这种深度作用选择器居然没有生效？<!--]--></p><p><!--[-->抱着试一试的态度，GPT 给了如下回答<!--]--></p><blockquote><!--[--><p><!--[-->在 <strong><!--[-->Vue 2 + vue-loader + Sass<!--]--></strong> 的组合下，<strong><!--[-->这种写法是正确的<!--]--></strong>，<strong><!--[-->前提是你的构建工具链支持 <code><!--[-->::v-deep<!--]--></code><!--]--></strong> 语法（如 <code><!--[-->vue-loader@15<!--]--></code> 及以上版本 + <code><!--[-->sass-loader<!--]--></code>）。<!--]--></p><!--]--></blockquote><p><!--[-->虽说我依然没有查证到为什么更新 vue-loader@15 才能使用 ::v-deep 语法，但对 vue-loader 进行更新后，::v-deep 语法确实生效了。在撰写本文时，我找到了些许蛛丝马迹，可能能解释这一问题。<!--]--></p><ol><!--[--><li><!--[-->vue-loader 在 <a href="https://vue-loader-v14.vuejs.org/en/features/scoped-css.html#deep-selectors" rel="nofollow"><!--[-->14 版本的官方文档<!--]--></a>就是没有 ::v-deep 写法的示例，<a href="https://github.com/vuejs/vue-loader/commit/2585d254fc774386a898887467fbdd30eb864b53" rel="nofollow"><!--[-->这一示例一直在 vue-loader 15.7.0 版本发布后才被加入<!--]--></a>。<!--]--></li><li><!--[-->vue-cli 的 Github Issue 评论区中有人提到<blockquote><!--[--><p><!--[--><code><!--[-->::v-deep<!--]--></code> implemented in @vue/component-compiler-utils v2.6.0, should work after you reinstall the deps.<!--]--></p><!--]--></blockquote><br>而 vue-loader 在 15.0.0-beta.1 版本才<a href="https://github.com/vuejs/vue-loader/commit/e32cd0e4372fcc6f13b6c307402713807516d71c#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519" rel="nofollow"><!--[-->将 @vue/component-compiler-utils 加入到自己的 dependencies 中<!--]--></a>，并直到 vue-loader 15.7.1 中才<a href="https://github.com/vuejs/vue-loader/commit/c359a38db0fbb4135fc97114baec3cd557d4123a" rel="nofollow"><!--[-->将其 @vue/component-compiler-utils 的版本号更新到满足要求的 ^3.0.0<!--]--></a><!--]--></li><!--]--></ol><p><!--[-->那能否升级到 vue-loader 16 甚至 17 版本呢？不行，在 <a href="https://github.com/vuejs/vue-loader/releases/tag/v16.1.2" rel="nofollow"><!--[-->vue-loader v16.1.2 的更新日志<!--]--></a>中明确写道<!--]--></p><blockquote><!--[--><p><!--[-->Note: vue-loader v16 is for Vue 3 only.<!--]--></p><!--]--></blockquote><h3 id="vue-loader-14-15-breaking-change" class="prose-heading prose-h3" data-v-894c4550><!--[-->vue-loader 14 -&gt; 15 breaking change<!--]--><a href="#vue-loader-14-15-breaking-change" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->vue-loader 从 14 往上迁移时，不修改 webpack 配置直接跑会遇到 vue 语法不识别的问题。具体表现为 .vue 文件命名都是正确有效的语法，但构建开发时编译器就是不认，报语法错误。vue-loader 官方有一份<a href="https://vue-loader.vuejs.org/migrating.html" rel="nofollow"><!--[-->迁移文档<!--]--></a>，需要注意一下。<!--]--></p><pre class="language-text" data-v-a9c19cc1><!--[--><code>ERROR in ./src/......
Module parse failed: Unexpected token(1:0)
You may need an appropriate loader to handle this file type.
</code><!--]--></pre><pre class="language-diff shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">// ...
</span></span><span class="line" line="2"><span class="s5ixo">import path from &#39;path&#39;
</span></span><span class="line" line="3"><span class="sDhpE">+const VueLoaderPlugin = require(&#39;vue-loader/lib/plugin&#39;)
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s5ixo">// ...
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="s5ixo">  plugins: [
</span></span><span class="line" line="8"><span class="sDhpE">+    new VueLoaderPlugin()
</span></span><span class="line" line="9"><span class="s5ixo">    // ...
</span></span><span class="line" line="10"><span class="s5ixo">  ]
</span></span></code><!--]--></pre><p><!--[-->除此之外，在我这个项目中需要额外移除 webpack 配置中针对 .vue 文件的 babel-loader<!--]--></p><pre class="language-diff shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">{
</span></span><span class="line" line="2"><span class="s5ixo">  test: /\.vue$/,
</span></span><span class="line" line="3"><span class="s5ixo">  use: [
</span></span><span class="line" line="4"><span class="sJa8x">-    {
</span></span><span class="line" line="5"><span class="sJa8x">-      loader: &#39;babel-loader&#39;
</span></span><span class="line" line="6"><span class="sJa8x">-    },
</span></span><span class="line" line="7"><span class="s5ixo">    {
</span></span><span class="line" line="8"><span class="s5ixo">      loader: &#39;vue-loader&#39;,
</span></span><span class="line" line="9"><span class="s5ixo">    }
</span></span><span class="line" line="10"><span class="s5ixo">  ]
</span></span><span class="line" line="11"><span class="s5ixo">}
</span></span></code><!--]--></pre><h2 id="最终更新情况" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->最终更新情况<!--]--><a href="#最终更新情况" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><code><!--[-->node@^12<!--]--></code> -&gt; <code><!--[-->node@^14<!--]--></code><!--]--></li><li><!--[--><code><!--[-->vue-loader@^14<!--]--></code> -&gt; <code><!--[-->vue-loader@^15<!--]--></code><!--]--></li><li><!--[--><code><!--[-->node-sass@^4<!--]--></code> -&gt; <code><!--[-->sass@^1.22.12<!--]--></code><!--]--></li><!--]--></ul><p><!--[-->其余依赖版本维持不变<!--]--></p><h2 id="参见" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->参见<!--]--><a href="#参见" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><a href="https://juejin.cn/post/7327094228350500914" rel="nofollow"><!--[-->node-sass更换为dart-sass<code><!--[-->dart-sass<!--]--></code> 和 <code><!--[-->node-sass<!--]--></code>都是用来将<code><!--[-->sass<!--]--></code>编译成 - 掘金<!--]--></a><!--]--></li><li><!--[--><a href="https://sunchenggit.github.io/2021/01/13/node-sass%E8%BF%81%E7%A7%BBdart-sass/" rel="nofollow"><!--[-->node-sass迁移dart-sass | Bolg<!--]--></a><!--]--></li><li><!--[--><a href="https://www.webpackjs.com/loaders/sass-loader/" rel="nofollow"><!--[-->sass-loader | webpack 中文文档 | webpack中文文档 | webpack中文网<!--]--></a><!--]--></li><li><!--[--><a href="https://sass-lang.com/blog/libsass-is-deprecated/" rel="nofollow"><!--[-->Sass: LibSass is Deprecated<!--]--></a><!--]--></li><li><!--[--><a href="https://www.npmjs.com/package/sass?activeTab=versions" rel="nofollow"><!--[-->sass - npm<!--]--></a><!--]--></li><li><!--[--><a href="https://www.npmjs.com/package/node-sass" rel="nofollow"><!--[-->node-sass - npm<!--]--></a><!--]--></li><li><!--[--><a href="https://docs.npmjs.com/about-semantic-versioning" rel="nofollow"><!--[-->About semantic versioning | npm Docs<!--]--></a><!--]--></li><li><!--[--><a href="https://chromestatus.com/feature/4964279606312960" rel="nofollow"><!--[-->Make /deep/ behave like the descendant combinator &quot; &quot; in CSS live profile (in css file or inside of &lt;style&gt;) - Chrome Platform Status<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/webpack-contrib/sass-loader/blob/v8.0.0/CHANGELOG.md" rel="nofollow"><!--[-->sass-loader/CHANGELOG.md at v8.0.0 · webpack-contrib/sass-loader<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/vuejs/vue-loader/releases/tag/v16.1.2" rel="nofollow"><!--[-->Release v16.1.2 · vuejs/vue-loader<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/vuejs/vue-loader/commit/e32cd0e4372fcc6f13b6c307402713807516d71c#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519" rel="nofollow"><!--[-->refactor: use @vue/component-compiler-utils · vuejs/vue-loader@e32cd0e<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/vuejs/vue-loader/commit/c359a38db0fbb4135fc97114baec3cd557d4123a" rel="nofollow"><!--[-->chore: update @vue/component-compiler-utils to v3 · vuejs/vue-loader@c359a38<!--]--></a><!--]--></li><li><!--[--><a href="https://github.com/vuejs/vue-cli/issues/3399#issuecomment-466319019" rel="nofollow"><!--[-->dart-sass does not support /deep/ selector · Issue #3399 · vuejs/vue-cli<!--]--></a><!--]--></li><li><!--[--><a href="https://vue-loader-v14.vuejs.org/en/features/scoped-css.html" rel="nofollow"><!--[-->Scoped CSS · vue-loader v14<!--]--></a><!--]--></li><li><!--[--><a href="https://vue-loader.vuejs.org/migrating.html" rel="nofollow"><!--[-->Migrating from v14 | Vue Loader<!--]--></a><!--]--></li><!--]--></ul><style>html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}</style></article><hr class="article-end-hr" data-v-6c2349ae><div class="tags" data-v-6c2349ae><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-6c2349ae><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/tags/Web/" class="" data-v-6c2349ae>#Web</a><a href="/tags/Vue.js/" class="" data-v-6c2349ae>#Vue.js</a><a href="/tags/Sass/" class="" data-v-6c2349ae>#Sass</a><a href="/tags/CSS/" class="" data-v-6c2349ae>#CSS</a><a href="/tags/JavaScript/" class="" data-v-6c2349ae>#JavaScript</a><!--]--></div><nav class="post-navigation" data-v-6c2349ae data-v-a35c130b><a href="/2025/07/12/vue-markdown-render-improvement-1/" class="nav-button prev" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M10 22L0 12L10 2l1.775 1.775L3.55 12l8.225 8.225z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>上一篇</span><span class="nav-title" data-v-a35c130b>Vue Markdown 渲染优化实战(上)：从暴力刷新、分块更新到 Morphdom 的华丽变身</span></div></a><a href="/2025/06/08/front-end-bug-gone-when-open-devtool/" class="nav-button next" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M8.025 22L6.25 20.225L14.475 12L6.25 3.775L8.025 2l10 10z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>下一篇</span><span class="nav-title" data-v-a35c130b>前端中的量子力学——一打开 F12 就消失的 Bug</span></div></a></nav><div id="waline" data-v-6c2349ae><span></span></div><!--]--></main><div class="after-main side" data-v-40d23075><!--[--><aside data-v-6c2349ae><nav class="toc" data-v-6c2349ae data-v-bdce45f2><div class="toc-title" data-v-bdce45f2>目录</div><ul class="toc-list" data-v-bdce45f2><!--[--><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#更新目标" data-v-bdce45f2>更新目标</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#抛弃-node-sass-的理由" data-v-bdce45f2>抛弃 node-sass 的理由</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#项目依赖版本现状" data-v-bdce45f2>项目依赖版本现状</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#更新思路" data-v-bdce45f2>更新思路</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#nodejs" data-v-bdce45f2>node.js</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#webpacksass-loader" data-v-bdce45f2>webpack、sass-loader</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#dart-sass" data-v-bdce45f2>dart-sass</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#分析完成动手更新" data-v-bdce45f2>分析完成，动手更新</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#第一步卸载-node-sass安装-sass12212" data-v-bdce45f2>第一步，卸载 node-sass，安装 sass@^1.22.12</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#第二步更新-webpack-配置非必须" data-v-bdce45f2>第二步，更新 webpack 配置（非必须）</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#第三步批量替换-deep-语法为-v-deep" data-v-bdce45f2>第三步，批量替换 /deep/ 语法为 ::v-deep</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#第四步修复其他-sass-语法错误" data-v-bdce45f2>第四步，修复其他 sass 语法错误</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#踩坑" data-v-bdce45f2>踩坑</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#v-deep-样式不生效" data-v-bdce45f2>::v-deep 样式不生效</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#vue-loader-14-15-breaking-change" data-v-bdce45f2>vue-loader 14 -&gt; 15 breaking change</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#最终更新情况" data-v-bdce45f2>最终更新情况</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#参见" data-v-bdce45f2>参见</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1036.18 140.35C1056.41 141.57 1076.7 134.68 1091.22 120.54 1105.92 106.22 1115.17 85.91 1113.03 65.5 1111.04 46.53 1093.97 34.67 1080.78 20.9 1067.1 6.63 1055.91-13.43 1036.18-14.7 1015.89-16.01 999.69 0.26 985.43 14.75 971.33 29.08 956.87 45.39 957.27 65.5 957.67 85.37 973 100.59 987.42 114.26 1001.32 127.45 1017.05 139.19 1036.18 140.35&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1042.18 134.35C1062.41 135.57 1082.7 128.68 1097.22 114.54 1111.92 100.22 1121.17 79.91 1119.03 59.5 1117.04 40.53 1099.97 28.67 1086.78 14.9 1073.1 0.63 1061.91-19.43 1042.18-20.7 1021.89-22.01 1005.69-5.74 991.43 8.75 977.33 23.08 962.87 39.39 963.27 59.5 963.67 79.37 979 94.59 993.42 108.26 1007.32 121.45 1023.05 133.19 1042.18 134.35&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1329.38 128.11C1347.9 128.29 1364.02 117.84 1377.77 105.44 1392.47 92.18 1408.11 76.85 1408.18 57.05 1408.25 37.21 1392.17 22.31 1378.11 8.32 1364.1-5.63 1349.15-21.69 1329.38-21.37 1309.77-21.05 1296.2-3.86 1282.23 9.9 1268.09 23.82 1249.8 37.21 1249.73 57.05 1249.66 76.92 1267.08 91.29 1281.91 104.52 1295.62 116.75 1311.01 127.93 1329.38 128.11&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1312.38 112.11C1330.9 112.29 1347.02 101.84 1360.77 89.44 1375.47 76.18 1391.11 60.85 1391.18 41.05 1391.25 21.21 1375.17 6.31 1361.11-7.68 1347.1-21.63 1332.15-37.69 1312.38-37.37 1292.77-37.05 1279.2-19.86 1265.23-6.1 1251.09 7.82 1232.8 21.21 1232.73 41.05 1232.66 60.92 1250.08 75.29 1264.91 88.52 1278.62 100.75 1294.01 111.93 1312.38 112.11&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M741.74 353.24C757.66 353.74 775.45 353.66 786.31 342.01 796.99 330.55 795.23 313.03 793.75 297.44 792.45 283.69 787.08 271.48 778.6 260.58 768.49 247.6 758.11 232.22 741.74 230.65 724.54 229 708.21 239.56 697.03 252.73 686.65 264.96 684.52 281.41 685.05 297.44 685.56 312.82 688.9 328.51 699.87 339.31 710.77 350.04 726.46 352.76 741.74 353.24&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M722.74 367.24C738.66 367.74 756.45 367.66 767.31 356.01 777.99 344.55 776.23 327.03 774.75 311.44 773.45 297.69 768.08 285.48 759.6 274.58 749.49 261.6 739.11 246.22 722.74 244.65 705.54 243 689.21 253.56 678.03 266.73 667.65 278.96 665.52 295.41 666.05 311.44 666.56 326.82 669.9 342.51 680.87 353.31 691.77 364.04 707.46 366.76 722.74 367.24&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1012.88 606.09C1024.88 606.49 1035.45 599.26 1043.98 590.8 1052.55 582.3 1060.15 571.76 1059.65 559.7 1059.16 547.97 1049.74 539.44 1041.5 531.08 1033.17 522.64 1024.74 512.09 1012.88 512.29 1001.1 512.48 993.01 523.2 985.19 532.01 978.01 540.1 971.05 548.88 970.78 559.7 970.51 570.74 976.37 580.61 983.79 588.79 991.67 597.48 1001.16 605.7 1012.88 606.09&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M992.88 599.09C1004.88 599.49 1015.45 592.26 1023.98 583.8 1032.55 575.3 1040.15 564.76 1039.65 552.7 1039.16 540.97 1029.74 532.44 1021.5 524.08 1013.17 515.64 1004.74 505.09 992.88 505.29 981.1 505.48 973.01 516.2 965.19 525.01 958.01 533.1 951.05 541.88 950.78 552.7 950.51 563.74 956.37 573.61 963.79 581.79 971.67 590.48 981.16 598.7 992.88 599.09&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1347.76 557.03C1375.03 558.66 1402.09 544.49 1418.86 522.93 1434.16 503.26 1429.17 476.75 1429.58 451.83 1430 426.2 1439.08 396.75 1421.25 378.34 1403.34 359.84 1373.51 366.86 1347.76 367.35 1322.79 367.83 1295.36 364.14 1277.02 381.09 1258.27 398.43 1254.91 426.33 1256.37 451.83 1257.74 475.75 1268.99 496.8 1284.7 514.89 1301.94 534.73 1321.53 555.46 1347.76 557.03&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1337.76 564.03C1365.03 565.66 1392.09 551.49 1408.86 529.93 1424.16 510.26 1419.17 483.75 1419.58 458.83 1420 433.2 1429.08 403.75 1411.25 385.34 1393.34 366.84 1363.51 373.86 1337.76 374.35 1312.79 374.83 1285.36 371.14 1267.02 388.09 1248.27 405.43 1244.91 433.33 1246.37 458.83 1247.74 482.75 1258.99 503.8 1274.7 521.89 1291.94 541.73 1311.53 562.46 1337.76 564.03&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M815.32 552.91C828.51 552.18 841.08 548.41 851.14 539.85 862.18 530.45 872.78 518.53 872.75 504.03 872.72 489.55 861.83 477.96 850.97 468.38 840.92 459.52 828.71 453.94 815.32 453.38 801.28 452.79 786.76 455.61 776.54 465.25 766.06 475.13 761.84 489.63 761.61 504.03 761.38 518.69 764.47 534.17 775.31 544.04 785.81 553.6 801.14 553.69 815.32 552.91&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M809.32 533.91C822.51 533.18 835.08 529.41 845.14 520.85 856.18 511.45 866.78 499.53 866.75 485.03 866.72 470.55 855.83 458.96 844.97 449.38 834.92 440.52 822.71 434.94 809.32 434.38 795.28 433.79 780.76 436.61 770.54 446.25 760.06 456.13 755.84 470.63 755.61 485.03 755.38 499.69 758.47 515.17 769.31 525.04 779.81 534.6 795.14 534.69 809.32 533.91&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M547.86 405.44C559.98 404.82 572.43 403.82 581.56 395.82 591.24 387.33 596.49 374.98 597.26 362.12 598.08 348.4 595.08 334.31 585.84 324.14 576.2 313.52 562.12 306.19 547.86 307.71 534.5 309.13 526.72 321.97 517.18 331.44 507.57 340.97 494.33 348.65 493.01 362.12 491.62 376.34 499.32 390.59 510.53 399.45 520.81 407.57 534.78 406.11 547.86 405.44&#39; fill=&#39;%2354c076&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M536.86 424.44C548.98 423.82 561.43 422.82 570.56 414.82 580.24 406.33 585.49 393.98 586.26 381.12 587.08 367.4 584.08 353.31 574.84 343.14 565.2 332.52 551.12 325.19 536.86 326.71 523.5 328.13 515.72 340.97 506.18 350.44 496.57 359.97 483.33 367.65 482.01 381.12 480.62 395.34 488.32 409.59 499.53 418.45 509.81 426.57 523.78 425.11 536.86 424.44&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23348d50&#39;%3e%3c/path%3e%3cpath d=&#39;M257.24 215.31C282.96 215.02 309.19 208.12 326.78 189.36 343.93 171.07 346.06 144.88 346.78 119.82 347.53 93.72 348.73 65.23 330.9 46.16 312.7 26.69 283.85 22.62 257.24 24.03 232.14 25.36 209.35 36.4 190.98 53.56 171.86 71.43 155.65 93.67 154.72 119.82 153.76 146.75 166.37 172.6 186.09 190.97 205.16 208.73 231.18 215.61 257.24 215.31&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M265.24 203.31C290.96 203.02 317.19 196.12 334.78 177.36 351.93 159.07 354.06 132.88 354.78 107.82 355.53 81.72 356.73 53.23 338.9 34.16 320.7 14.69 291.85 10.62 265.24 12.03 240.14 13.36 217.35 24.4 198.98 41.56 179.86 59.43 163.65 81.67 162.72 107.82 161.76 134.75 174.37 160.6 194.09 178.97 213.16 196.73 239.18 203.61 265.24 203.31&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);" data-v-40d23075 data-v-f9a6c41b><div class="footer-mask" data-v-f9a6c41b></div><div class="footer-content" data-v-f9a6c41b><div class="social" data-v-f9a6c41b><a href="https://github.com/zhullyb/" rel="noopener noreferrer" class="social-icons" data-v-f9a6c41b><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-f9a6c41b><path fill="currentColor" fill-rule="evenodd" d="M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"></path></svg></a><a class="social-icons" href="/rss.xml" target="_blank" rel="noopener noreferrer" data-v-f9a6c41b><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-f9a6c41b><path fill="currentColor" fill-rule="evenodd" d="M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"></path></svg></a><a href="/donate/" class="social-icons" data-v-f9a6c41b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-f9a6c41b><path fill="currentColor" d="M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"></path></svg></a><a href="mailto:zhullyb@outlook.com" rel="noopener noreferrer" class="social-icons" data-v-f9a6c41b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-f9a6c41b><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"></path></svg></a></div><div class="center-y" style="gap:4px;font-weight:600;" data-v-f9a6c41b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" style="font-size:0.9em;" data-v-f9a6c41b><g fill="none"><path d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M15.182 15.183a4.5 4.5 0 1 1 0-6.364"></path></g></svg> 2020 - 2025 zhullyb </div><div class="center-y" style="gap:8px;font-weight:600;" data-v-f9a6c41b> Proudly Powered by <a href="https://nuxt.com/" rel="noopener noreferrer" class="center-y" data-v-f9a6c41b><svg viewBox="0 0 512 121" width="5.09em" height="1.2em" data-v-f9a6c41b><path fill="#00DC82" d="M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"></path><path d="M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"></path></svg></a></div><div class="promo-card" style="margin-top:12px;" data-v-f9a6c41b data-v-f771117d><div class="card-header" data-v-f771117d><div class="header-left" data-v-f771117d><div class="logo-yxvm-container" data-v-f771117d><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="/static/yxvm-logo.png" alt="yxvm" class="logo-img" data-v-f771117d></a></div><span class="plus-separator" data-v-f771117d>+</span><div class="logo-nodeseek-container" data-v-f771117d><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-f771117d><img src="/static/logo2.png" alt="nodeseek" class="logo-img" data-v-f771117d></a></div></div><div data-v-f771117d><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-f771117d><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-f771117d><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-f771117d></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-f771117d></g><g id="SVGRepo_iconCarrier" data-v-f771117d><title data-v-f771117d>github [#142]</title><desc data-v-f771117d>Created with Sketch.</desc><defs data-v-f771117d></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-f771117d><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-f771117d><g transform="translate(56.000000, 160.000000)" id="icons" data-v-f771117d><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-f771117d></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-f771117d> NodeSupport Project </h1><p class="card-description" data-v-f771117d> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p><div class="card-footer" data-v-f771117d><span data-v-f771117d>Support ID:</span><span data-v-f771117d>61</span></div></div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/#website","@type":"WebSite","description":"这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","inLanguage":"zh-CN","name":"竹林里有冰的博客","url":"https://zhul.in/","workTranslation":[{"@id":"https://zhul.in/#website"},{"@id":"https://zhul.in/en/#website"}]},{"@id":"https://zhul.in/2025/07/05/node-sass-migration-to-dart-sass/#webpage","@type":"WebPage","description":true,"name":"node-sass 迁移至 dart-sass 踩坑实录","url":"https://zhul.in/2025/07/05/node-sass-migration-to-dart-sass/","isPartOf":{"@id":"https://zhul.in/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/2025/07/05/node-sass-migration-to-dart-sass/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/2025/07/05/node-sass-migration-to-dart-sass/_payload.json?9bb14eab-f5f2-410f-8a24-a34a9648eb82">[{"state":1,"once":21,"_errors":22,"serverRendered":6,"path":24,"prerenderedAt":25},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":16,"description":17,"env":18,"name":19,"trailingSlash":6,"url":20},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"zh-CN","这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","production","竹林里有冰的博客","https://zhul.in/",["Set"],["ShallowReactive",23],{"post-2025-07-05-node-sass-migration-to-dart-sass-zh":-1,"surround-2025-07-05-node-sass-migration-to-dart-sass-zh":-1,"randomIndex/2025/07/05/node-sass-migration-to-dart-sass/":-1,"language-switch-/2025/07/05/node-sass-migration-to-dart-sass/-en":-1,"posts-search-sections":-1},"/2025/07/05/node-sass-migration-to-dart-sass/",1763690624280]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"简体中文",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"9bb14eab-f5f2-410f-8a24-a34a9648eb82",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>