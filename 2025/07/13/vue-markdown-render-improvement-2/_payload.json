[{"data":1,"prerenderedAt":2019},["ShallowReactive",2],{"post-2025-07-13-vue-markdown-render-improvement-2-zh":3,"surround-2025-07-13-vue-markdown-render-improvement-2-zh":2006,"randomIndex/2025/07/13/vue-markdown-render-improvement-2/":336,"language-switch-/2025/07/13/vue-markdown-render-improvement-2/-en":2018},{"title":4,"date":5,"path":6,"tags":7,"body":14,"description":224},"Vue Markdown 渲染优化实战(下)：告别 DOM 操作，拥抱 AST 与函数式渲染","2025-07-13 00:01:35","/2025/07/13/vue-markdown-render-improvement-2",[8,9,10,11,12,13],"Vue.js","Markdown","AST","JavaScript","Web","unified",{"type":15,"value":16,"toc":1993},"minimark",[17,27,44,47,50,53,65,75,79,88,106,117,120,135,140,162,165,169,179,211,215,218,246,249,445,448,705,709,716,728,731,1374,1378,1385,1722,1725,1839,1843,1846,1952,1956,1959,1983,1986,1989],[18,19,21,22,26],"h2",{"id":20},"上回回顾当-morphdom-遇上-vue","上回回顾：当 ",[23,24,25],"code",{},"morphdom"," 遇上 Vue",[28,29,30,31,36,37,40,41,43],"p",{},"在",[32,33,35],"a",{"href":34},"/2025/07/12/vue-markdown-render-improvement-1/","上一篇文章","中，我们经历了一场 Markdown 渲染的性能优化之旅。从最原始的 ",[23,38,39],{},"v-html"," 全量刷新，到按块更新，最终我们请出了 ",[23,42,25],{}," 这个“终极武器”。它通过直接比对和操作真实 DOM，以最小的代价更新视图，完美解决了实时渲染中的性能瓶颈和交互状态丢失问题。",[28,45,46],{},"然而，一个根本性问题始终存在：在 Vue 的地盘里，绕过 Vue 的虚拟 DOM (Virtual DOM) 和 Diff 算法，直接用一个第三方库去“动刀”真实 DOM，总感觉有些“旁门左道”。这就像在一个精密的自动化工厂里，引入了一个老师傅拿着锤子和扳手进行手动修补。虽然活干得漂亮，但总觉得破坏了原有的工作流，不够“Vue”。",[28,48,49],{},"那么，有没有一种更优雅、更“原生”的方式，让我们既能享受精准更新的快感，又能完全融入 Vue 的生态体系呢？",[28,51,52],{},"带着这个问题，我询问了前端群里的伙伴们。",[54,55,56],"blockquote",{},[28,57,58,59],{},"如果就要做一个渲染器，你这个思路不是最佳实践。每次更新时，你都生成全量的虚拟 HTML，然后再对 HTML 做减法来优化性能。然而，每次更新的增量部分是明确的，为什么不直接用这部分增量去做加法？增量部分通过 markdown-it 的库无法直接获取，但更好的做法是在这一步进行改造：先解析 Markdown 的结构，再利用 Vue 的动态渲染能力生成 DOM。这样，DOM 的复用就可以借助 Vue 自身的能力来实现。—— ",[32,60,64],{"href":61,"rel":62},"https://site.j10c.cc/",[63],"nofollow","j10c",[54,66,67],{},[28,68,69,70],{},"可以用 unified 结合 remark-parse 插件，将 markdown 字符串解析为 ast，然后根据 ast 使用 render func 进行渲染即可。—— bii & ",[32,71,74],{"href":72,"rel":73},"https://github.com/nekomeowww",[63],"nekomeowww",[18,76,78],{"id":77},"新思路从字符串转换到结构化渲染","新思路：从“字符串转换”到“结构化渲染”",[28,80,81,82,84,85,87],{},"我们之前的方案，无论是 ",[23,83,39],{}," 还是 ",[23,86,25],{},"，其核心思路都是：",[28,89,90,93,94,93,97,93,100,93,103],{},[23,91,92],{},"Markdown 字符串"," -> ",[23,95,96],{},"markdown-it",[23,98,99],{},"HTML 字符串",[23,101,102],{},"浏览器/morphdom",[23,104,105],{},"DOM",[28,107,108,109,111,112,116],{},"这条链路的问题在于，从 ",[23,110,99],{}," 这一步开始，我们就丢失了 Markdown 的",[113,114,115],"strong",{},"原始结构信息","。我们得到的是一堆非结构化的文本，Vue 无法理解其内在逻辑，只能将其囫囵吞下。",[28,118,119],{},"而新的思路则是将流程改造为：",[28,121,122,93,124,93,127,93,130,93,133],{},[23,123,92],{},[23,125,126],{},"AST (抽象语法树)",[23,128,129],{},"Vue VNodes (虚拟节点)",[23,131,132],{},"Vue",[23,134,105],{},[136,137,139],"h3",{"id":138},"什么是-ast","什么是 AST？",[28,141,142,145,146,149,150,153,154,157,158,161],{},[113,143,144],{},"AST (Abstract Syntax Tree)"," ，即抽象语法树，是源代码或标记语言的结构化表示。它将一长串的文本，解析成一个层级分明的树状对象。对于 Markdown 来说，一个一级标题会变成一个 ",[23,147,148],{},"type: 'heading', depth: 1"," 的节点，一个段落会变成一个 ",[23,151,152],{},"type: 'paragraph'"," 的节点，而段落里的文字，则是 ",[23,155,156],{},"paragraph"," 节点的 ",[23,159,160],{},"children","。",[28,163,164],{},"一旦我们将 Markdown 转换成 AST，就相当于拥有了整个文档的“结构图纸”。我们不再是面对一堆模糊的 HTML 字符串，而是面对一个清晰、可编程的 JavaScript 对象。",[136,166,168],{"id":167},"我们的新工具unified-与-remark","我们的新工具：unified 与 remark",[28,170,171,172,175,176,178],{},"为了实现 ",[23,173,174],{},"Markdown -> AST"," 的转换，我们引入 ",[23,177,13],{}," 生态。",[180,181,182,192],"ul",{},[183,184,185,191],"li",{},[113,186,187],{},[32,188,13],{"href":189,"rel":190},"https://github.com/unifiedjs/unified",[63],": 一个强大的内容处理引擎。你可以把它想象成一条流水线，原始文本是原料，通过添加不同的“插件”来对它进行解析、转换和序列化。",[183,193,194,201,202,204,205,210],{},[113,195,196],{},[32,197,200],{"href":198,"rel":199},"https://github.com/remarkjs/remark",[63],"remark-parse",": 一个 ",[23,203,13],{}," 插件，专门负责将 Markdown 文本解析成 AST（具体来说是 ",[32,206,209],{"href":207,"rel":208},"https://github.com/syntax-tree/mdast",[63],"mdast"," 格式）。",[18,212,214],{"id":213},"第一步将-markdown-解析为-ast","第一步：将 Markdown 解析为 AST",[28,216,217],{},"首先，我们需要安装相关依赖：",[219,220,225],"pre",{"className":221,"code":222,"language":223,"meta":224,"style":224},"language-bash shiki shiki-themes one-light one-dark-pro","npm install unified remark-parse\n","bash","",[23,226,227],{"__ignoreMap":224},[228,229,232,236,240,243],"span",{"class":230,"line":231},"line",1,[228,233,235],{"class":234},"sAdtL","npm",[228,237,239],{"class":238},"sDhpE"," install",[228,241,242],{"class":238}," unified",[228,244,245],{"class":238}," remark-parse\n",[28,247,248],{},"然后，我们可以轻松地将 Markdown 字符串转换为 AST：",[219,250,254],{"className":251,"code":252,"language":253,"meta":224,"style":224},"language-javascript shiki shiki-themes one-light one-dark-pro","import { unified } from 'unified'\nimport remarkParse from 'remark-parse'\n\nconst markdownContent = '# Hello, AST!\\n\\nThis is a paragraph.'\n\n// 创建一个处理器实例\nconst processor = unified().use(remarkParse)\n\n// 解析 Markdown 内容\nconst ast = processor.parse(markdownContent)\n\nconsole.log(JSON.stringify(ast, null, 2))\n","javascript",[23,255,256,278,292,299,322,327,334,362,367,373,399,404],{"__ignoreMap":224},[228,257,258,262,266,269,272,275],{"class":230,"line":231},[228,259,261],{"class":260},"sLKXg","import",[228,263,265],{"class":264},"s5ixo"," { ",[228,267,13],{"class":268},"sJa8x",[228,270,271],{"class":264}," } ",[228,273,274],{"class":260},"from",[228,276,277],{"class":238}," 'unified'\n",[228,279,281,283,286,289],{"class":230,"line":280},2,[228,282,261],{"class":260},[228,284,285],{"class":268}," remarkParse",[228,287,288],{"class":260}," from",[228,290,291],{"class":238}," 'remark-parse'\n",[228,293,295],{"class":230,"line":294},3,[228,296,298],{"emptyLinePlaceholder":297},true,"\n",[228,300,302,305,309,313,316,319],{"class":230,"line":301},4,[228,303,304],{"class":260},"const",[228,306,308],{"class":307},"sNmU0"," markdownContent",[228,310,312],{"class":311},"s_Sar"," =",[228,314,315],{"class":238}," '# Hello, AST!",[228,317,318],{"class":311},"\\n\\n",[228,320,321],{"class":238},"This is a paragraph.'\n",[228,323,325],{"class":230,"line":324},5,[228,326,298],{"emptyLinePlaceholder":297},[228,328,330],{"class":230,"line":329},6,[228,331,333],{"class":332},"sW2Sy","// 创建一个处理器实例\n",[228,335,337,339,342,344,346,349,352,355,359],{"class":230,"line":336},7,[228,338,304],{"class":260},[228,340,341],{"class":307}," processor",[228,343,312],{"class":311},[228,345,242],{"class":234},[228,347,348],{"class":264},"().",[228,350,351],{"class":234},"use",[228,353,354],{"class":264},"(",[228,356,358],{"class":357},"sz0mV","remarkParse",[228,360,361],{"class":264},")\n",[228,363,365],{"class":230,"line":364},8,[228,366,298],{"emptyLinePlaceholder":297},[228,368,370],{"class":230,"line":369},9,[228,371,372],{"class":332},"// 解析 Markdown 内容\n",[228,374,376,378,381,383,386,389,392,394,397],{"class":230,"line":375},10,[228,377,304],{"class":260},[228,379,380],{"class":307}," ast",[228,382,312],{"class":311},[228,384,341],{"class":385},"s7GmK",[228,387,388],{"class":264},".",[228,390,391],{"class":234},"parse",[228,393,354],{"class":264},[228,395,396],{"class":357},"markdownContent",[228,398,361],{"class":264},[228,400,402],{"class":230,"line":401},11,[228,403,298],{"emptyLinePlaceholder":297},[228,405,407,410,412,415,417,420,422,425,427,430,433,437,439,442],{"class":230,"line":406},12,[228,408,409],{"class":385},"console",[228,411,388],{"class":264},[228,413,414],{"class":234},"log",[228,416,354],{"class":264},[228,418,419],{"class":307},"JSON",[228,421,388],{"class":264},[228,423,424],{"class":234},"stringify",[228,426,354],{"class":264},[228,428,429],{"class":357},"ast",[228,431,432],{"class":264},", ",[228,434,436],{"class":435},"sAGMh","null",[228,438,432],{"class":264},[228,440,441],{"class":435},"2",[228,443,444],{"class":264},"))\n",[28,446,447],{},"运行以上代码，我们将得到一个如下所示的 JSON 对象，这就是我们梦寐以求的 AST：",[219,449,453],{"className":450,"code":451,"language":452,"meta":224,"style":224},"language-json shiki shiki-themes one-light one-dark-pro","{\n  \"type\": \"root\",\n  \"children\": [\n    {\n      \"type\": \"heading\",\n      \"depth\": 1,\n      \"children\": [\n        {\n          \"type\": \"text\",\n          \"value\": \"Hello, AST!\",\n          \"position\": { ... }\n        }\n      ],\n      \"position\": { ... }\n    },\n    {\n      \"type\": \"paragraph\",\n      \"children\": [\n        {\n          \"type\": \"text\",\n          \"value\": \"This is a paragraph.\",\n          \"position\": { ... }\n        }\n      ],\n      \"position\": { ... }\n    }\n  ],\n  \"position\": { ... }\n}\n","json",[23,454,455,460,474,482,487,499,511,518,523,535,547,562,567,573,585,591,596,608,615,620,631,643,654,659,664,675,681,687,699],{"__ignoreMap":224},[228,456,457],{"class":230,"line":231},[228,458,459],{"class":264},"{\n",[228,461,462,465,468,471],{"class":230,"line":280},[228,463,464],{"class":268},"  \"type\"",[228,466,467],{"class":264},": ",[228,469,470],{"class":238},"\"root\"",[228,472,473],{"class":264},",\n",[228,475,476,479],{"class":230,"line":294},[228,477,478],{"class":268},"  \"children\"",[228,480,481],{"class":264},": [\n",[228,483,484],{"class":230,"line":301},[228,485,486],{"class":264},"    {\n",[228,488,489,492,494,497],{"class":230,"line":324},[228,490,491],{"class":268},"      \"type\"",[228,493,467],{"class":264},[228,495,496],{"class":238},"\"heading\"",[228,498,473],{"class":264},[228,500,501,504,506,509],{"class":230,"line":329},[228,502,503],{"class":268},"      \"depth\"",[228,505,467],{"class":264},[228,507,508],{"class":435},"1",[228,510,473],{"class":264},[228,512,513,516],{"class":230,"line":336},[228,514,515],{"class":268},"      \"children\"",[228,517,481],{"class":264},[228,519,520],{"class":230,"line":364},[228,521,522],{"class":264},"        {\n",[228,524,525,528,530,533],{"class":230,"line":369},[228,526,527],{"class":268},"          \"type\"",[228,529,467],{"class":264},[228,531,532],{"class":238},"\"text\"",[228,534,473],{"class":264},[228,536,537,540,542,545],{"class":230,"line":375},[228,538,539],{"class":268},"          \"value\"",[228,541,467],{"class":264},[228,543,544],{"class":238},"\"Hello, AST!\"",[228,546,473],{"class":264},[228,548,549,552,555,559],{"class":230,"line":401},[228,550,551],{"class":268},"          \"position\"",[228,553,554],{"class":264},": { ",[228,556,558],{"class":557},"sUNH4","...",[228,560,561],{"class":264}," }\n",[228,563,564],{"class":230,"line":406},[228,565,566],{"class":264},"        }\n",[228,568,570],{"class":230,"line":569},13,[228,571,572],{"class":264},"      ],\n",[228,574,576,579,581,583],{"class":230,"line":575},14,[228,577,578],{"class":268},"      \"position\"",[228,580,554],{"class":264},[228,582,558],{"class":557},[228,584,561],{"class":264},[228,586,588],{"class":230,"line":587},15,[228,589,590],{"class":264},"    },\n",[228,592,594],{"class":230,"line":593},16,[228,595,486],{"class":264},[228,597,599,601,603,606],{"class":230,"line":598},17,[228,600,491],{"class":268},[228,602,467],{"class":264},[228,604,605],{"class":238},"\"paragraph\"",[228,607,473],{"class":264},[228,609,611,613],{"class":230,"line":610},18,[228,612,515],{"class":268},[228,614,481],{"class":264},[228,616,618],{"class":230,"line":617},19,[228,619,522],{"class":264},[228,621,623,625,627,629],{"class":230,"line":622},20,[228,624,527],{"class":268},[228,626,467],{"class":264},[228,628,532],{"class":238},[228,630,473],{"class":264},[228,632,634,636,638,641],{"class":230,"line":633},21,[228,635,539],{"class":268},[228,637,467],{"class":264},[228,639,640],{"class":238},"\"This is a paragraph.\"",[228,642,473],{"class":264},[228,644,646,648,650,652],{"class":230,"line":645},22,[228,647,551],{"class":268},[228,649,554],{"class":264},[228,651,558],{"class":557},[228,653,561],{"class":264},[228,655,657],{"class":230,"line":656},23,[228,658,566],{"class":264},[228,660,662],{"class":230,"line":661},24,[228,663,572],{"class":264},[228,665,667,669,671,673],{"class":230,"line":666},25,[228,668,578],{"class":268},[228,670,554],{"class":264},[228,672,558],{"class":557},[228,674,561],{"class":264},[228,676,678],{"class":230,"line":677},26,[228,679,680],{"class":264},"    }\n",[228,682,684],{"class":230,"line":683},27,[228,685,686],{"class":264},"  ],\n",[228,688,690,693,695,697],{"class":230,"line":689},28,[228,691,692],{"class":268},"  \"position\"",[228,694,554],{"class":264},[228,696,558],{"class":557},[228,698,561],{"class":264},[228,700,702],{"class":230,"line":701},29,[228,703,704],{"class":264},"}\n",[18,706,708],{"id":707},"第二步从-ast-到-vue-vnodes","第二步：从 AST 到 Vue VNodes",[28,710,711,712,715],{},"拿到了 AST，下一步就是将这个“结构图纸”真正地“施工”成用户可见的界面。在 Vue 的世界里，描述 UI 的蓝图就是虚拟节点 (VNode)，而 ",[23,713,714],{},"h()"," 函数（即 hyperscript）就是创建 VNode 的画笔。",[28,717,718,719,432,722,432,724,727],{},"我们的任务是编写一个渲染函数，它能够递归地遍历 AST，并为每一种节点类型（",[23,720,721],{},"heading",[23,723,156],{},[23,725,726],{},"text"," 等）生成对应的 VNode。",[28,729,730],{},"下面是一个简单的渲染函数实现：",[219,732,734],{"className":251,"code":733,"language":253,"meta":224,"style":224},"function renderAst(node) {\n  if (!node) return null\n  switch (node.type) {\n    case 'root':\n      return h('div', {}, node.children.map(renderAst))\n    case 'paragraph':\n      return h('p', {}, node.children.map(renderAst))\n    case 'text':\n      return node.value\n    case 'emphasis':\n      return h('em', {}, node.children.map(renderAst))\n    case 'strong':\n      return h('strong', {}, node.children.map(renderAst))\n    case 'inlineCode':\n      return h('code', {}, node.value)\n    case 'heading':\n      return h('h' + node.depth, {}, node.children.map(renderAst))\n    case 'code':\n      return h('pre', {}, [h('code', {}, node.value)])\n    case 'list':\n      return h(node.ordered ? 'ol' : 'ul', {}, node.children.map(renderAst))\n    case 'listItem':\n      return h('li', {}, node.children.map(renderAst))\n    case 'thematicBreak':\n      return h('hr')\n    case 'blockquote':\n      return h('blockquote', {}, node.children.map(renderAst))\n    case 'link':\n      return h('a', { href: node.url, target: '_blank' }, node.children.map(renderAst))\n    default:\n      // 其它未实现类型\n      return h('span', { }, `[${node.type}]`)\n  }\n}\n",[23,735,736,753,775,791,802,837,846,875,884,896,905,934,943,972,981,1003,1012,1051,1060,1093,1102,1148,1157,1186,1195,1208,1217,1246,1255,1312,1320,1326,1363,1369],{"__ignoreMap":224},[228,737,738,741,744,746,750],{"class":230,"line":231},[228,739,740],{"class":260},"function",[228,742,743],{"class":234}," renderAst",[228,745,354],{"class":264},[228,747,749],{"class":748},"s8iYz","node",[228,751,752],{"class":264},") {\n",[228,754,755,758,761,764,766,769,772],{"class":230,"line":280},[228,756,757],{"class":260},"  if",[228,759,760],{"class":264}," (",[228,762,763],{"class":311},"!",[228,765,749],{"class":357},[228,767,768],{"class":264},") ",[228,770,771],{"class":260},"return",[228,773,774],{"class":435}," null\n",[228,776,777,780,782,784,786,789],{"class":230,"line":294},[228,778,779],{"class":260},"  switch",[228,781,760],{"class":264},[228,783,749],{"class":385},[228,785,388],{"class":264},[228,787,788],{"class":268},"type",[228,790,752],{"class":264},[228,792,793,796,799],{"class":230,"line":301},[228,794,795],{"class":260},"    case",[228,797,798],{"class":238}," 'root'",[228,800,801],{"class":264},":\n",[228,803,804,807,810,812,815,818,820,822,825,827,830,832,835],{"class":230,"line":324},[228,805,806],{"class":260},"      return",[228,808,809],{"class":234}," h",[228,811,354],{"class":264},[228,813,814],{"class":238},"'div'",[228,816,817],{"class":264},", {}, ",[228,819,749],{"class":385},[228,821,388],{"class":264},[228,823,160],{"class":824},"s2QsP",[228,826,388],{"class":264},[228,828,829],{"class":234},"map",[228,831,354],{"class":264},[228,833,834],{"class":357},"renderAst",[228,836,444],{"class":264},[228,838,839,841,844],{"class":230,"line":329},[228,840,795],{"class":260},[228,842,843],{"class":238}," 'paragraph'",[228,845,801],{"class":264},[228,847,848,850,852,854,857,859,861,863,865,867,869,871,873],{"class":230,"line":336},[228,849,806],{"class":260},[228,851,809],{"class":234},[228,853,354],{"class":264},[228,855,856],{"class":238},"'p'",[228,858,817],{"class":264},[228,860,749],{"class":385},[228,862,388],{"class":264},[228,864,160],{"class":824},[228,866,388],{"class":264},[228,868,829],{"class":234},[228,870,354],{"class":264},[228,872,834],{"class":357},[228,874,444],{"class":264},[228,876,877,879,882],{"class":230,"line":364},[228,878,795],{"class":260},[228,880,881],{"class":238}," 'text'",[228,883,801],{"class":264},[228,885,886,888,891,893],{"class":230,"line":369},[228,887,806],{"class":260},[228,889,890],{"class":385}," node",[228,892,388],{"class":264},[228,894,895],{"class":268},"value\n",[228,897,898,900,903],{"class":230,"line":375},[228,899,795],{"class":260},[228,901,902],{"class":238}," 'emphasis'",[228,904,801],{"class":264},[228,906,907,909,911,913,916,918,920,922,924,926,928,930,932],{"class":230,"line":401},[228,908,806],{"class":260},[228,910,809],{"class":234},[228,912,354],{"class":264},[228,914,915],{"class":238},"'em'",[228,917,817],{"class":264},[228,919,749],{"class":385},[228,921,388],{"class":264},[228,923,160],{"class":824},[228,925,388],{"class":264},[228,927,829],{"class":234},[228,929,354],{"class":264},[228,931,834],{"class":357},[228,933,444],{"class":264},[228,935,936,938,941],{"class":230,"line":406},[228,937,795],{"class":260},[228,939,940],{"class":238}," 'strong'",[228,942,801],{"class":264},[228,944,945,947,949,951,954,956,958,960,962,964,966,968,970],{"class":230,"line":569},[228,946,806],{"class":260},[228,948,809],{"class":234},[228,950,354],{"class":264},[228,952,953],{"class":238},"'strong'",[228,955,817],{"class":264},[228,957,749],{"class":385},[228,959,388],{"class":264},[228,961,160],{"class":824},[228,963,388],{"class":264},[228,965,829],{"class":234},[228,967,354],{"class":264},[228,969,834],{"class":357},[228,971,444],{"class":264},[228,973,974,976,979],{"class":230,"line":575},[228,975,795],{"class":260},[228,977,978],{"class":238}," 'inlineCode'",[228,980,801],{"class":264},[228,982,983,985,987,989,992,994,996,998,1001],{"class":230,"line":587},[228,984,806],{"class":260},[228,986,809],{"class":234},[228,988,354],{"class":264},[228,990,991],{"class":238},"'code'",[228,993,817],{"class":264},[228,995,749],{"class":385},[228,997,388],{"class":264},[228,999,1000],{"class":268},"value",[228,1002,361],{"class":264},[228,1004,1005,1007,1010],{"class":230,"line":593},[228,1006,795],{"class":260},[228,1008,1009],{"class":238}," 'heading'",[228,1011,801],{"class":264},[228,1013,1014,1016,1018,1020,1023,1026,1028,1030,1033,1035,1037,1039,1041,1043,1045,1047,1049],{"class":230,"line":598},[228,1015,806],{"class":260},[228,1017,809],{"class":234},[228,1019,354],{"class":264},[228,1021,1022],{"class":238},"'h'",[228,1024,1025],{"class":311}," +",[228,1027,890],{"class":385},[228,1029,388],{"class":264},[228,1031,1032],{"class":268},"depth",[228,1034,817],{"class":264},[228,1036,749],{"class":385},[228,1038,388],{"class":264},[228,1040,160],{"class":824},[228,1042,388],{"class":264},[228,1044,829],{"class":234},[228,1046,354],{"class":264},[228,1048,834],{"class":357},[228,1050,444],{"class":264},[228,1052,1053,1055,1058],{"class":230,"line":610},[228,1054,795],{"class":260},[228,1056,1057],{"class":238}," 'code'",[228,1059,801],{"class":264},[228,1061,1062,1064,1066,1068,1071,1074,1077,1079,1081,1083,1085,1087,1090],{"class":230,"line":617},[228,1063,806],{"class":260},[228,1065,809],{"class":234},[228,1067,354],{"class":264},[228,1069,1070],{"class":238},"'pre'",[228,1072,1073],{"class":264},", {}, [",[228,1075,1076],{"class":234},"h",[228,1078,354],{"class":264},[228,1080,991],{"class":238},[228,1082,817],{"class":264},[228,1084,749],{"class":385},[228,1086,388],{"class":264},[228,1088,1000],{"class":1089},"sj4iG",[228,1091,1092],{"class":264},")])\n",[228,1094,1095,1097,1100],{"class":230,"line":622},[228,1096,795],{"class":260},[228,1098,1099],{"class":238}," 'list'",[228,1101,801],{"class":264},[228,1103,1104,1106,1108,1110,1112,1114,1117,1121,1124,1127,1130,1132,1134,1136,1138,1140,1142,1144,1146],{"class":230,"line":633},[228,1105,806],{"class":260},[228,1107,809],{"class":234},[228,1109,354],{"class":264},[228,1111,749],{"class":385},[228,1113,388],{"class":264},[228,1115,1116],{"class":268},"ordered",[228,1118,1120],{"class":1119},"s7DPa"," ?",[228,1122,1123],{"class":238}," 'ol'",[228,1125,1126],{"class":1119}," :",[228,1128,1129],{"class":238}," 'ul'",[228,1131,817],{"class":264},[228,1133,749],{"class":385},[228,1135,388],{"class":264},[228,1137,160],{"class":824},[228,1139,388],{"class":264},[228,1141,829],{"class":234},[228,1143,354],{"class":264},[228,1145,834],{"class":357},[228,1147,444],{"class":264},[228,1149,1150,1152,1155],{"class":230,"line":645},[228,1151,795],{"class":260},[228,1153,1154],{"class":238}," 'listItem'",[228,1156,801],{"class":264},[228,1158,1159,1161,1163,1165,1168,1170,1172,1174,1176,1178,1180,1182,1184],{"class":230,"line":656},[228,1160,806],{"class":260},[228,1162,809],{"class":234},[228,1164,354],{"class":264},[228,1166,1167],{"class":238},"'li'",[228,1169,817],{"class":264},[228,1171,749],{"class":385},[228,1173,388],{"class":264},[228,1175,160],{"class":824},[228,1177,388],{"class":264},[228,1179,829],{"class":234},[228,1181,354],{"class":264},[228,1183,834],{"class":357},[228,1185,444],{"class":264},[228,1187,1188,1190,1193],{"class":230,"line":661},[228,1189,795],{"class":260},[228,1191,1192],{"class":238}," 'thematicBreak'",[228,1194,801],{"class":264},[228,1196,1197,1199,1201,1203,1206],{"class":230,"line":666},[228,1198,806],{"class":260},[228,1200,809],{"class":234},[228,1202,354],{"class":264},[228,1204,1205],{"class":238},"'hr'",[228,1207,361],{"class":264},[228,1209,1210,1212,1215],{"class":230,"line":677},[228,1211,795],{"class":260},[228,1213,1214],{"class":238}," 'blockquote'",[228,1216,801],{"class":264},[228,1218,1219,1221,1223,1225,1228,1230,1232,1234,1236,1238,1240,1242,1244],{"class":230,"line":683},[228,1220,806],{"class":260},[228,1222,809],{"class":234},[228,1224,354],{"class":264},[228,1226,1227],{"class":238},"'blockquote'",[228,1229,817],{"class":264},[228,1231,749],{"class":385},[228,1233,388],{"class":264},[228,1235,160],{"class":824},[228,1237,388],{"class":264},[228,1239,829],{"class":234},[228,1241,354],{"class":264},[228,1243,834],{"class":357},[228,1245,444],{"class":264},[228,1247,1248,1250,1253],{"class":230,"line":689},[228,1249,795],{"class":260},[228,1251,1252],{"class":238}," 'link'",[228,1254,801],{"class":264},[228,1256,1257,1259,1261,1263,1266,1269,1272,1276,1278,1280,1283,1285,1288,1290,1293,1296,1298,1300,1302,1304,1306,1308,1310],{"class":230,"line":701},[228,1258,806],{"class":260},[228,1260,809],{"class":234},[228,1262,354],{"class":264},[228,1264,1265],{"class":238},"'a'",[228,1267,1268],{"class":264},", { ",[228,1270,1271],{"class":268},"href",[228,1273,1275],{"class":1274},"st7oF",":",[228,1277,890],{"class":385},[228,1279,388],{"class":264},[228,1281,1282],{"class":268},"url",[228,1284,432],{"class":264},[228,1286,1287],{"class":268},"target",[228,1289,1275],{"class":1274},[228,1291,1292],{"class":238}," '_blank'",[228,1294,1295],{"class":264}," }, ",[228,1297,749],{"class":385},[228,1299,388],{"class":264},[228,1301,160],{"class":824},[228,1303,388],{"class":264},[228,1305,829],{"class":234},[228,1307,354],{"class":264},[228,1309,834],{"class":357},[228,1311,444],{"class":264},[228,1313,1315,1318],{"class":230,"line":1314},30,[228,1316,1317],{"class":260},"    default",[228,1319,801],{"class":264},[228,1321,1323],{"class":230,"line":1322},31,[228,1324,1325],{"class":332},"      // 其它未实现类型\n",[228,1327,1329,1331,1333,1335,1338,1341,1344,1348,1350,1353,1355,1358,1361],{"class":230,"line":1328},32,[228,1330,806],{"class":260},[228,1332,809],{"class":234},[228,1334,354],{"class":264},[228,1336,1337],{"class":238},"'span'",[228,1339,1340],{"class":264},", { }, ",[228,1342,1343],{"class":238},"`[",[228,1345,1347],{"class":1346},"sAOjX","${",[228,1349,749],{"class":385},[228,1351,388],{"class":1352},"sMj0N",[228,1354,788],{"class":268},[228,1356,1357],{"class":1346},"}",[228,1359,1360],{"class":238},"]`",[228,1362,361],{"class":264},[228,1364,1366],{"class":230,"line":1365},33,[228,1367,1368],{"class":264},"  }\n",[228,1370,1372],{"class":230,"line":1371},34,[228,1373,704],{"class":264},[18,1375,1377],{"id":1376},"第三步封装-vue-组件","第三步：封装 Vue 组件",[28,1379,1380,1381,1384],{},"整合上述逻辑，我们可以构建一个 Vue 组件。鉴于直接生成 VNode 的特性，采用函数式组件或显式 ",[23,1382,1383],{},"render"," 函数最为适宜。",[219,1386,1390],{"className":1387,"code":1388,"language":1389,"meta":224,"style":224},"language-vue shiki shiki-themes one-light one-dark-pro","\u003Ctemplate>\n  \u003Ccomponent :is=\"VNodeTree\" />\n\u003C/template>\n\n\u003Cscript setup>\nimport { computed, h, shallowRef, watchEffect } from 'vue'\nimport { unified } from 'unified'\nimport remarkParse from 'remark-parse'\n\nconst props = defineProps({\n  mdText: {\n    type: String,\n    default: ''\n  }\n})\n\nconst ast = shallowRef(null)\nconst parser = unified().use(remarkParse)\n\nwatchEffect(() => {\n  ast.value = parser.parse(props.mdText)\n})\n\n// AST 渲染函数 (同上文 renderAst 函数)\nfunction renderAst(node) { ... }\n\nconst VNodeTree = computed(() => renderAst(ast.value))\n\n\u003C/script>\n","vue",[23,1391,1392,1403,1423,1432,1436,1448,1478,1492,1502,1506,1521,1531,1543,1552,1556,1561,1565,1582,1603,1607,1619,1648,1652,1656,1661,1678,1682,1710,1714],{"__ignoreMap":224},[228,1393,1394,1397,1400],{"class":230,"line":231},[228,1395,1396],{"class":264},"\u003C",[228,1398,1399],{"class":268},"template",[228,1401,1402],{"class":264},">\n",[228,1404,1405,1408,1411,1414,1417,1420],{"class":230,"line":280},[228,1406,1407],{"class":264},"  \u003C",[228,1409,1410],{"class":268},"component",[228,1412,1413],{"class":435}," :is",[228,1415,1416],{"class":264},"=",[228,1418,1419],{"class":238},"\"VNodeTree\"",[228,1421,1422],{"class":264}," />\n",[228,1424,1425,1428,1430],{"class":230,"line":294},[228,1426,1427],{"class":264},"\u003C/",[228,1429,1399],{"class":268},[228,1431,1402],{"class":264},[228,1433,1434],{"class":230,"line":301},[228,1435,298],{"emptyLinePlaceholder":297},[228,1437,1438,1440,1443,1446],{"class":230,"line":324},[228,1439,1396],{"class":264},[228,1441,1442],{"class":268},"script",[228,1444,1445],{"class":435}," setup",[228,1447,1402],{"class":264},[228,1449,1450,1452,1454,1457,1459,1461,1463,1466,1468,1471,1473,1475],{"class":230,"line":329},[228,1451,261],{"class":260},[228,1453,265],{"class":264},[228,1455,1456],{"class":268},"computed",[228,1458,432],{"class":264},[228,1460,1076],{"class":268},[228,1462,432],{"class":264},[228,1464,1465],{"class":268},"shallowRef",[228,1467,432],{"class":264},[228,1469,1470],{"class":268},"watchEffect",[228,1472,271],{"class":264},[228,1474,274],{"class":260},[228,1476,1477],{"class":238}," 'vue'\n",[228,1479,1480,1482,1484,1486,1488,1490],{"class":230,"line":336},[228,1481,261],{"class":260},[228,1483,265],{"class":264},[228,1485,13],{"class":268},[228,1487,271],{"class":264},[228,1489,274],{"class":260},[228,1491,277],{"class":238},[228,1493,1494,1496,1498,1500],{"class":230,"line":364},[228,1495,261],{"class":260},[228,1497,285],{"class":268},[228,1499,288],{"class":260},[228,1501,291],{"class":238},[228,1503,1504],{"class":230,"line":369},[228,1505,298],{"emptyLinePlaceholder":297},[228,1507,1508,1510,1513,1515,1518],{"class":230,"line":375},[228,1509,304],{"class":260},[228,1511,1512],{"class":307}," props",[228,1514,312],{"class":311},[228,1516,1517],{"class":234}," defineProps",[228,1519,1520],{"class":264},"({\n",[228,1522,1523,1526,1528],{"class":230,"line":401},[228,1524,1525],{"class":268},"  mdText",[228,1527,1275],{"class":1274},[228,1529,1530],{"class":264}," {\n",[228,1532,1533,1536,1538,1541],{"class":230,"line":406},[228,1534,1535],{"class":268},"    type",[228,1537,1275],{"class":1274},[228,1539,1540],{"class":357}," String",[228,1542,473],{"class":264},[228,1544,1545,1547,1549],{"class":230,"line":569},[228,1546,1317],{"class":268},[228,1548,1275],{"class":1274},[228,1550,1551],{"class":238}," ''\n",[228,1553,1554],{"class":230,"line":575},[228,1555,1368],{"class":264},[228,1557,1558],{"class":230,"line":587},[228,1559,1560],{"class":264},"})\n",[228,1562,1563],{"class":230,"line":593},[228,1564,298],{"emptyLinePlaceholder":297},[228,1566,1567,1569,1571,1573,1576,1578,1580],{"class":230,"line":598},[228,1568,304],{"class":260},[228,1570,380],{"class":307},[228,1572,312],{"class":311},[228,1574,1575],{"class":234}," shallowRef",[228,1577,354],{"class":264},[228,1579,436],{"class":435},[228,1581,361],{"class":264},[228,1583,1584,1586,1589,1591,1593,1595,1597,1599,1601],{"class":230,"line":610},[228,1585,304],{"class":260},[228,1587,1588],{"class":307}," parser",[228,1590,312],{"class":311},[228,1592,242],{"class":234},[228,1594,348],{"class":264},[228,1596,351],{"class":234},[228,1598,354],{"class":264},[228,1600,358],{"class":357},[228,1602,361],{"class":264},[228,1604,1605],{"class":230,"line":617},[228,1606,298],{"emptyLinePlaceholder":297},[228,1608,1609,1611,1614,1617],{"class":230,"line":622},[228,1610,1470],{"class":234},[228,1612,1613],{"class":264},"(() ",[228,1615,1616],{"class":260},"=>",[228,1618,1530],{"class":264},[228,1620,1621,1624,1626,1628,1630,1632,1634,1636,1638,1641,1643,1646],{"class":230,"line":633},[228,1622,1623],{"class":385},"  ast",[228,1625,388],{"class":264},[228,1627,1000],{"class":268},[228,1629,312],{"class":311},[228,1631,1588],{"class":385},[228,1633,388],{"class":264},[228,1635,391],{"class":234},[228,1637,354],{"class":264},[228,1639,1640],{"class":385},"props",[228,1642,388],{"class":264},[228,1644,1645],{"class":268},"mdText",[228,1647,361],{"class":264},[228,1649,1650],{"class":230,"line":645},[228,1651,1560],{"class":264},[228,1653,1654],{"class":230,"line":656},[228,1655,298],{"emptyLinePlaceholder":297},[228,1657,1658],{"class":230,"line":661},[228,1659,1660],{"class":332},"// AST 渲染函数 (同上文 renderAst 函数)\n",[228,1662,1663,1665,1667,1669,1671,1674,1676],{"class":230,"line":666},[228,1664,740],{"class":260},[228,1666,743],{"class":234},[228,1668,354],{"class":264},[228,1670,749],{"class":748},[228,1672,1673],{"class":264},") { ",[228,1675,558],{"class":1274},[228,1677,561],{"class":264},[228,1679,1680],{"class":230,"line":677},[228,1681,298],{"emptyLinePlaceholder":297},[228,1683,1684,1686,1689,1691,1694,1696,1698,1700,1702,1704,1706,1708],{"class":230,"line":683},[228,1685,304],{"class":260},[228,1687,1688],{"class":307}," VNodeTree",[228,1690,312],{"class":311},[228,1692,1693],{"class":234}," computed",[228,1695,1613],{"class":264},[228,1697,1616],{"class":260},[228,1699,743],{"class":234},[228,1701,354],{"class":264},[228,1703,429],{"class":385},[228,1705,388],{"class":264},[228,1707,1000],{"class":268},[228,1709,444],{"class":264},[228,1711,1712],{"class":230,"line":689},[228,1713,298],{"emptyLinePlaceholder":297},[228,1715,1716,1718,1720],{"class":230,"line":701},[228,1717,1427],{"class":264},[228,1719,1442],{"class":268},[228,1721,1402],{"class":264},[28,1723,1724],{},"现在就可以像使用普通组件一样使用它了：",[219,1726,1728],{"className":1387,"code":1727,"language":1389,"meta":224,"style":224},"\u003Ctemplate>\n  \u003CMarkdownRenderer :mdText=\"markdownContent\" />\n\u003C/template>\n\n\u003Cscript setup>\nimport { ref } from 'vue'\nimport MarkdownRenderer from './MarkdownRenderer.vue'\n\nconst markdownContent = ref('# Hello Vue\\n\\nThis is rendered via AST!')\n\u003C/script>\n",[23,1729,1730,1738,1755,1763,1767,1777,1792,1804,1808,1831],{"__ignoreMap":224},[228,1731,1732,1734,1736],{"class":230,"line":231},[228,1733,1396],{"class":264},[228,1735,1399],{"class":268},[228,1737,1402],{"class":264},[228,1739,1740,1742,1745,1748,1750,1753],{"class":230,"line":280},[228,1741,1407],{"class":264},[228,1743,1744],{"class":268},"MarkdownRenderer",[228,1746,1747],{"class":435}," :mdText",[228,1749,1416],{"class":264},[228,1751,1752],{"class":238},"\"markdownContent\"",[228,1754,1422],{"class":264},[228,1756,1757,1759,1761],{"class":230,"line":294},[228,1758,1427],{"class":264},[228,1760,1399],{"class":268},[228,1762,1402],{"class":264},[228,1764,1765],{"class":230,"line":301},[228,1766,298],{"emptyLinePlaceholder":297},[228,1768,1769,1771,1773,1775],{"class":230,"line":324},[228,1770,1396],{"class":264},[228,1772,1442],{"class":268},[228,1774,1445],{"class":435},[228,1776,1402],{"class":264},[228,1778,1779,1781,1783,1786,1788,1790],{"class":230,"line":329},[228,1780,261],{"class":260},[228,1782,265],{"class":264},[228,1784,1785],{"class":268},"ref",[228,1787,271],{"class":264},[228,1789,274],{"class":260},[228,1791,1477],{"class":238},[228,1793,1794,1796,1799,1801],{"class":230,"line":336},[228,1795,261],{"class":260},[228,1797,1798],{"class":268}," MarkdownRenderer",[228,1800,288],{"class":260},[228,1802,1803],{"class":238}," './MarkdownRenderer.vue'\n",[228,1805,1806],{"class":230,"line":364},[228,1807,298],{"emptyLinePlaceholder":297},[228,1809,1810,1812,1814,1816,1819,1821,1824,1826,1829],{"class":230,"line":369},[228,1811,304],{"class":260},[228,1813,308],{"class":307},[228,1815,312],{"class":311},[228,1817,1818],{"class":234}," ref",[228,1820,354],{"class":264},[228,1822,1823],{"class":238},"'# Hello Vue",[228,1825,318],{"class":311},[228,1827,1828],{"class":238},"This is rendered via AST!'",[228,1830,361],{"class":264},[228,1832,1833,1835,1837],{"class":230,"line":375},[228,1834,1427],{"class":264},[228,1836,1442],{"class":268},[228,1838,1402],{"class":264},[18,1840,1842],{"id":1841},"ast-方案的巨大优势","AST 方案的巨大优势",[28,1844,1845],{},"切换到 AST 赛道后，我们获得了前所未有的超能力：",[1847,1848,1849,1861,1933,1946],"ol",{},[183,1850,1851,1854,1855,1857,1858,1860],{},[113,1852,1853],{},"原生集成，性能卓越","：我们不再需要 ",[23,1856,39],{}," 的暴力刷新，也不再需要 ",[23,1859,25],{}," 这样的“外援”。所有更新都交由 Vue 自己的 Diff 算法处理，这不仅性能极高，而且完全符合 Vue 的设计哲学，是真正的“自己人”。",[183,1862,1863,1866,1867],{},[113,1864,1865],{},"高度灵活性与可扩展性","：AST 作为可编程的 JavaScript 对象，为定制化处理提供了坚实基础：\n",[180,1868,1869,1890,1912],{},[183,1870,1871,1874,1875,1878,1879,1882,1883,1885,1886,1889],{},[113,1872,1873],{},"元素替换","：可将原生元素（如 ",[23,1876,1877],{},"\u003Ch2>","）无缝替换为自定义 Vue 组件（如 ",[23,1880,1881],{},"\u003CFancyHeading>","），仅在 ",[23,1884,834],{}," 函数中调整对应 ",[23,1887,1888],{},"case"," 逻辑即可。",[183,1891,1892,1895,1896,1899,1900,1903,1904,1907,1908,1911],{},[113,1893,1894],{},"逻辑注入","：可便捷地为外部链接 ",[23,1897,1898],{},"\u003Ca>"," 添加 ",[23,1901,1902],{},"target=\"_blank\""," 与 ",[23,1905,1906],{},"rel=\"noopener noreferrer\""," 属性，或为图片 ",[23,1909,1910],{},"\u003Cimg>"," 包裹懒加载组件，此类操作在 AST 层面易于实现。",[183,1913,1914,1917,1918,1920,1921,1924,1925,1928,1929,1932],{},[113,1915,1916],{},"生态集成","：充分利用 ",[23,1919,13],{}," 丰富的插件生态（如 ",[23,1922,1923],{},"remark-gfm"," 支持 GFM 语法，",[23,1926,1927],{},"remark-prism"," 实现代码高亮），仅需在处理器链中引入相应插件（",[23,1930,1931],{},".use(pluginName)","）。",[183,1934,1935,1938,1939,1942,1943,1945],{},[113,1936,1937],{},"关注点分离","：解析逻辑（",[23,1940,1941],{},"remark","）、渲染逻辑（",[23,1944,834],{},"）和业务逻辑（Vue 组件）被清晰地分离开来，代码结构更清晰，维护性更强。",[183,1947,1948,1951],{},[113,1949,1950],{},"类型安全与可预测性","：相较于操作字符串或原始 HTML，基于结构化 AST 的渲染逻辑更易于进行类型校验与逻辑推理。",[18,1953,1955],{"id":1954},"结论从功能实现到架构优化的演进","结论：从功能实现到架构优化的演进",[28,1957,1958],{},"回顾优化历程：",[180,1960,1961,1966,1972,1977],{},[183,1962,1963,1965],{},[113,1964,39],{},"：实现简单，但存在性能与安全性隐患。",[183,1967,1968,1971],{},[113,1969,1970],{},"分块更新","：缓解了部分性能问题，但方案存在局限性。",[183,1973,1974,1976],{},[113,1975,25],{},"：有效提升了性能与用户体验，但与 Vue 核心机制存在隔阂。",[183,1978,1979,1982],{},[113,1980,1981],{},"AST + 函数式渲染","：回归 Vue 原生范式，提供了性能、灵活性、可维护性俱佳的终极解决方案。",[28,1984,1985],{},"通过采用 AST，我们不仅解决了具体的技术挑战，更重要的是实现了思维范式的转变——从面向结果（HTML 字符串）的编程，转向面向过程与结构（AST）的编程。这使我们能够深入内容本质，从而实现对渲染流程的精确控制。",[28,1987,1988],{},"本次从“全量刷新”到“结构化渲染”的优化实践，不仅是一次性能提升的技术过程，更是一次深入理解现代前端工程化思想的系统性探索。最终实现的 Markdown 渲染方案，在性能、功能性与架构优雅性上均达到了较高水准。",[1990,1991,1992],"style",{},"html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sNmU0, html code.shiki .sNmU0{--shiki-default:#986801;--shiki-dark:#E5C07B}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sz0mV, html code.shiki .sz0mV{--shiki-default:#383A42;--shiki-dark:#E06C75}html pre.shiki code .s7GmK, html code.shiki .s7GmK{--shiki-default:#383A42;--shiki-dark:#E5C07B}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sUNH4, html code.shiki .sUNH4{--shiki-default:white;--shiki-dark:#FFFFFF}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .sj4iG, html code.shiki .sj4iG{--shiki-default:#C18401;--shiki-dark:#E06C75}html pre.shiki code .s7DPa, html code.shiki .s7DPa{--shiki-default:#0184BC;--shiki-dark:#C678DD}html pre.shiki code .st7oF, html code.shiki .st7oF{--shiki-default:#0184BC;--shiki-dark:#ABB2BF}html pre.shiki code .sAOjX, html code.shiki .sAOjX{--shiki-default:#CA1243;--shiki-dark:#C678DD}html pre.shiki code .sMj0N, html code.shiki .sMj0N{--shiki-default:#50A14F;--shiki-dark:#ABB2BF}",{"title":224,"searchDepth":280,"depth":280,"links":1994},[1995,1997,2001,2002,2003,2004,2005],{"id":20,"depth":280,"text":1996},"上回回顾：当 morphdom 遇上 Vue",{"id":77,"depth":280,"text":78,"children":1998},[1999,2000],{"id":138,"depth":294,"text":139},{"id":167,"depth":294,"text":168},{"id":213,"depth":280,"text":214},{"id":707,"depth":280,"text":708},{"id":1376,"depth":280,"text":1377},{"id":1841,"depth":280,"text":1842},{"id":1954,"depth":280,"text":1955},[2007,2013],{"title":2008,"path":2009,"stem":2010,"date":2011,"lang":2012,"children":-1},"DNS 解析延迟毁了我的图床优化","/2025/08/11/dns-resolve-time-destroyed-my-optimization-for-pic-cdn","posts/zh/dns-resolve-time-destroyed-my-optimization-for-pic-cdn","2025-08-11 00:06:40","zh-CN",{"title":2014,"path":2015,"stem":2016,"date":2017,"lang":2012,"children":-1},"Vue Markdown 渲染优化实战(上)：从暴力刷新、分块更新到 Morphdom 的华丽变身","/2025/07/12/vue-markdown-render-improvement-1","posts/zh/vue-markdown-render-improvement-1","2025-07-12 20:48:56","/en/2025/07/13/vue-markdown-render-improvement-2/",1769818296532]