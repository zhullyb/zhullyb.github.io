<!DOCTYPE html><html  lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vue Markdown æ¸²æŸ“ä¼˜åŒ–å®æˆ˜(ä¸‹)ï¼šå‘Šåˆ« DOM æ“ä½œï¼Œæ‹¥æŠ± AST ä¸å‡½æ•°å¼æ¸²æŸ“ | ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://static.031130.xyz/res/github-markdown.css"><style>[data-v-2c7dffe3] .markdown-body h2,[data-v-2c7dffe3] .markdown-body h3,[data-v-2c7dffe3] .markdown-body h4,[data-v-2c7dffe3] .markdown-body h5,[data-v-2c7dffe3] .markdown-body h6{scroll-margin-top:78px}[data-v-2c7dffe3] .markdown-body h2>a,[data-v-2c7dffe3] .markdown-body h3>a,[data-v-2c7dffe3] .markdown-body h4>a,[data-v-2c7dffe3] .markdown-body h5>a,[data-v-2c7dffe3] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-2c7dffe3] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-2c7dffe3] .markdown-body .shiki,[data-v-2c7dffe3] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-2c7dffe3]{position:sticky;top:78px}[data-v-2c7dffe3] #waline{margin-top:3rem}</style><style>.content-wrapper[data-v-74b56342]{margin-bottom:40px;margin-top:40px}@media(min-width:769px){.content-wrapper[data-v-74b56342]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-74b56342]{width:20%}}@media(max-width:768px){.content-wrapper[data-v-74b56342]{margin:30px}}main[data-v-74b56342]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-74b56342]{width:75%}}@media(max-width:768px){main[data-v-74b56342]{width:unset}}</style><style>header[data-v-8bb8c476]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:all .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-8bb8c476]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-8bb8c476],header.show-mobile-menu[data-v-8bb8c476]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-8bb8c476]{height:-moz-fit-content;height:fit-content}.header-container[data-v-8bb8c476]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-8bb8c476]{min-width:75%;padding-left:16px;padding-right:16px}}@media(max-width:768px){.header-container[data-v-8bb8c476]{min-width:100%}}.header-container .header-title[data-v-8bb8c476]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-8bb8c476]{justify-content:space-between}.header[data-v-8bb8c476],.header-right[data-v-8bb8c476]{align-items:center;display:flex}.header-right[data-v-8bb8c476]{gap:16px}.mobile-menu-dropdown[data-v-8bb8c476]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-8bb8c476]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-8bb8c476],a[data-v-8bb8c476]{color:#fff;text-decoration:none}.search-trigger[data-v-8bb8c476]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-8bb8c476]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-8bb8c476]{font-size:16px;line-height:1}@media(max-width:768px){.search-trigger .search-trigger__label[data-v-8bb8c476]{display:none}}</style><style>@media(max-width:768px){.pc-nav[data-v-f0d77200]{display:none}}.mobile-nav[data-v-f0d77200]{cursor:pointer;display:none}@media(max-width:768px){.mobile-nav[data-v-f0d77200]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-f0d77200]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-f0d77200]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-f0d77200]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-4e11f931]{height:60vh;width:100%}.mask[data-v-4e11f931]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-4e11f931]{background:#00000080}}.title-container[data-v-4e11f931]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:768px){.title-container[data-v-4e11f931]{width:80%}}.title[data-v-4e11f931]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-4e11f931]{font-size:32px;font-weight:700;margin:0}.title p[data-v-4e11f931]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:768px){.title[data-v-4e11f931]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-62b29045],.search-overlay-leave-active[data-v-62b29045]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-62b29045],.search-overlay-leave-to[data-v-62b29045]{opacity:0}.search-overlay[data-v-62b29045]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-62b29045]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-62b29045]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-62b29045]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-62b29045]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-62b29045]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-62b29045]:hover{color:#000c}.search-overlay__body[data-v-62b29045]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-62b29045]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-62b29045]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-62b29045]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-62b29045]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-62b29045]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-62b29045]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-62b29045]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-62b29045]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-62b29045]{color:#0000008c}.search-overlay__item-snippet[data-v-62b29045]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-62b29045]{padding:80px 12px 20px}.search-overlay__panel[data-v-62b29045]{max-height:calc(100vh - 120px)}}</style><style>.post-navigation[data-v-f7d5c848]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-f7d5c848]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-f7d5c848]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-f7d5c848]:hover{border-color:#007bff}.nav-button:hover .nav-title[data-v-f7d5c848]{color:#007bff}.nav-button.prev[data-v-f7d5c848]{margin-right:auto}.nav-button.prev .nav-content[data-v-f7d5c848]{text-align:left}.nav-button.next[data-v-f7d5c848]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-f7d5c848]{text-align:right}.nav-arrow[data-v-f7d5c848]{color:#6a737d;flex-shrink:0;font-size:1.5rem;font-weight:600;line-height:1}.nav-content[data-v-f7d5c848]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-f7d5c848]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-f7d5c848]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-f7d5c848]{color:#c9d1d9}}@media(max-width:768px){.post-navigation[data-v-f7d5c848]{flex-direction:column;gap:.75rem}.nav-button[data-v-f7d5c848]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-ae70bcd1]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-ae70bcd1]{background:#181c27;border:1px solid #444c5a}}@media(max-width:768px){.toc[data-v-ae70bcd1]{display:none}}.toc-title[data-v-ae70bcd1]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-ae70bcd1]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-ae70bcd1]{list-style:none;margin:0;padding:0}.toc-item[data-v-ae70bcd1]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-ae70bcd1]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-ae70bcd1]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-ae70bcd1]{color:#ccc}}.toc-item a[data-v-ae70bcd1]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-ae70bcd1]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-ae70bcd1]{padding-left:0}.toc-item.toc-level-1 a[data-v-ae70bcd1]{font-weight:500}.toc-item.toc-level-2[data-v-ae70bcd1]{padding-left:.75rem}.toc-item.toc-level-3[data-v-ae70bcd1]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-ae70bcd1]{font-size:.85rem}.toc-item.toc-level-4[data-v-ae70bcd1]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-ae70bcd1]{font-size:.825rem}.toc-item.toc-level-5[data-v-ae70bcd1]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-ae70bcd1]{font-size:.8rem}.toc-item.toc-level-6[data-v-ae70bcd1]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-ae70bcd1]{font-size:.775rem}.toc[data-v-ae70bcd1]::-webkit-scrollbar{width:5px}.toc[data-v-ae70bcd1]::-webkit-scrollbar-track{background:transparent}.toc[data-v-ae70bcd1]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-ae70bcd1]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-22a21bbd]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-22a21bbd],footer[data-v-22a21bbd]{align-items:center;display:flex}.footer-content[data-v-22a21bbd]{flex-direction:column;gap:12px;padding:20px;z-index:1}.footer-mask[data-v-22a21bbd]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-22a21bbd]{background:linear-gradient(180deg,#0009,#000c)}}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><link rel="stylesheet" href="/_nuxt/entry.Cb3Jctur.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.DGHBqf1j.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/2025/07/13/vue-markdown-render-improvement-2/_payload.json?1ff90da2-790d-4e52-b609-44dd17ff91ad"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BbDEcWei.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DXtrKJe9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dm3SJU1f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CcpXWjLW.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DSbaozbb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D0VO8L0j.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dw9FZWsg.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CakspqSL.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BOsugT3R.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DkaPM3M1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BEgYIPuU.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJIecGQg.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DR8hJMIu.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Duo2u3bF.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CAWwHBuw.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Df3SQ5pa.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CMFzSjMN.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/1ff90da2-790d-4e52-b609-44dd17ff91ad.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://static.031130.xyz/res/github-markdown.css"><link rel="alternate" type="application/atom+xml" title="ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢ Atom Feed" href="https://zhul.in/rss.xml"><meta name="description" content><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Vue.js,Markdown,AST,JavaScript,Web,unified"><script type="module" src="/_nuxt/BbDEcWei.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="Vue Markdown æ¸²æŸ“ä¼˜åŒ–å®æˆ˜(ä¸‹)ï¼šå‘Šåˆ« DOM æ“ä½œï¼Œæ‹¥æŠ± AST ä¸å‡½æ•°å¼æ¸²æŸ“ | ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢"><meta property="og:description" data-infer="" content><link rel="canonical" href="https://zhul.in/2025/07/13/vue-markdown-render-improvement-2/"><meta property="og:url" content="https://zhul.in/2025/07/13/vue-markdown-render-improvement-2/"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content="ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-2c7dffe3 data-v-74b56342><!--[--><header class="" data-v-8bb8c476><div class="header-container" data-v-8bb8c476><div class="header" data-v-8bb8c476><a href="/" class="header-title" data-v-8bb8c476>ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢</a><div class="header-right" data-v-8bb8c476><nav data-v-8bb8c476 data-v-f0d77200><div class="pc-nav" data-v-f0d77200><!--[--><a href="/" class="" data-v-f0d77200>é¦–é¡µ</a><a href="/archives/" class="" data-v-f0d77200>å½’æ¡£</a><a href="/tags/" class="" data-v-f0d77200>æ ‡ç­¾</a><a href="/links/" class="" data-v-f0d77200>å‹é“¾</a><a href="/about/" class="" data-v-f0d77200>å…³äº</a><!--]--></div><div class="mobile-nav" data-v-f0d77200><div class="container" data-v-f0d77200><!--[--><div class="mobile-nav-item" data-v-f0d77200></div><div class="mobile-nav-item" data-v-f0d77200></div><div class="mobile-nav-item" data-v-f0d77200></div><!--]--></div></div></nav><button type="button" class="search-trigger" aria-label="æœç´¢æ–‡ç« " data-v-8bb8c476><span aria-hidden="true" data-v-8bb8c476>ğŸ”</span><span class="search-trigger__label" data-v-8bb8c476>æœç´¢</span></button></div></div></div><!----></header><div class="banner" style="background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1036.18 140.35C1056.41 141.57 1076.7 134.68 1091.22 120.54 1105.92 106.22 1115.17 85.91 1113.03 65.5 1111.04 46.53 1093.97 34.67 1080.78 20.9 1067.1 6.63 1055.91-13.43 1036.18-14.7 1015.89-16.01 999.69 0.26 985.43 14.75 971.33 29.08 956.87 45.39 957.27 65.5 957.67 85.37 973 100.59 987.42 114.26 1001.32 127.45 1017.05 139.19 1036.18 140.35&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1042.18 134.35C1062.41 135.57 1082.7 128.68 1097.22 114.54 1111.92 100.22 1121.17 79.91 1119.03 59.5 1117.04 40.53 1099.97 28.67 1086.78 14.9 1073.1 0.63 1061.91-19.43 1042.18-20.7 1021.89-22.01 1005.69-5.74 991.43 8.75 977.33 23.08 962.87 39.39 963.27 59.5 963.67 79.37 979 94.59 993.42 108.26 1007.32 121.45 1023.05 133.19 1042.18 134.35&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1329.38 128.11C1347.9 128.29 1364.02 117.84 1377.77 105.44 1392.47 92.18 1408.11 76.85 1408.18 57.05 1408.25 37.21 1392.17 22.31 1378.11 8.32 1364.1-5.63 1349.15-21.69 1329.38-21.37 1309.77-21.05 1296.2-3.86 1282.23 9.9 1268.09 23.82 1249.8 37.21 1249.73 57.05 1249.66 76.92 1267.08 91.29 1281.91 104.52 1295.62 116.75 1311.01 127.93 1329.38 128.11&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1312.38 112.11C1330.9 112.29 1347.02 101.84 1360.77 89.44 1375.47 76.18 1391.11 60.85 1391.18 41.05 1391.25 21.21 1375.17 6.31 1361.11-7.68 1347.1-21.63 1332.15-37.69 1312.38-37.37 1292.77-37.05 1279.2-19.86 1265.23-6.1 1251.09 7.82 1232.8 21.21 1232.73 41.05 1232.66 60.92 1250.08 75.29 1264.91 88.52 1278.62 100.75 1294.01 111.93 1312.38 112.11&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M741.74 353.24C757.66 353.74 775.45 353.66 786.31 342.01 796.99 330.55 795.23 313.03 793.75 297.44 792.45 283.69 787.08 271.48 778.6 260.58 768.49 247.6 758.11 232.22 741.74 230.65 724.54 229 708.21 239.56 697.03 252.73 686.65 264.96 684.52 281.41 685.05 297.44 685.56 312.82 688.9 328.51 699.87 339.31 710.77 350.04 726.46 352.76 741.74 353.24&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M722.74 367.24C738.66 367.74 756.45 367.66 767.31 356.01 777.99 344.55 776.23 327.03 774.75 311.44 773.45 297.69 768.08 285.48 759.6 274.58 749.49 261.6 739.11 246.22 722.74 244.65 705.54 243 689.21 253.56 678.03 266.73 667.65 278.96 665.52 295.41 666.05 311.44 666.56 326.82 669.9 342.51 680.87 353.31 691.77 364.04 707.46 366.76 722.74 367.24&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1012.88 606.09C1024.88 606.49 1035.45 599.26 1043.98 590.8 1052.55 582.3 1060.15 571.76 1059.65 559.7 1059.16 547.97 1049.74 539.44 1041.5 531.08 1033.17 522.64 1024.74 512.09 1012.88 512.29 1001.1 512.48 993.01 523.2 985.19 532.01 978.01 540.1 971.05 548.88 970.78 559.7 970.51 570.74 976.37 580.61 983.79 588.79 991.67 597.48 1001.16 605.7 1012.88 606.09&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M992.88 599.09C1004.88 599.49 1015.45 592.26 1023.98 583.8 1032.55 575.3 1040.15 564.76 1039.65 552.7 1039.16 540.97 1029.74 532.44 1021.5 524.08 1013.17 515.64 1004.74 505.09 992.88 505.29 981.1 505.48 973.01 516.2 965.19 525.01 958.01 533.1 951.05 541.88 950.78 552.7 950.51 563.74 956.37 573.61 963.79 581.79 971.67 590.48 981.16 598.7 992.88 599.09&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1347.76 557.03C1375.03 558.66 1402.09 544.49 1418.86 522.93 1434.16 503.26 1429.17 476.75 1429.58 451.83 1430 426.2 1439.08 396.75 1421.25 378.34 1403.34 359.84 1373.51 366.86 1347.76 367.35 1322.79 367.83 1295.36 364.14 1277.02 381.09 1258.27 398.43 1254.91 426.33 1256.37 451.83 1257.74 475.75 1268.99 496.8 1284.7 514.89 1301.94 534.73 1321.53 555.46 1347.76 557.03&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1337.76 564.03C1365.03 565.66 1392.09 551.49 1408.86 529.93 1424.16 510.26 1419.17 483.75 1419.58 458.83 1420 433.2 1429.08 403.75 1411.25 385.34 1393.34 366.84 1363.51 373.86 1337.76 374.35 1312.79 374.83 1285.36 371.14 1267.02 388.09 1248.27 405.43 1244.91 433.33 1246.37 458.83 1247.74 482.75 1258.99 503.8 1274.7 521.89 1291.94 541.73 1311.53 562.46 1337.76 564.03&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M815.32 552.91C828.51 552.18 841.08 548.41 851.14 539.85 862.18 530.45 872.78 518.53 872.75 504.03 872.72 489.55 861.83 477.96 850.97 468.38 840.92 459.52 828.71 453.94 815.32 453.38 801.28 452.79 786.76 455.61 776.54 465.25 766.06 475.13 761.84 489.63 761.61 504.03 761.38 518.69 764.47 534.17 775.31 544.04 785.81 553.6 801.14 553.69 815.32 552.91&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M809.32 533.91C822.51 533.18 835.08 529.41 845.14 520.85 856.18 511.45 866.78 499.53 866.75 485.03 866.72 470.55 855.83 458.96 844.97 449.38 834.92 440.52 822.71 434.94 809.32 434.38 795.28 433.79 780.76 436.61 770.54 446.25 760.06 456.13 755.84 470.63 755.61 485.03 755.38 499.69 758.47 515.17 769.31 525.04 779.81 534.6 795.14 534.69 809.32 533.91&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M547.86 405.44C559.98 404.82 572.43 403.82 581.56 395.82 591.24 387.33 596.49 374.98 597.26 362.12 598.08 348.4 595.08 334.31 585.84 324.14 576.2 313.52 562.12 306.19 547.86 307.71 534.5 309.13 526.72 321.97 517.18 331.44 507.57 340.97 494.33 348.65 493.01 362.12 491.62 376.34 499.32 390.59 510.53 399.45 520.81 407.57 534.78 406.11 547.86 405.44&#39; fill=&#39;%2354c076&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M536.86 424.44C548.98 423.82 561.43 422.82 570.56 414.82 580.24 406.33 585.49 393.98 586.26 381.12 587.08 367.4 584.08 353.31 574.84 343.14 565.2 332.52 551.12 325.19 536.86 326.71 523.5 328.13 515.72 340.97 506.18 350.44 496.57 359.97 483.33 367.65 482.01 381.12 480.62 395.34 488.32 409.59 499.53 418.45 509.81 426.57 523.78 425.11 536.86 424.44&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23348d50&#39;%3e%3c/path%3e%3cpath d=&#39;M257.24 215.31C282.96 215.02 309.19 208.12 326.78 189.36 343.93 171.07 346.06 144.88 346.78 119.82 347.53 93.72 348.73 65.23 330.9 46.16 312.7 26.69 283.85 22.62 257.24 24.03 232.14 25.36 209.35 36.4 190.98 53.56 171.86 71.43 155.65 93.67 154.72 119.82 153.76 146.75 166.37 172.6 186.09 190.97 205.16 208.73 231.18 215.61 257.24 215.31&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M265.24 203.31C290.96 203.02 317.19 196.12 334.78 177.36 351.93 159.07 354.06 132.88 354.78 107.82 355.53 81.72 356.73 53.23 338.9 34.16 320.7 14.69 291.85 10.62 265.24 12.03 240.14 13.36 217.35 24.4 198.98 41.56 179.86 59.43 163.65 81.67 162.72 107.82 161.76 134.75 174.37 160.6 194.09 178.97 213.16 196.73 239.18 203.61 265.24 203.31&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);" data-v-8bb8c476 data-v-4e11f931><div class="mask" data-v-4e11f931><div class="title-container" data-v-4e11f931><div class="title" data-v-4e11f931><h1 data-v-4e11f931>Vue Markdown æ¸²æŸ“ä¼˜åŒ–å®æˆ˜(ä¸‹)ï¼šå‘Šåˆ« DOM æ“ä½œï¼Œæ‹¥æŠ± AST ä¸å‡½æ•°å¼æ¸²æŸ“</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-74b56342><div class="before-main side" data-v-74b56342><!--[--><!--]--></div><main data-v-74b56342><!--[--><article class="markdown-body" data-v-2c7dffe3><h2 id="ä¸Šå›å›é¡¾å½“-morphdom-é‡ä¸Š-vue" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->ä¸Šå›å›é¡¾ï¼šå½“ <code><!--[-->morphdom<!--]--></code> é‡ä¸Š Vue<!--]--><a href="#ä¸Šå›å›é¡¾å½“-morphdom-é‡ä¸Š-vue" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->åœ¨<a href="/2025/07/12/vue-markdown-render-improvement-1/" class=""><!--[-->ä¸Šä¸€ç¯‡æ–‡ç« <!--]--></a>ä¸­ï¼Œæˆ‘ä»¬ç»å†äº†ä¸€åœº Markdown æ¸²æŸ“çš„æ€§èƒ½ä¼˜åŒ–ä¹‹æ—…ã€‚ä»æœ€åŸå§‹çš„ <code><!--[-->v-html<!--]--></code> å…¨é‡åˆ·æ–°ï¼Œåˆ°æŒ‰å—æ›´æ–°ï¼Œæœ€ç»ˆæˆ‘ä»¬è¯·å‡ºäº† <code><!--[-->morphdom<!--]--></code> è¿™ä¸ªâ€œç»ˆææ­¦å™¨â€ã€‚å®ƒé€šè¿‡ç›´æ¥æ¯”å¯¹å’Œæ“ä½œçœŸå® DOMï¼Œä»¥æœ€å°çš„ä»£ä»·æ›´æ–°è§†å›¾ï¼Œå®Œç¾è§£å†³äº†å®æ—¶æ¸²æŸ“ä¸­çš„æ€§èƒ½ç“¶é¢ˆå’Œäº¤äº’çŠ¶æ€ä¸¢å¤±é—®é¢˜ã€‚<!--]--></p><p><!--[-->ç„¶è€Œï¼Œä¸€ä¸ªæ ¹æœ¬æ€§é—®é¢˜å§‹ç»ˆå­˜åœ¨ï¼šåœ¨ Vue çš„åœ°ç›˜é‡Œï¼Œç»•è¿‡ Vue çš„è™šæ‹Ÿ DOM (Virtual DOM) å’Œ Diff ç®—æ³•ï¼Œç›´æ¥ç”¨ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“å»â€œåŠ¨åˆ€â€çœŸå® DOMï¼Œæ€»æ„Ÿè§‰æœ‰äº›â€œæ—é—¨å·¦é“â€ã€‚è¿™å°±åƒåœ¨ä¸€ä¸ªç²¾å¯†çš„è‡ªåŠ¨åŒ–å·¥å‚é‡Œï¼Œå¼•å…¥äº†ä¸€ä¸ªè€å¸ˆå‚…æ‹¿ç€é”¤å­å’Œæ‰³æ‰‹è¿›è¡Œæ‰‹åŠ¨ä¿®è¡¥ã€‚è™½ç„¶æ´»å¹²å¾—æ¼‚äº®ï¼Œä½†æ€»è§‰å¾—ç ´åäº†åŸæœ‰çš„å·¥ä½œæµï¼Œä¸å¤Ÿâ€œVueâ€ã€‚<!--]--></p><p><!--[-->é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ›´ä¼˜é›…ã€æ›´â€œåŸç”Ÿâ€çš„æ–¹å¼ï¼Œè®©æˆ‘ä»¬æ—¢èƒ½äº«å—ç²¾å‡†æ›´æ–°çš„å¿«æ„Ÿï¼Œåˆèƒ½å®Œå…¨èå…¥ Vue çš„ç”Ÿæ€ä½“ç³»å‘¢ï¼Ÿ<!--]--></p><p><!--[-->å¸¦ç€è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¯¢é—®äº†å‰ç«¯ç¾¤é‡Œçš„ä¼™ä¼´ä»¬ã€‚<!--]--></p><blockquote><!--[--><p><!--[-->å¦‚æœå°±è¦åšä¸€ä¸ªæ¸²æŸ“å™¨ï¼Œä½ è¿™ä¸ªæ€è·¯ä¸æ˜¯æœ€ä½³å®è·µã€‚æ¯æ¬¡æ›´æ–°æ—¶ï¼Œä½ éƒ½ç”Ÿæˆå…¨é‡çš„è™šæ‹Ÿ HTMLï¼Œç„¶åå†å¯¹ HTML åšå‡æ³•æ¥ä¼˜åŒ–æ€§èƒ½ã€‚ç„¶è€Œï¼Œæ¯æ¬¡æ›´æ–°çš„å¢é‡éƒ¨åˆ†æ˜¯æ˜ç¡®çš„ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨è¿™éƒ¨åˆ†å¢é‡å»åšåŠ æ³•ï¼Ÿå¢é‡éƒ¨åˆ†é€šè¿‡ markdown-it çš„åº“æ— æ³•ç›´æ¥è·å–ï¼Œä½†æ›´å¥½çš„åšæ³•æ˜¯åœ¨è¿™ä¸€æ­¥è¿›è¡Œæ”¹é€ ï¼šå…ˆè§£æ Markdown çš„ç»“æ„ï¼Œå†åˆ©ç”¨ Vue çš„åŠ¨æ€æ¸²æŸ“èƒ½åŠ›ç”Ÿæˆ DOMã€‚è¿™æ ·ï¼ŒDOM çš„å¤ç”¨å°±å¯ä»¥å€ŸåŠ© Vue è‡ªèº«çš„èƒ½åŠ›æ¥å®ç°ã€‚â€”â€” <a href="https://site.j10c.cc/" rel="nofollow"><!--[-->j10c<!--]--></a><!--]--></p><!--]--></blockquote><blockquote><!--[--><p><!--[-->å¯ä»¥ç”¨ unified ç»“åˆ remark-parse æ’ä»¶ï¼Œå°† markdown å­—ç¬¦ä¸²è§£æä¸º astï¼Œç„¶åæ ¹æ® ast ä½¿ç”¨ render func è¿›è¡Œæ¸²æŸ“å³å¯ã€‚â€”â€” bii &amp; <a href="https://github.com/nekomeowww" rel="nofollow"><!--[-->nekomeowww<!--]--></a><!--]--></p><!--]--></blockquote><h2 id="æ–°æ€è·¯ä»å­—ç¬¦ä¸²è½¬æ¢åˆ°ç»“æ„åŒ–æ¸²æŸ“" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->æ–°æ€è·¯ï¼šä»â€œå­—ç¬¦ä¸²è½¬æ¢â€åˆ°â€œç»“æ„åŒ–æ¸²æŸ“â€<!--]--><a href="#æ–°æ€è·¯ä»å­—ç¬¦ä¸²è½¬æ¢åˆ°ç»“æ„åŒ–æ¸²æŸ“" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->æˆ‘ä»¬ä¹‹å‰çš„æ–¹æ¡ˆï¼Œæ— è®ºæ˜¯ <code><!--[-->v-html<!--]--></code> è¿˜æ˜¯ <code><!--[-->morphdom<!--]--></code>ï¼Œå…¶æ ¸å¿ƒæ€è·¯éƒ½æ˜¯ï¼š<!--]--></p><p><!--[--><code><!--[-->Markdown å­—ç¬¦ä¸²<!--]--></code> -&gt; <code><!--[-->markdown-it<!--]--></code> -&gt; <code><!--[-->HTML å­—ç¬¦ä¸²<!--]--></code> -&gt; <code><!--[-->æµè§ˆå™¨/morphdom<!--]--></code> -&gt; <code><!--[-->DOM<!--]--></code><!--]--></p><p><!--[-->è¿™æ¡é“¾è·¯çš„é—®é¢˜åœ¨äºï¼Œä» <code><!--[-->HTML å­—ç¬¦ä¸²<!--]--></code> è¿™ä¸€æ­¥å¼€å§‹ï¼Œæˆ‘ä»¬å°±ä¸¢å¤±äº† Markdown çš„<strong><!--[-->åŸå§‹ç»“æ„ä¿¡æ¯<!--]--></strong>ã€‚æˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€å †éç»“æ„åŒ–çš„æ–‡æœ¬ï¼ŒVue æ— æ³•ç†è§£å…¶å†…åœ¨é€»è¾‘ï¼Œåªèƒ½å°†å…¶å›«å›µåä¸‹ã€‚<!--]--></p><p><!--[-->è€Œæ–°çš„æ€è·¯åˆ™æ˜¯å°†æµç¨‹æ”¹é€ ä¸ºï¼š<!--]--></p><p><!--[--><code><!--[-->Markdown å­—ç¬¦ä¸²<!--]--></code> -&gt; <code><!--[-->AST (æŠ½è±¡è¯­æ³•æ ‘)<!--]--></code> -&gt; <code><!--[-->Vue VNodes (è™šæ‹ŸèŠ‚ç‚¹)<!--]--></code> -&gt; <code><!--[-->Vue<!--]--></code> -&gt; <code><!--[-->DOM<!--]--></code><!--]--></p><h3 id="ä»€ä¹ˆæ˜¯-ast" class="prose-heading prose-h3" data-v-894c4550><!--[-->ä»€ä¹ˆæ˜¯ ASTï¼Ÿ<!--]--><a href="#ä»€ä¹ˆæ˜¯-ast" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[--><strong><!--[-->AST (Abstract Syntax Tree)<!--]--></strong> ï¼Œå³æŠ½è±¡è¯­æ³•æ ‘ï¼Œæ˜¯æºä»£ç æˆ–æ ‡è®°è¯­è¨€çš„ç»“æ„åŒ–è¡¨ç¤ºã€‚å®ƒå°†ä¸€é•¿ä¸²çš„æ–‡æœ¬ï¼Œè§£ææˆä¸€ä¸ªå±‚çº§åˆ†æ˜çš„æ ‘çŠ¶å¯¹è±¡ã€‚å¯¹äº Markdown æ¥è¯´ï¼Œä¸€ä¸ªä¸€çº§æ ‡é¢˜ä¼šå˜æˆä¸€ä¸ª <code><!--[-->type: &#39;heading&#39;, depth: 1<!--]--></code> çš„èŠ‚ç‚¹ï¼Œä¸€ä¸ªæ®µè½ä¼šå˜æˆä¸€ä¸ª <code><!--[-->type: &#39;paragraph&#39;<!--]--></code> çš„èŠ‚ç‚¹ï¼Œè€Œæ®µè½é‡Œçš„æ–‡å­—ï¼Œåˆ™æ˜¯ <code><!--[-->paragraph<!--]--></code> èŠ‚ç‚¹çš„ <code><!--[-->children<!--]--></code>ã€‚<!--]--></p><p><!--[-->ä¸€æ—¦æˆ‘ä»¬å°† Markdown è½¬æ¢æˆ ASTï¼Œå°±ç›¸å½“äºæ‹¥æœ‰äº†æ•´ä¸ªæ–‡æ¡£çš„â€œç»“æ„å›¾çº¸â€ã€‚æˆ‘ä»¬ä¸å†æ˜¯é¢å¯¹ä¸€å †æ¨¡ç³Šçš„ HTML å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯é¢å¯¹ä¸€ä¸ªæ¸…æ™°ã€å¯ç¼–ç¨‹çš„ JavaScript å¯¹è±¡ã€‚<!--]--></p><h3 id="æˆ‘ä»¬çš„æ–°å·¥å…·unified-ä¸-remark" class="prose-heading prose-h3" data-v-894c4550><!--[-->æˆ‘ä»¬çš„æ–°å·¥å…·ï¼šunified ä¸ remark<!--]--><a href="#æˆ‘ä»¬çš„æ–°å·¥å…·unified-ä¸-remark" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->ä¸ºäº†å®ç° <code><!--[-->Markdown -&gt; AST<!--]--></code> çš„è½¬æ¢ï¼Œæˆ‘ä»¬å¼•å…¥ <code><!--[-->unified<!--]--></code> ç”Ÿæ€ã€‚<!--]--></p><ul><!--[--><li><!--[--><strong><!--[--><a href="https://github.com/unifiedjs/unified" rel="nofollow"><!--[-->unified<!--]--></a><!--]--></strong>: ä¸€ä¸ªå¼ºå¤§çš„å†…å®¹å¤„ç†å¼•æ“ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€æ¡æµæ°´çº¿ï¼ŒåŸå§‹æ–‡æœ¬æ˜¯åŸæ–™ï¼Œé€šè¿‡æ·»åŠ ä¸åŒçš„â€œæ’ä»¶â€æ¥å¯¹å®ƒè¿›è¡Œè§£æã€è½¬æ¢å’Œåºåˆ—åŒ–ã€‚<!--]--></li><li><!--[--><strong><!--[--><a href="https://github.com/remarkjs/remark" rel="nofollow"><!--[-->remark-parse<!--]--></a><!--]--></strong>: ä¸€ä¸ª <code><!--[-->unified<!--]--></code> æ’ä»¶ï¼Œä¸“é—¨è´Ÿè´£å°† Markdown æ–‡æœ¬è§£ææˆ ASTï¼ˆå…·ä½“æ¥è¯´æ˜¯ <a href="https://github.com/syntax-tree/mdast" rel="nofollow"><!--[-->mdast<!--]--></a> æ ¼å¼ï¼‰ã€‚<!--]--></li><!--]--></ul><h2 id="ç¬¬ä¸€æ­¥å°†-markdown-è§£æä¸º-ast" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->ç¬¬ä¸€æ­¥ï¼šå°† Markdown è§£æä¸º AST<!--]--><a href="#ç¬¬ä¸€æ­¥å°†-markdown-è§£æä¸º-ast" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ç›¸å…³ä¾èµ–ï¼š<!--]--></p><pre class="language-bash shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="sAdtL">npm</span><span class="sDhpE"> install</span><span class="sDhpE"> unified</span><span class="sDhpE"> remark-parse
</span></span></code><!--]--></pre><p><!--[-->ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°† Markdown å­—ç¬¦ä¸²è½¬æ¢ä¸º ASTï¼š<!--]--></p><pre class="language-javascript shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">unified</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;unified&#39;
</span></span><span class="line" line="2"><span class="sLKXg">import</span><span class="sJa8x"> remarkParse</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;remark-parse&#39;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sDhpE"> &#39;# Hello, AST!</span><span class="s_Sar">\n\n</span><span class="sDhpE">This is a paragraph.&#39;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span class="sW2Sy">// åˆ›å»ºä¸€ä¸ªå¤„ç†å™¨å®ä¾‹
</span></span><span class="line" line="7"><span class="sLKXg">const</span><span class="sNmU0"> processor</span><span class="s_Sar"> =</span><span class="sAdtL"> unified</span><span class="s5ixo">().</span><span class="sAdtL">use</span><span class="s5ixo">(</span><span class="sz0mV">remarkParse</span><span class="s5ixo">)
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="sW2Sy">// è§£æ Markdown å†…å®¹
</span></span><span class="line" line="10"><span class="sLKXg">const</span><span class="sNmU0"> ast</span><span class="s_Sar"> =</span><span class="s7GmK"> processor</span><span class="s5ixo">.</span><span class="sAdtL">parse</span><span class="s5ixo">(</span><span class="sz0mV">markdownContent</span><span class="s5ixo">)
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span class="s7GmK">console</span><span class="s5ixo">.</span><span class="sAdtL">log</span><span class="s5ixo">(</span><span class="sNmU0">JSON</span><span class="s5ixo">.</span><span class="sAdtL">stringify</span><span class="s5ixo">(</span><span class="sz0mV">ast</span><span class="s5ixo">, </span><span class="sAGMh">null</span><span class="s5ixo">, </span><span class="sAGMh">2</span><span class="s5ixo">))
</span></span></code><!--]--></pre><p><!--[-->è¿è¡Œä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„ JSON å¯¹è±¡ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ¢¦å¯ä»¥æ±‚çš„ ASTï¼š<!--]--></p><pre class="language-json shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">{
</span></span><span class="line" line="2"><span class="sJa8x">  &quot;type&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;root&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="3"><span class="sJa8x">  &quot;children&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="4"><span class="s5ixo">    {
</span></span><span class="line" line="5"><span class="sJa8x">      &quot;type&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;heading&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="6"><span class="sJa8x">      &quot;depth&quot;</span><span class="s5ixo">: </span><span class="sAGMh">1</span><span class="s5ixo">,
</span></span><span class="line" line="7"><span class="sJa8x">      &quot;children&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="8"><span class="s5ixo">        {
</span></span><span class="line" line="9"><span class="sJa8x">          &quot;type&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;text&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="10"><span class="sJa8x">          &quot;value&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;Hello, AST!&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="11"><span class="sJa8x">          &quot;position&quot;</span><span class="s5ixo">: { </span><span class="sUNH4">...</span><span class="s5ixo"> }
</span></span><span class="line" line="12"><span class="s5ixo">        }
</span></span><span class="line" line="13"><span class="s5ixo">      ],
</span></span><span class="line" line="14"><span class="sJa8x">      &quot;position&quot;</span><span class="s5ixo">: { </span><span class="sUNH4">...</span><span class="s5ixo"> }
</span></span><span class="line" line="15"><span class="s5ixo">    },
</span></span><span class="line" line="16"><span class="s5ixo">    {
</span></span><span class="line" line="17"><span class="sJa8x">      &quot;type&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;paragraph&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="18"><span class="sJa8x">      &quot;children&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="19"><span class="s5ixo">        {
</span></span><span class="line" line="20"><span class="sJa8x">          &quot;type&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;text&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="21"><span class="sJa8x">          &quot;value&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;This is a paragraph.&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="22"><span class="sJa8x">          &quot;position&quot;</span><span class="s5ixo">: { </span><span class="sUNH4">...</span><span class="s5ixo"> }
</span></span><span class="line" line="23"><span class="s5ixo">        }
</span></span><span class="line" line="24"><span class="s5ixo">      ],
</span></span><span class="line" line="25"><span class="sJa8x">      &quot;position&quot;</span><span class="s5ixo">: { </span><span class="sUNH4">...</span><span class="s5ixo"> }
</span></span><span class="line" line="26"><span class="s5ixo">    }
</span></span><span class="line" line="27"><span class="s5ixo">  ],
</span></span><span class="line" line="28"><span class="sJa8x">  &quot;position&quot;</span><span class="s5ixo">: { </span><span class="sUNH4">...</span><span class="s5ixo"> }
</span></span><span class="line" line="29"><span class="s5ixo">}
</span></span></code><!--]--></pre><h2 id="ç¬¬äºŒæ­¥ä»-ast-åˆ°-vue-vnodes" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->ç¬¬äºŒæ­¥ï¼šä» AST åˆ° Vue VNodes<!--]--><a href="#ç¬¬äºŒæ­¥ä»-ast-åˆ°-vue-vnodes" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->æ‹¿åˆ°äº† ASTï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å°†è¿™ä¸ªâ€œç»“æ„å›¾çº¸â€çœŸæ­£åœ°â€œæ–½å·¥â€æˆç”¨æˆ·å¯è§çš„ç•Œé¢ã€‚åœ¨ Vue çš„ä¸–ç•Œé‡Œï¼Œæè¿° UI çš„è“å›¾å°±æ˜¯è™šæ‹ŸèŠ‚ç‚¹ (VNode)ï¼Œè€Œ <code><!--[-->h()<!--]--></code> å‡½æ•°ï¼ˆå³ hyperscriptï¼‰å°±æ˜¯åˆ›å»º VNode çš„ç”»ç¬”ã€‚<!--]--></p><p><!--[-->æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯ç¼–å†™ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿé€’å½’åœ°éå† ASTï¼Œå¹¶ä¸ºæ¯ä¸€ç§èŠ‚ç‚¹ç±»å‹ï¼ˆ<code><!--[-->heading<!--]--></code>, <code><!--[-->paragraph<!--]--></code>, <code><!--[-->text<!--]--></code> ç­‰ï¼‰ç”Ÿæˆå¯¹åº”çš„ VNodeã€‚<!--]--></p><p><!--[-->ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ¸²æŸ“å‡½æ•°å®ç°ï¼š<!--]--></p><pre class="language-javascript shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="sLKXg">function</span><span class="sAdtL"> renderAst</span><span class="s5ixo">(</span><span class="s8iYz">node</span><span class="s5ixo">) {
</span></span><span class="line" line="2"><span class="sLKXg">  if</span><span class="s5ixo"> (</span><span class="s_Sar">!</span><span class="sz0mV">node</span><span class="s5ixo">) </span><span class="sLKXg">return</span><span class="sAGMh"> null
</span></span><span class="line" line="3"><span class="sLKXg">  switch</span><span class="s5ixo"> (</span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="sJa8x">type</span><span class="s5ixo">) {
</span></span><span class="line" line="4"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;root&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="5"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;div&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="6"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;paragraph&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="7"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;p&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="8"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;text&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="9"><span class="sLKXg">      return</span><span class="s7GmK"> node</span><span class="s5ixo">.</span><span class="sJa8x">value
</span></span><span class="line" line="10"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;emphasis&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="11"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;em&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="12"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;strong&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="13"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;strong&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="14"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;inlineCode&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="15"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;code&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">)
</span></span><span class="line" line="16"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;heading&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="17"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;h&#39;</span><span class="s_Sar"> +</span><span class="s7GmK"> node</span><span class="s5ixo">.</span><span class="sJa8x">depth</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="18"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;code&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="19"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;pre&#39;</span><span class="s5ixo">, {}, [</span><span class="sAdtL">h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;code&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="sj4iG">value</span><span class="s5ixo">)])
</span></span><span class="line" line="20"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;list&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="21"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="sJa8x">ordered</span><span class="s7DPa"> ?</span><span class="sDhpE"> &#39;ol&#39;</span><span class="s7DPa"> :</span><span class="sDhpE"> &#39;ul&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="22"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;listItem&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="23"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;li&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="24"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;thematicBreak&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="25"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;hr&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="26"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;blockquote&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="27"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;blockquote&#39;</span><span class="s5ixo">, {}, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="28"><span class="sLKXg">    case</span><span class="sDhpE"> &#39;link&#39;</span><span class="s5ixo">:
</span></span><span class="line" line="29"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;a&#39;</span><span class="s5ixo">, { </span><span class="sJa8x">href</span><span class="st7oF">:</span><span class="s7GmK"> node</span><span class="s5ixo">.</span><span class="sJa8x">url</span><span class="s5ixo">, </span><span class="sJa8x">target</span><span class="st7oF">:</span><span class="sDhpE"> &#39;_blank&#39;</span><span class="s5ixo"> }, </span><span class="s7GmK">node</span><span class="s5ixo">.</span><span class="s2QsP">children</span><span class="s5ixo">.</span><span class="sAdtL">map</span><span class="s5ixo">(</span><span class="sz0mV">renderAst</span><span class="s5ixo">))
</span></span><span class="line" line="30"><span class="sLKXg">    default</span><span class="s5ixo">:
</span></span><span class="line" line="31"><span class="sW2Sy">      // å…¶å®ƒæœªå®ç°ç±»å‹
</span></span><span class="line" line="32"><span class="sLKXg">      return</span><span class="sAdtL"> h</span><span class="s5ixo">(</span><span class="sDhpE">&#39;span&#39;</span><span class="s5ixo">, { }, </span><span class="sDhpE">`[</span><span class="sAOjX">${</span><span class="s7GmK">node</span><span class="sMj0N">.</span><span class="sJa8x">type</span><span class="sAOjX">}</span><span class="sDhpE">]`</span><span class="s5ixo">)
</span></span><span class="line" line="33"><span class="s5ixo">  }
</span></span><span class="line" line="34"><span class="s5ixo">}
</span></span></code><!--]--></pre><h2 id="ç¬¬ä¸‰æ­¥å°è£…-vue-ç»„ä»¶" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->ç¬¬ä¸‰æ­¥ï¼šå°è£… Vue ç»„ä»¶<!--]--><a href="#ç¬¬ä¸‰æ­¥å°è£…-vue-ç»„ä»¶" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->æ•´åˆä¸Šè¿°é€»è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ª Vue ç»„ä»¶ã€‚é‰´äºç›´æ¥ç”Ÿæˆ VNode çš„ç‰¹æ€§ï¼Œé‡‡ç”¨å‡½æ•°å¼ç»„ä»¶æˆ–æ˜¾å¼ <code><!--[-->render<!--]--></code> å‡½æ•°æœ€ä¸ºé€‚å®œã€‚<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">component</span><span class="s5ixo"> :</span><span class="sAGMh">is</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">VNodeTree</span><span class="s5ixo">&quot;</span><span class="s5ixo"> /&gt;
</span></span><span class="line" line="3"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">computed</span><span class="s5ixo">, </span><span class="sJa8x">h</span><span class="s5ixo">, </span><span class="sJa8x">shallowRef</span><span class="s5ixo">, </span><span class="sJa8x">watchEffect</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;
</span></span><span class="line" line="7"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">unified</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;unified&#39;
</span></span><span class="line" line="8"><span class="sLKXg">import</span><span class="sJa8x"> remarkParse</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;remark-parse&#39;
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span class="sLKXg">const</span><span class="sNmU0"> props</span><span class="s_Sar"> =</span><span class="sAdtL"> defineProps</span><span class="s5ixo">({
</span></span><span class="line" line="11"><span class="sJa8x">  mdText</span><span class="st7oF">:</span><span class="s5ixo"> {
</span></span><span class="line" line="12"><span class="sJa8x">    type</span><span class="st7oF">:</span><span class="sz0mV"> String</span><span class="s5ixo">,
</span></span><span class="line" line="13"><span class="sJa8x">    default</span><span class="st7oF">:</span><span class="sDhpE"> &#39;&#39;
</span></span><span class="line" line="14"><span class="s5ixo">  }
</span></span><span class="line" line="15"><span class="s5ixo">})
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span class="sLKXg">const</span><span class="sNmU0"> ast</span><span class="s_Sar"> =</span><span class="sAdtL"> shallowRef</span><span class="s5ixo">(</span><span class="sAGMh">null</span><span class="s5ixo">)
</span></span><span class="line" line="18"><span class="sLKXg">const</span><span class="sNmU0"> parser</span><span class="s_Sar"> =</span><span class="sAdtL"> unified</span><span class="s5ixo">().</span><span class="sAdtL">use</span><span class="s5ixo">(</span><span class="sz0mV">remarkParse</span><span class="s5ixo">)
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span class="sAdtL">watchEffect</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="s5ixo"> {
</span></span><span class="line" line="21"><span class="s7GmK">  ast</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s_Sar"> =</span><span class="s7GmK"> parser</span><span class="s5ixo">.</span><span class="sAdtL">parse</span><span class="s5ixo">(</span><span class="s7GmK">props</span><span class="s5ixo">.</span><span class="sJa8x">mdText</span><span class="s5ixo">)
</span></span><span class="line" line="22"><span class="s5ixo">})
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span class="sW2Sy">// AST æ¸²æŸ“å‡½æ•° (åŒä¸Šæ–‡ renderAst å‡½æ•°)
</span></span><span class="line" line="25"><span class="sLKXg">function</span><span class="sAdtL"> renderAst</span><span class="s5ixo">(</span><span class="s8iYz">node</span><span class="s5ixo">) { </span><span class="st7oF">...</span><span class="s5ixo"> }
</span></span><span class="line" line="26"><span emptylineplaceholder="true">
</span></span><span class="line" line="27"><span class="sLKXg">const</span><span class="sNmU0"> VNodeTree</span><span class="s_Sar"> =</span><span class="sAdtL"> computed</span><span class="s5ixo">(() </span><span class="sLKXg">=&gt;</span><span class="sAdtL"> renderAst</span><span class="s5ixo">(</span><span class="s7GmK">ast</span><span class="s5ixo">.</span><span class="sJa8x">value</span><span class="s5ixo">))
</span></span><span class="line" line="28"><span emptylineplaceholder="true">
</span></span><span class="line" line="29"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><p><!--[-->ç°åœ¨å°±å¯ä»¥åƒä½¿ç”¨æ™®é€šç»„ä»¶ä¸€æ ·ä½¿ç”¨å®ƒäº†ï¼š<!--]--></p><pre class="language-vue shiki shiki-themes one-light one-dark-pro" style=""><!--[--><code><span class="line" line="1"><span class="s5ixo">&lt;</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="2"><span class="s5ixo">  &lt;</span><span class="sJa8x">MarkdownRenderer</span><span class="s5ixo"> :</span><span class="sAGMh">mdText</span><span class="s5ixo">=</span><span class="s5ixo">&quot;</span><span class="sz0mV">markdownContent</span><span class="s5ixo">&quot;</span><span class="s5ixo"> /&gt;
</span></span><span class="line" line="3"><span class="s5ixo">&lt;/</span><span class="sJa8x">template</span><span class="s5ixo">&gt;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s5ixo">&lt;</span><span class="sJa8x">script</span><span class="sAGMh"> setup</span><span class="s5ixo">&gt;
</span></span><span class="line" line="6"><span class="sLKXg">import</span><span class="s5ixo"> { </span><span class="sJa8x">ref</span><span class="s5ixo"> } </span><span class="sLKXg">from</span><span class="sDhpE"> &#39;vue&#39;
</span></span><span class="line" line="7"><span class="sLKXg">import</span><span class="sJa8x"> MarkdownRenderer</span><span class="sLKXg"> from</span><span class="sDhpE"> &#39;./MarkdownRenderer.vue&#39;
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="sLKXg">const</span><span class="sNmU0"> markdownContent</span><span class="s_Sar"> =</span><span class="sAdtL"> ref</span><span class="s5ixo">(</span><span class="sDhpE">&#39;# Hello Vue</span><span class="s_Sar">\n\n</span><span class="sDhpE">This is rendered via AST!&#39;</span><span class="s5ixo">)
</span></span><span class="line" line="10"><span class="s5ixo">&lt;/</span><span class="sJa8x">script</span><span class="s5ixo">&gt;
</span></span></code><!--]--></pre><h2 id="ast-æ–¹æ¡ˆçš„å·¨å¤§ä¼˜åŠ¿" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->AST æ–¹æ¡ˆçš„å·¨å¤§ä¼˜åŠ¿<!--]--><a href="#ast-æ–¹æ¡ˆçš„å·¨å¤§ä¼˜åŠ¿" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->åˆ‡æ¢åˆ° AST èµ›é“åï¼Œæˆ‘ä»¬è·å¾—äº†å‰æ‰€æœªæœ‰çš„è¶…èƒ½åŠ›ï¼š<!--]--></p><ol><!--[--><li><!--[--><strong><!--[-->åŸç”Ÿé›†æˆï¼Œæ€§èƒ½å“è¶Š<!--]--></strong>ï¼šæˆ‘ä»¬ä¸å†éœ€è¦ <code><!--[-->v-html<!--]--></code> çš„æš´åŠ›åˆ·æ–°ï¼Œä¹Ÿä¸å†éœ€è¦ <code><!--[-->morphdom<!--]--></code> è¿™æ ·çš„â€œå¤–æ´â€ã€‚æ‰€æœ‰æ›´æ–°éƒ½äº¤ç”± Vue è‡ªå·±çš„ Diff ç®—æ³•å¤„ç†ï¼Œè¿™ä¸ä»…æ€§èƒ½æé«˜ï¼Œè€Œä¸”å®Œå…¨ç¬¦åˆ Vue çš„è®¾è®¡å“²å­¦ï¼Œæ˜¯çœŸæ­£çš„â€œè‡ªå·±äººâ€ã€‚<!--]--></li><li><!--[--><strong><!--[-->é«˜åº¦çµæ´»æ€§ä¸å¯æ‰©å±•æ€§<!--]--></strong>ï¼šAST ä½œä¸ºå¯ç¼–ç¨‹çš„ JavaScript å¯¹è±¡ï¼Œä¸ºå®šåˆ¶åŒ–å¤„ç†æä¾›äº†åšå®åŸºç¡€ï¼š
<ul><!--[--><li><!--[--><strong><!--[-->å…ƒç´ æ›¿æ¢<!--]--></strong>ï¼šå¯å°†åŸç”Ÿå…ƒç´ ï¼ˆå¦‚ <code><!--[-->&lt;h2&gt;<!--]--></code>ï¼‰æ— ç¼æ›¿æ¢ä¸ºè‡ªå®šä¹‰ Vue ç»„ä»¶ï¼ˆå¦‚ <code><!--[-->&lt;FancyHeading&gt;<!--]--></code>ï¼‰ï¼Œä»…åœ¨ <code><!--[-->renderAst<!--]--></code> å‡½æ•°ä¸­è°ƒæ•´å¯¹åº” <code><!--[-->case<!--]--></code> é€»è¾‘å³å¯ã€‚<!--]--></li><li><!--[--><strong><!--[-->é€»è¾‘æ³¨å…¥<!--]--></strong>ï¼šå¯ä¾¿æ·åœ°ä¸ºå¤–éƒ¨é“¾æ¥ <code><!--[-->&lt;a&gt;<!--]--></code> æ·»åŠ  <code><!--[-->target=&quot;_blank&quot;<!--]--></code> ä¸ <code><!--[-->rel=&quot;noopener noreferrer&quot;<!--]--></code> å±æ€§ï¼Œæˆ–ä¸ºå›¾ç‰‡ <code><!--[-->&lt;img&gt;<!--]--></code> åŒ…è£¹æ‡’åŠ è½½ç»„ä»¶ï¼Œæ­¤ç±»æ“ä½œåœ¨ AST å±‚é¢æ˜“äºå®ç°ã€‚<!--]--></li><li><!--[--><strong><!--[-->ç”Ÿæ€é›†æˆ<!--]--></strong>ï¼šå……åˆ†åˆ©ç”¨ <code><!--[-->unified<!--]--></code> ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ï¼ˆå¦‚ <code><!--[-->remark-gfm<!--]--></code> æ”¯æŒ GFM è¯­æ³•ï¼Œ<code><!--[-->remark-prism<!--]--></code> å®ç°ä»£ç é«˜äº®ï¼‰ï¼Œä»…éœ€åœ¨å¤„ç†å™¨é“¾ä¸­å¼•å…¥ç›¸åº”æ’ä»¶ï¼ˆ<code><!--[-->.use(pluginName)<!--]--></code>ï¼‰ã€‚<!--]--></li><!--]--></ul><!--]--></li><li><!--[--><strong><!--[-->å…³æ³¨ç‚¹åˆ†ç¦»<!--]--></strong>ï¼šè§£æé€»è¾‘ï¼ˆ<code><!--[-->remark<!--]--></code>ï¼‰ã€æ¸²æŸ“é€»è¾‘ï¼ˆ<code><!--[-->renderAst<!--]--></code>ï¼‰å’Œä¸šåŠ¡é€»è¾‘ï¼ˆVue ç»„ä»¶ï¼‰è¢«æ¸…æ™°åœ°åˆ†ç¦»å¼€æ¥ï¼Œä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œç»´æŠ¤æ€§æ›´å¼ºã€‚<!--]--></li><li><!--[--><strong><!--[-->ç±»å‹å®‰å…¨ä¸å¯é¢„æµ‹æ€§<!--]--></strong>ï¼šç›¸è¾ƒäºæ“ä½œå­—ç¬¦ä¸²æˆ–åŸå§‹ HTMLï¼ŒåŸºäºç»“æ„åŒ– AST çš„æ¸²æŸ“é€»è¾‘æ›´æ˜“äºè¿›è¡Œç±»å‹æ ¡éªŒä¸é€»è¾‘æ¨ç†ã€‚<!--]--></li><!--]--></ol><h2 id="ç»“è®ºä»åŠŸèƒ½å®ç°åˆ°æ¶æ„ä¼˜åŒ–çš„æ¼”è¿›" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->ç»“è®ºï¼šä»åŠŸèƒ½å®ç°åˆ°æ¶æ„ä¼˜åŒ–çš„æ¼”è¿›<!--]--><a href="#ç»“è®ºä»åŠŸèƒ½å®ç°åˆ°æ¶æ„ä¼˜åŒ–çš„æ¼”è¿›" class="heading-anchor" aria-label="é“¾æ¥åˆ°æ­¤æ ‡é¢˜" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->å›é¡¾ä¼˜åŒ–å†ç¨‹ï¼š<!--]--></p><ul><!--[--><li><!--[--><strong><!--[-->v-html<!--]--></strong>ï¼šå®ç°ç®€å•ï¼Œä½†å­˜åœ¨æ€§èƒ½ä¸å®‰å…¨æ€§éšæ‚£ã€‚<!--]--></li><li><!--[--><strong><!--[-->åˆ†å—æ›´æ–°<!--]--></strong>ï¼šç¼“è§£äº†éƒ¨åˆ†æ€§èƒ½é—®é¢˜ï¼Œä½†æ–¹æ¡ˆå­˜åœ¨å±€é™æ€§ã€‚<!--]--></li><li><!--[--><strong><!--[-->morphdom<!--]--></strong>ï¼šæœ‰æ•ˆæå‡äº†æ€§èƒ½ä¸ç”¨æˆ·ä½“éªŒï¼Œä½†ä¸ Vue æ ¸å¿ƒæœºåˆ¶å­˜åœ¨éš”é˜‚ã€‚<!--]--></li><li><!--[--><strong><!--[-->AST + å‡½æ•°å¼æ¸²æŸ“<!--]--></strong>ï¼šå›å½’ Vue åŸç”ŸèŒƒå¼ï¼Œæä¾›äº†æ€§èƒ½ã€çµæ´»æ€§ã€å¯ç»´æŠ¤æ€§ä¿±ä½³çš„ç»ˆæè§£å†³æ–¹æ¡ˆã€‚<!--]--></li><!--]--></ul><p><!--[-->é€šè¿‡é‡‡ç”¨ ASTï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†å…·ä½“çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œæ›´é‡è¦çš„æ˜¯å®ç°äº†æ€ç»´èŒƒå¼çš„è½¬å˜â€”â€”ä»é¢å‘ç»“æœï¼ˆHTML å­—ç¬¦ä¸²ï¼‰çš„ç¼–ç¨‹ï¼Œè½¬å‘é¢å‘è¿‡ç¨‹ä¸ç»“æ„ï¼ˆASTï¼‰çš„ç¼–ç¨‹ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ·±å…¥å†…å®¹æœ¬è´¨ï¼Œä»è€Œå®ç°å¯¹æ¸²æŸ“æµç¨‹çš„ç²¾ç¡®æ§åˆ¶ã€‚<!--]--></p><p><!--[-->æœ¬æ¬¡ä»â€œå…¨é‡åˆ·æ–°â€åˆ°â€œç»“æ„åŒ–æ¸²æŸ“â€çš„ä¼˜åŒ–å®è·µï¼Œä¸ä»…æ˜¯ä¸€æ¬¡æ€§èƒ½æå‡çš„æŠ€æœ¯è¿‡ç¨‹ï¼Œæ›´æ˜¯ä¸€æ¬¡æ·±å…¥ç†è§£ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–æ€æƒ³çš„ç³»ç»Ÿæ€§æ¢ç´¢ã€‚æœ€ç»ˆå®ç°çš„ Markdown æ¸²æŸ“æ–¹æ¡ˆï¼Œåœ¨æ€§èƒ½ã€åŠŸèƒ½æ€§ä¸æ¶æ„ä¼˜é›…æ€§ä¸Šå‡è¾¾åˆ°äº†è¾ƒé«˜æ°´å‡†ã€‚<!--]--></p><style>html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sNmU0, html code.shiki .sNmU0{--shiki-default:#986801;--shiki-dark:#E5C07B}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sz0mV, html code.shiki .sz0mV{--shiki-default:#383A42;--shiki-dark:#E06C75}html pre.shiki code .s7GmK, html code.shiki .s7GmK{--shiki-default:#383A42;--shiki-dark:#E5C07B}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .sUNH4, html code.shiki .sUNH4{--shiki-default:white;--shiki-dark:#FFFFFF}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .sj4iG, html code.shiki .sj4iG{--shiki-default:#C18401;--shiki-dark:#E06C75}html pre.shiki code .s7DPa, html code.shiki .s7DPa{--shiki-default:#0184BC;--shiki-dark:#C678DD}html pre.shiki code .st7oF, html code.shiki .st7oF{--shiki-default:#0184BC;--shiki-dark:#ABB2BF}html pre.shiki code .sAOjX, html code.shiki .sAOjX{--shiki-default:#CA1243;--shiki-dark:#C678DD}html pre.shiki code .sMj0N, html code.shiki .sMj0N{--shiki-default:#50A14F;--shiki-dark:#ABB2BF}</style></article><nav class="post-navigation" data-v-2c7dffe3 data-v-f7d5c848><a class="nav-button prev" href="/2025/08/11/dns-resolve-time-destroyed-my-optimization-for-pic-cdn/" data-v-f7d5c848><div class="nav-arrow" data-v-f7d5c848>â†</div><div class="nav-content" data-v-f7d5c848><span class="nav-label" data-v-f7d5c848>ä¸Šä¸€ç¯‡</span><span class="nav-title" data-v-f7d5c848>DNS è§£ææ—¶é•¿æ¯äº†æˆ‘ç²¾å¿ƒè®¾è®¡çš„å›¾åºŠç½‘ç»œæ¶æ„</span></div></a><a class="nav-button next" href="/2025/07/12/vue-markdown-render-improvement-1/" data-v-f7d5c848><div class="nav-content" data-v-f7d5c848><span class="nav-label" data-v-f7d5c848>ä¸‹ä¸€ç¯‡</span><span class="nav-title" data-v-f7d5c848>Vue Markdown æ¸²æŸ“ä¼˜åŒ–å®æˆ˜(ä¸Š)ï¼šä»æš´åŠ›åˆ·æ–°ã€åˆ†å—æ›´æ–°åˆ° Morphdom çš„åä¸½å˜èº«</span></div><div class="nav-arrow" data-v-f7d5c848>â†’</div></a></nav><hr data-v-2c7dffe3><div id="waline" data-v-2c7dffe3><span></span></div><!--]--></main><div class="after-main side" data-v-74b56342><!--[--><aside data-v-2c7dffe3><nav class="toc" data-v-2c7dffe3 data-v-ae70bcd1><div class="toc-title" data-v-ae70bcd1>ç›®å½•</div><ul class="toc-list" data-v-ae70bcd1><!--[--><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ä¸Šå›å›é¡¾å½“-morphdom-é‡ä¸Š-vue" data-v-ae70bcd1>ä¸Šå›å›é¡¾ï¼šå½“ morphdom é‡ä¸Š Vue</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#æ–°æ€è·¯ä»å­—ç¬¦ä¸²è½¬æ¢åˆ°ç»“æ„åŒ–æ¸²æŸ“" data-v-ae70bcd1>æ–°æ€è·¯ï¼šä»â€œå­—ç¬¦ä¸²è½¬æ¢â€åˆ°â€œç»“æ„åŒ–æ¸²æŸ“â€</a></li><li class="toc-item toc-level-3" data-v-ae70bcd1><a href="#ä»€ä¹ˆæ˜¯-ast" data-v-ae70bcd1>ä»€ä¹ˆæ˜¯ ASTï¼Ÿ</a></li><li class="toc-item toc-level-3" data-v-ae70bcd1><a href="#æˆ‘ä»¬çš„æ–°å·¥å…·unified-ä¸-remark" data-v-ae70bcd1>æˆ‘ä»¬çš„æ–°å·¥å…·ï¼šunified ä¸ remark</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ç¬¬ä¸€æ­¥å°†-markdown-è§£æä¸º-ast" data-v-ae70bcd1>ç¬¬ä¸€æ­¥ï¼šå°† Markdown è§£æä¸º AST</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ç¬¬äºŒæ­¥ä»-ast-åˆ°-vue-vnodes" data-v-ae70bcd1>ç¬¬äºŒæ­¥ï¼šä» AST åˆ° Vue VNodes</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ç¬¬ä¸‰æ­¥å°è£…-vue-ç»„ä»¶" data-v-ae70bcd1>ç¬¬ä¸‰æ­¥ï¼šå°è£… Vue ç»„ä»¶</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ast-æ–¹æ¡ˆçš„å·¨å¤§ä¼˜åŠ¿" data-v-ae70bcd1>AST æ–¹æ¡ˆçš„å·¨å¤§ä¼˜åŠ¿</a></li><li class="toc-item toc-level-2" data-v-ae70bcd1><a href="#ç»“è®ºä»åŠŸèƒ½å®ç°åˆ°æ¶æ„ä¼˜åŒ–çš„æ¼”è¿›" data-v-ae70bcd1>ç»“è®ºï¼šä»åŠŸèƒ½å®ç°åˆ°æ¶æ„ä¼˜åŒ–çš„æ¼”è¿›</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1036.18 140.35C1056.41 141.57 1076.7 134.68 1091.22 120.54 1105.92 106.22 1115.17 85.91 1113.03 65.5 1111.04 46.53 1093.97 34.67 1080.78 20.9 1067.1 6.63 1055.91-13.43 1036.18-14.7 1015.89-16.01 999.69 0.26 985.43 14.75 971.33 29.08 956.87 45.39 957.27 65.5 957.67 85.37 973 100.59 987.42 114.26 1001.32 127.45 1017.05 139.19 1036.18 140.35&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1042.18 134.35C1062.41 135.57 1082.7 128.68 1097.22 114.54 1111.92 100.22 1121.17 79.91 1119.03 59.5 1117.04 40.53 1099.97 28.67 1086.78 14.9 1073.1 0.63 1061.91-19.43 1042.18-20.7 1021.89-22.01 1005.69-5.74 991.43 8.75 977.33 23.08 962.87 39.39 963.27 59.5 963.67 79.37 979 94.59 993.42 108.26 1007.32 121.45 1023.05 133.19 1042.18 134.35&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1329.38 128.11C1347.9 128.29 1364.02 117.84 1377.77 105.44 1392.47 92.18 1408.11 76.85 1408.18 57.05 1408.25 37.21 1392.17 22.31 1378.11 8.32 1364.1-5.63 1349.15-21.69 1329.38-21.37 1309.77-21.05 1296.2-3.86 1282.23 9.9 1268.09 23.82 1249.8 37.21 1249.73 57.05 1249.66 76.92 1267.08 91.29 1281.91 104.52 1295.62 116.75 1311.01 127.93 1329.38 128.11&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1312.38 112.11C1330.9 112.29 1347.02 101.84 1360.77 89.44 1375.47 76.18 1391.11 60.85 1391.18 41.05 1391.25 21.21 1375.17 6.31 1361.11-7.68 1347.1-21.63 1332.15-37.69 1312.38-37.37 1292.77-37.05 1279.2-19.86 1265.23-6.1 1251.09 7.82 1232.8 21.21 1232.73 41.05 1232.66 60.92 1250.08 75.29 1264.91 88.52 1278.62 100.75 1294.01 111.93 1312.38 112.11&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M741.74 353.24C757.66 353.74 775.45 353.66 786.31 342.01 796.99 330.55 795.23 313.03 793.75 297.44 792.45 283.69 787.08 271.48 778.6 260.58 768.49 247.6 758.11 232.22 741.74 230.65 724.54 229 708.21 239.56 697.03 252.73 686.65 264.96 684.52 281.41 685.05 297.44 685.56 312.82 688.9 328.51 699.87 339.31 710.77 350.04 726.46 352.76 741.74 353.24&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M722.74 367.24C738.66 367.74 756.45 367.66 767.31 356.01 777.99 344.55 776.23 327.03 774.75 311.44 773.45 297.69 768.08 285.48 759.6 274.58 749.49 261.6 739.11 246.22 722.74 244.65 705.54 243 689.21 253.56 678.03 266.73 667.65 278.96 665.52 295.41 666.05 311.44 666.56 326.82 669.9 342.51 680.87 353.31 691.77 364.04 707.46 366.76 722.74 367.24&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1012.88 606.09C1024.88 606.49 1035.45 599.26 1043.98 590.8 1052.55 582.3 1060.15 571.76 1059.65 559.7 1059.16 547.97 1049.74 539.44 1041.5 531.08 1033.17 522.64 1024.74 512.09 1012.88 512.29 1001.1 512.48 993.01 523.2 985.19 532.01 978.01 540.1 971.05 548.88 970.78 559.7 970.51 570.74 976.37 580.61 983.79 588.79 991.67 597.48 1001.16 605.7 1012.88 606.09&#39; fill=&#39;%23488fdb&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M992.88 599.09C1004.88 599.49 1015.45 592.26 1023.98 583.8 1032.55 575.3 1040.15 564.76 1039.65 552.7 1039.16 540.97 1029.74 532.44 1021.5 524.08 1013.17 515.64 1004.74 505.09 992.88 505.29 981.1 505.48 973.01 516.2 965.19 525.01 958.01 533.1 951.05 541.88 950.78 552.7 950.51 563.74 956.37 573.61 963.79 581.79 971.67 590.48 981.16 598.7 992.88 599.09&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%232164aa&#39;%3e%3c/path%3e%3cpath d=&#39;M1347.76 557.03C1375.03 558.66 1402.09 544.49 1418.86 522.93 1434.16 503.26 1429.17 476.75 1429.58 451.83 1430 426.2 1439.08 396.75 1421.25 378.34 1403.34 359.84 1373.51 366.86 1347.76 367.35 1322.79 367.83 1295.36 364.14 1277.02 381.09 1258.27 398.43 1254.91 426.33 1256.37 451.83 1257.74 475.75 1268.99 496.8 1284.7 514.89 1301.94 534.73 1321.53 555.46 1347.76 557.03&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1337.76 564.03C1365.03 565.66 1392.09 551.49 1408.86 529.93 1424.16 510.26 1419.17 483.75 1419.58 458.83 1420 433.2 1429.08 403.75 1411.25 385.34 1393.34 366.84 1363.51 373.86 1337.76 374.35 1312.79 374.83 1285.36 371.14 1267.02 388.09 1248.27 405.43 1244.91 433.33 1246.37 458.83 1247.74 482.75 1258.99 503.8 1274.7 521.89 1291.94 541.73 1311.53 562.46 1337.76 564.03&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M815.32 552.91C828.51 552.18 841.08 548.41 851.14 539.85 862.18 530.45 872.78 518.53 872.75 504.03 872.72 489.55 861.83 477.96 850.97 468.38 840.92 459.52 828.71 453.94 815.32 453.38 801.28 452.79 786.76 455.61 776.54 465.25 766.06 475.13 761.84 489.63 761.61 504.03 761.38 518.69 764.47 534.17 775.31 544.04 785.81 553.6 801.14 553.69 815.32 552.91&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M809.32 533.91C822.51 533.18 835.08 529.41 845.14 520.85 856.18 511.45 866.78 499.53 866.75 485.03 866.72 470.55 855.83 458.96 844.97 449.38 834.92 440.52 822.71 434.94 809.32 434.38 795.28 433.79 780.76 436.61 770.54 446.25 760.06 456.13 755.84 470.63 755.61 485.03 755.38 499.69 758.47 515.17 769.31 525.04 779.81 534.6 795.14 534.69 809.32 533.91&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M547.86 405.44C559.98 404.82 572.43 403.82 581.56 395.82 591.24 387.33 596.49 374.98 597.26 362.12 598.08 348.4 595.08 334.31 585.84 324.14 576.2 313.52 562.12 306.19 547.86 307.71 534.5 309.13 526.72 321.97 517.18 331.44 507.57 340.97 494.33 348.65 493.01 362.12 491.62 376.34 499.32 390.59 510.53 399.45 520.81 407.57 534.78 406.11 547.86 405.44&#39; fill=&#39;%2354c076&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M536.86 424.44C548.98 423.82 561.43 422.82 570.56 414.82 580.24 406.33 585.49 393.98 586.26 381.12 587.08 367.4 584.08 353.31 574.84 343.14 565.2 332.52 551.12 325.19 536.86 326.71 523.5 328.13 515.72 340.97 506.18 350.44 496.57 359.97 483.33 367.65 482.01 381.12 480.62 395.34 488.32 409.59 499.53 418.45 509.81 426.57 523.78 425.11 536.86 424.44&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23348d50&#39;%3e%3c/path%3e%3cpath d=&#39;M257.24 215.31C282.96 215.02 309.19 208.12 326.78 189.36 343.93 171.07 346.06 144.88 346.78 119.82 347.53 93.72 348.73 65.23 330.9 46.16 312.7 26.69 283.85 22.62 257.24 24.03 232.14 25.36 209.35 36.4 190.98 53.56 171.86 71.43 155.65 93.67 154.72 119.82 153.76 146.75 166.37 172.6 186.09 190.97 205.16 208.73 231.18 215.61 257.24 215.31&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M265.24 203.31C290.96 203.02 317.19 196.12 334.78 177.36 351.93 159.07 354.06 132.88 354.78 107.82 355.53 81.72 356.73 53.23 338.9 34.16 320.7 14.69 291.85 10.62 265.24 12.03 240.14 13.36 217.35 24.4 198.98 41.56 179.86 59.43 163.65 81.67 162.72 107.82 161.76 134.75 174.37 160.6 194.09 178.97 213.16 196.73 239.18 203.61 265.24 203.31&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);" data-v-74b56342 data-v-22a21bbd><div class="footer-mask" data-v-22a21bbd></div><div class="footer-content" data-v-22a21bbd><div data-v-22a21bbd>Â©2020 - 2025 By zhullyb</div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/#website","@type":"WebSite","description":"è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œä¸“æ³¨äºåˆ†äº«æŠ€æœ¯å¹²è´§ã€å­¦ä¹ å¿ƒå¾—å’Œç”Ÿæ´»æ„Ÿæ‚Ÿï¼Œæ¶µç›–å‰ç«¯å¼€å‘ã€åç«¯æ¶æ„ã€äººå·¥æ™ºèƒ½ã€ç¼–ç¨‹æŠ€å·§ã€å·¥å…·æ¨èç­‰å¤šä¸ªé¢†åŸŸã€‚æˆ‘æŒç»­æ›´æ–°åŸåˆ›å†…å®¹ï¼Œè®°å½•æˆé•¿è¿‡ç¨‹ä¸­çš„æ€è€ƒä¸æ”¶è·ï¼Œè‡´åŠ›äºå¸®åŠ©æ›´å¤šå¼€å‘è€…å’ŒæŠ€æœ¯çˆ±å¥½è€…æå‡æŠ€èƒ½ã€æ‹“å±•è§†é‡ã€‚å¦‚æœä½ å¯¹æŠ€æœ¯ã€äº§å“å’Œäº’è”ç½‘è¡Œä¸šæ„Ÿå…´è¶£ï¼Œç›¸ä¿¡ä½ èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°æœ‰ä»·å€¼çš„çŸ¥è¯†ä¸çµæ„Ÿã€‚","inLanguage":"zh-CN","name":"ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢","url":"https://zhul.in/"},{"@id":"https://zhul.in/2025/07/13/vue-markdown-render-improvement-2/#webpage","@type":"WebPage","description":true,"name":"Vue Markdown æ¸²æŸ“ä¼˜åŒ–å®æˆ˜(ä¸‹)ï¼šå‘Šåˆ« DOM æ“ä½œï¼Œæ‹¥æŠ± AST ä¸å‡½æ•°å¼æ¸²æŸ“","url":"https://zhul.in/2025/07/13/vue-markdown-render-improvement-2/","isPartOf":{"@id":"https://zhul.in/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/2025/07/13/vue-markdown-render-improvement-2/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/2025/07/13/vue-markdown-render-improvement-2/_payload.json?1ff90da2-790d-4e52-b609-44dd17ff91ad">[{"state":1,"once":14,"_errors":15,"serverRendered":12,"path":17,"prerenderedAt":18},["Reactive",2],{"$snuxt-seo-utils:routeRules":3,"$ssite-config":4},{"head":-1,"seoMeta":-1},{"_priority":5,"defaultLocale":8,"description":9,"env":10,"name":11,"trailingSlash":12,"url":13},{"name":6,"env":7,"url":6,"description":6,"defaultLocale":6,"trailingSlash":6},-3,-15,"zh-CN","è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œä¸“æ³¨äºåˆ†äº«æŠ€æœ¯å¹²è´§ã€å­¦ä¹ å¿ƒå¾—å’Œç”Ÿæ´»æ„Ÿæ‚Ÿï¼Œæ¶µç›–å‰ç«¯å¼€å‘ã€åç«¯æ¶æ„ã€äººå·¥æ™ºèƒ½ã€ç¼–ç¨‹æŠ€å·§ã€å·¥å…·æ¨èç­‰å¤šä¸ªé¢†åŸŸã€‚æˆ‘æŒç»­æ›´æ–°åŸåˆ›å†…å®¹ï¼Œè®°å½•æˆé•¿è¿‡ç¨‹ä¸­çš„æ€è€ƒä¸æ”¶è·ï¼Œè‡´åŠ›äºå¸®åŠ©æ›´å¤šå¼€å‘è€…å’ŒæŠ€æœ¯çˆ±å¥½è€…æå‡æŠ€èƒ½ã€æ‹“å±•è§†é‡ã€‚å¦‚æœä½ å¯¹æŠ€æœ¯ã€äº§å“å’Œäº’è”ç½‘è¡Œä¸šæ„Ÿå…´è¶£ï¼Œç›¸ä¿¡ä½ èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°æœ‰ä»·å€¼çš„çŸ¥è¯†ä¸çµæ„Ÿã€‚","production","ç«¹æ—é‡Œæœ‰å†°çš„åšå®¢",true,"https://zhul.in/",["Set"],["ShallowReactive",16],{"post-2025-07-13-vue-markdown-render-improvement-2":-1,"surround-2025-07-13-vue-markdown-render-improvement-2":-1,"randomIndex/2025/07/13/vue-markdown-render-improvement-2/":-1,"posts-search-sections":-1},"/2025/07/13/vue-markdown-render-improvement-2/",1762454894453]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true}},app:{baseURL:"/",buildId:"1ff90da2-790d-4e52-b609-44dd17ff91ad",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>