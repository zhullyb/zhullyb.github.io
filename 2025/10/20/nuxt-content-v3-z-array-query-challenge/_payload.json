[{"data":1,"prerenderedAt":1088},["ShallowReactive",2],{"post-2025-10-20-nuxt-content-v3-z-array-query-challenge-zh":3,"surround-2025-10-20-nuxt-content-v3-z-array-query-challenge-zh":1075,"randomIndex/2025/10/20/nuxt-content-v3-z-array-query-challenge/":66,"language-switch-/2025/10/20/nuxt-content-v3-z-array-query-challenge/-en":1087},{"title":4,"date":5,"path":6,"tags":7,"body":11,"description":1074},"Nuxt Content v3 中数组字段的筛选困境与性能优化","2025-10-20 21:52:59","/2025/10/20/nuxt-content-v3-z-array-query-challenge",[8,9,10],"Nuxt","Nuxt Content","JavaScript",{"type":12,"value":13,"toc":1068},"minimark",[14,32,35,99,106,111,121,252,267,445,455,465,469,472,755,761,779,786,791,795,808,825,831,845,1015,1018,1028,1034,1040,1045,1048,1055,1064],[15,16,17,18,22,23,26,27,31],"p",{},"Nuxt Content 是 Nuxt 生态中用于处理 Markdown、YAML 等内容的强大模块。最近，我在使用 ",[19,20,21],"strong",{},"Nuxt v4 + Nuxt Content v3"," 重构博客（原为 Hexo）时，遇到了一个棘手的问题：v3 版本的默认查询 API ",[19,24,25],{},"并未直接提供","对数组字段进行“包含”（",[28,29,30],"code",{},"$contains","）操作的支持。",[15,33,34],{},"例如，这是我的正在写的这篇博客的 Front Matter：",[36,37,42],"pre",{"className":38,"code":39,"language":40,"meta":41,"style":41},"language-markdown shiki shiki-themes one-light one-dark-pro","---\ntitle: Nuxt Content v3 中数组字段的筛选困境\ndate: 2025-10-20 21:52:59\nsticky:\ntags:\n- Nuxt\n- Nuxt Content\n- JavaScript\n---\n","markdown","",[28,43,44,52,58,64,70,76,82,88,94],{"__ignoreMap":41},[45,46,49],"span",{"class":47,"line":48},"line",1,[45,50,51],{},"---\n",[45,53,55],{"class":47,"line":54},2,[45,56,57],{},"title: Nuxt Content v3 中数组字段的筛选困境\n",[45,59,61],{"class":47,"line":60},3,[45,62,63],{},"date: 2025-10-20 21:52:59\n",[45,65,67],{"class":47,"line":66},4,[45,68,69],{},"sticky:\n",[45,71,73],{"class":47,"line":72},5,[45,74,75],{},"tags:\n",[45,77,79],{"class":47,"line":78},6,[45,80,81],{},"- Nuxt\n",[45,83,85],{"class":47,"line":84},7,[45,86,87],{},"- Nuxt Content\n",[45,89,91],{"class":47,"line":90},8,[45,92,93],{},"- JavaScript\n",[45,95,97],{"class":47,"line":96},9,[45,98,51],{},[15,100,101,102,105],{},"我的目标是创建一个 ",[19,103,104],{},"Tag 页面","，列出所有包含特定 Tag（例如 'Nuxt'）的文章。",[107,108,110],"h2",{"id":109},"v2-的便捷与-v3-的限制","v2 的便捷与 v3 的限制",[15,112,113,114,117,118,120],{},"在 Nuxt Content v2 中，数据基于文件系统存储，查询方式是对文件内容的抽象，模拟了类似 ",[19,115,116],{},"MongoDB 的 JSON 文档查询","语法。我们可以轻松地使用 ",[28,119,30],{}," 方法获取所有包含 “Nuxt” 标签的文章：",[36,122,126],{"className":123,"code":124,"language":125,"meta":41,"style":41},"language-typescript shiki shiki-themes one-light one-dark-pro","const tag = decodeURIComponent(route.params.tag as string)\n\nconst articles = await queryContent('posts')\n  .where({ tags: { $contains: tag } })  // ✅ v2 中的 MongoDB Style 查询\n  .find()\n","typescript",[28,127,128,178,184,207,242],{"__ignoreMap":41},[45,129,130,134,138,142,146,150,154,157,161,163,167,171,175],{"class":47,"line":48},[45,131,133],{"class":132},"sLKXg","const",[45,135,137],{"class":136},"sNmU0"," tag",[45,139,141],{"class":140},"s_Sar"," =",[45,143,145],{"class":144},"sAdtL"," decodeURIComponent",[45,147,149],{"class":148},"s5ixo","(",[45,151,153],{"class":152},"s7GmK","route",[45,155,156],{"class":148},".",[45,158,160],{"class":159},"s2QsP","params",[45,162,156],{"class":148},[45,164,166],{"class":165},"sJa8x","tag",[45,168,170],{"class":169},"sblXP"," as",[45,172,174],{"class":173},"sN9Y4"," string",[45,176,177],{"class":148},")\n",[45,179,180],{"class":47,"line":54},[45,181,183],{"emptyLinePlaceholder":182},true,"\n",[45,185,186,188,191,193,196,199,201,205],{"class":47,"line":60},[45,187,133],{"class":132},[45,189,190],{"class":136}," articles",[45,192,141],{"class":140},[45,194,195],{"class":132}," await",[45,197,198],{"class":144}," queryContent",[45,200,149],{"class":148},[45,202,204],{"class":203},"sDhpE","'posts'",[45,206,177],{"class":148},[45,208,209,212,215,218,221,225,228,230,232,235,238],{"class":47,"line":66},[45,210,211],{"class":148},"  .",[45,213,214],{"class":144},"where",[45,216,217],{"class":148},"({ ",[45,219,220],{"class":165},"tags",[45,222,224],{"class":223},"st7oF",":",[45,226,227],{"class":148}," { ",[45,229,30],{"class":165},[45,231,224],{"class":223},[45,233,137],{"class":234},"sz0mV",[45,236,237],{"class":148}," } })  ",[45,239,241],{"class":240},"sW2Sy","// ✅ v2 中的 MongoDB Style 查询\n",[45,243,244,246,249],{"class":47,"line":72},[45,245,211],{"class":148},[45,247,248],{"class":144},"find",[45,250,251],{"class":148},"()\n",[15,253,254,255,262,263,266],{},"但在使用 ",[19,256,257,258,261],{},"Nuxt Content v3 的 ",[28,259,260],{},"queryCollection"," API"," 时，我们很自然地会尝试使用 ",[28,264,265],{},".where()"," 方法进行筛选：",[36,268,270],{"className":123,"code":269,"language":125,"meta":41,"style":41},"const tag = decodeURIComponent(route.params.tag as string)\n\nconst { data } = await useAsyncData(`tag-${tag}`, () =>\n    queryCollection('posts')\n        .where(tag, 'in', 'tags')  // ❌ 这样会报错，因为第一次参数必须是字段名\n        .order('date', 'DESC')\n        .select('title', 'date', 'path', 'tags')\n        .all()\n)\n",[28,271,272,300,304,347,358,386,405,432,441],{"__ignoreMap":41},[45,273,274,276,278,280,282,284,286,288,290,292,294,296,298],{"class":47,"line":48},[45,275,133],{"class":132},[45,277,137],{"class":136},[45,279,141],{"class":140},[45,281,145],{"class":144},[45,283,149],{"class":148},[45,285,153],{"class":152},[45,287,156],{"class":148},[45,289,160],{"class":159},[45,291,156],{"class":148},[45,293,166],{"class":165},[45,295,170],{"class":169},[45,297,174],{"class":173},[45,299,177],{"class":148},[45,301,302],{"class":47,"line":54},[45,303,183],{"emptyLinePlaceholder":182},[45,305,306,308,310,313,316,319,321,324,326,329,333,335,338,341,344],{"class":47,"line":60},[45,307,133],{"class":132},[45,309,227],{"class":148},[45,311,312],{"class":136},"data",[45,314,315],{"class":148}," } ",[45,317,318],{"class":140},"=",[45,320,195],{"class":132},[45,322,323],{"class":144}," useAsyncData",[45,325,149],{"class":148},[45,327,328],{"class":203},"`tag-",[45,330,332],{"class":331},"sAOjX","${",[45,334,166],{"class":234},[45,336,337],{"class":331},"}",[45,339,340],{"class":203},"`",[45,342,343],{"class":148},", () ",[45,345,346],{"class":132},"=>\n",[45,348,349,352,354,356],{"class":47,"line":66},[45,350,351],{"class":144},"    queryCollection",[45,353,149],{"class":148},[45,355,204],{"class":203},[45,357,177],{"class":148},[45,359,360,363,365,367,369,372,375,377,380,383],{"class":47,"line":72},[45,361,362],{"class":148},"        .",[45,364,214],{"class":144},[45,366,149],{"class":148},[45,368,166],{"class":234},[45,370,371],{"class":148},", ",[45,373,374],{"class":203},"'in'",[45,376,371],{"class":148},[45,378,379],{"class":203},"'tags'",[45,381,382],{"class":148},")  ",[45,384,385],{"class":240},"// ❌ 这样会报错，因为第一次参数必须是字段名\n",[45,387,388,390,393,395,398,400,403],{"class":47,"line":78},[45,389,362],{"class":148},[45,391,392],{"class":144},"order",[45,394,149],{"class":148},[45,396,397],{"class":203},"'date'",[45,399,371],{"class":148},[45,401,402],{"class":203},"'DESC'",[45,404,177],{"class":148},[45,406,407,409,412,414,417,419,421,423,426,428,430],{"class":47,"line":84},[45,408,362],{"class":148},[45,410,411],{"class":144},"select",[45,413,149],{"class":148},[45,415,416],{"class":203},"'title'",[45,418,371],{"class":148},[45,420,397],{"class":203},[45,422,371],{"class":148},[45,424,425],{"class":203},"'path'",[45,427,371],{"class":148},[45,429,379],{"class":203},[45,431,177],{"class":148},[45,433,434,436,439],{"class":47,"line":90},[45,435,362],{"class":148},[45,437,438],{"class":144},"all",[45,440,251],{"class":148},[45,442,443],{"class":47,"line":96},[45,444,177],{"class":148},[15,446,447,448,450,451,454],{},"遗憾的是，这样是行不通的。",[28,449,265],{}," 的方法签名要求字段名必须作为首个参数传入：",[28,452,453],{},"where(field: keyof Collection | string, operator: SqlOperator, value?: unknown)","。",[15,456,457,458,461,462,464],{},"由于 Nuxt Content v3 ",[19,459,460],{},"底层采用 SQLite 作为本地数据库","，所有查询都必须遵循类 SQL 语法。如果设计时未提供针对数组字段的内置操作符（例如 ",[28,463,30],{}," 的 SQL 等价形式），最终的解决方案往往会显得比较“别扭”。",[107,466,468],{"id":467},"初版实现牺牲性能的全量拉取","初版实现：牺牲性能的“全量拉取”",[15,470,471],{},"本着“尽快重构，后续优化”的思路，我写出了以下代码：",[36,473,475],{"className":123,"code":474,"language":125,"meta":41,"style":41},"// 初版实现：全量拉取后使用 JS 筛选\nconst allPosts = (\n    await useAsyncData(`tag-${route.params.tag}`, () =>\n        queryCollection('posts')\n            .order('date', 'DESC')\n            .select('title', 'date', 'path', 'tags')\n            .all()\n    )\n).data as Ref\u003CPost[]>\n\nconst Posts = computed(() => {\n    return allPosts.value.filter(post =>\n        typeof post.tags?.map === 'function'\n            ? post.tags?.includes(decodeURIComponent(route.params.tag as string))\n            : false\n    )\n})\n",[28,476,477,482,494,526,537,554,578,586,591,613,618,640,667,693,734,744,749],{"__ignoreMap":41},[45,478,479],{"class":47,"line":48},[45,480,481],{"class":240},"// 初版实现：全量拉取后使用 JS 筛选\n",[45,483,484,486,489,491],{"class":47,"line":54},[45,485,133],{"class":132},[45,487,488],{"class":144}," allPosts",[45,490,141],{"class":140},[45,492,493],{"class":148}," (\n",[45,495,496,499,501,503,505,507,509,512,514,516,518,520,522,524],{"class":47,"line":60},[45,497,498],{"class":132},"    await",[45,500,323],{"class":144},[45,502,149],{"class":148},[45,504,328],{"class":203},[45,506,332],{"class":331},[45,508,153],{"class":152},[45,510,156],{"class":511},"sMj0N",[45,513,160],{"class":159},[45,515,156],{"class":511},[45,517,166],{"class":165},[45,519,337],{"class":331},[45,521,340],{"class":203},[45,523,343],{"class":148},[45,525,346],{"class":132},[45,527,528,531,533,535],{"class":47,"line":66},[45,529,530],{"class":144},"        queryCollection",[45,532,149],{"class":148},[45,534,204],{"class":203},[45,536,177],{"class":148},[45,538,539,542,544,546,548,550,552],{"class":47,"line":72},[45,540,541],{"class":148},"            .",[45,543,392],{"class":144},[45,545,149],{"class":148},[45,547,397],{"class":203},[45,549,371],{"class":148},[45,551,402],{"class":203},[45,553,177],{"class":148},[45,555,556,558,560,562,564,566,568,570,572,574,576],{"class":47,"line":78},[45,557,541],{"class":148},[45,559,411],{"class":144},[45,561,149],{"class":148},[45,563,416],{"class":203},[45,565,371],{"class":148},[45,567,397],{"class":203},[45,569,371],{"class":148},[45,571,425],{"class":203},[45,573,371],{"class":148},[45,575,379],{"class":203},[45,577,177],{"class":148},[45,579,580,582,584],{"class":47,"line":84},[45,581,541],{"class":148},[45,583,438],{"class":144},[45,585,251],{"class":148},[45,587,588],{"class":47,"line":90},[45,589,590],{"class":148},"    )\n",[45,592,593,596,598,600,604,607,610],{"class":47,"line":96},[45,594,595],{"class":148},").",[45,597,312],{"class":165},[45,599,170],{"class":169},[45,601,603],{"class":602},"sC09Y"," Ref",[45,605,606],{"class":148},"\u003C",[45,608,609],{"class":602},"Post",[45,611,612],{"class":148},"[]>\n",[45,614,616],{"class":47,"line":615},10,[45,617,183],{"emptyLinePlaceholder":182},[45,619,621,623,626,628,631,634,637],{"class":47,"line":620},11,[45,622,133],{"class":132},[45,624,625],{"class":136}," Posts",[45,627,141],{"class":140},[45,629,630],{"class":144}," computed",[45,632,633],{"class":148},"(() ",[45,635,636],{"class":132},"=>",[45,638,639],{"class":148}," {\n",[45,641,643,646,648,650,653,655,658,660,664],{"class":47,"line":642},12,[45,644,645],{"class":132},"    return",[45,647,488],{"class":152},[45,649,156],{"class":148},[45,651,652],{"class":159},"value",[45,654,156],{"class":148},[45,656,657],{"class":144},"filter",[45,659,149],{"class":148},[45,661,663],{"class":662},"s8iYz","post",[45,665,666],{"class":132}," =>\n",[45,668,670,674,677,679,681,684,687,690],{"class":47,"line":669},13,[45,671,673],{"class":672},"s7DPa","        typeof",[45,675,676],{"class":152}," post",[45,678,156],{"class":148},[45,680,220],{"class":159},[45,682,683],{"class":148},"?.",[45,685,686],{"class":165},"map",[45,688,689],{"class":140}," ===",[45,691,692],{"class":203}," 'function'\n",[45,694,696,699,701,703,705,707,710,712,715,717,719,721,723,725,727,729,731],{"class":47,"line":695},14,[45,697,698],{"class":672},"            ?",[45,700,676],{"class":152},[45,702,156],{"class":148},[45,704,220],{"class":159},[45,706,683],{"class":148},[45,708,709],{"class":144},"includes",[45,711,149],{"class":148},[45,713,714],{"class":144},"decodeURIComponent",[45,716,149],{"class":148},[45,718,153],{"class":152},[45,720,156],{"class":148},[45,722,160],{"class":159},[45,724,156],{"class":148},[45,726,166],{"class":165},[45,728,170],{"class":169},[45,730,174],{"class":173},[45,732,733],{"class":148},"))\n",[45,735,737,740],{"class":47,"line":736},15,[45,738,739],{"class":672},"            :",[45,741,743],{"class":742},"sAGMh"," false\n",[45,745,747],{"class":47,"line":746},16,[45,748,590],{"class":148},[45,750,752],{"class":47,"line":751},17,[45,753,754],{"class":148},"})\n",[15,756,757,758],{},"这种方法虽然满足了需求，但也带来了明显的性能代价：",[19,759,760],{},"_payload.json 文件体积的膨胀。",[15,762,763,764,767,768,771,772,775,776,778],{},"在 Nuxt 项目中，",[28,765,766],{},"_payload.json"," 用于存储 ",[28,769,770],{},"useAsyncData"," 的结果等动态数据。在全量拉取的方案下，",[19,773,774],{},"每一个 Tag 页面"," 都会加载包含所有文章信息的 ",[28,777,766],{},"，造成数据冗余。很多 Tag 页面仅需一两篇文章的数据，却被迫加载了全部文章信息，严重影响了性能。",[15,780,781],{},[782,783],"img",{"alt":784,"src":785},"tags 目录占据了 2.9MiB，是所有目录中最大的","https://static.031130.xyz/uploads/2025/10/20/a748878c03c64.webp",[15,787,788],{},[782,789],{"alt":766,"src":790},"https://static.031130.xyz/uploads/2025/10/20/8ef786d873da1.webp",[107,792,794],{"id":793},"讨巧方案利用-sqlite-的存储特性进行优化","讨巧方案：利用 SQLite 的存储特性进行优化",[15,796,797,798,800,801,454],{},"为了减少 ",[28,799,770],{}," 返回的查询结果，我查阅了 Nuxt Content 的 GitHub Discussions，发现",[802,803,807],"a",{"href":804,"rel":805},"https://github.com/nuxt/content/discussions/2955",[806],"nofollow","在 v3.alpha.8 版本时就有人提出了一种“巧妙”的解决方案",[15,809,810,811,820,821,824],{},"由于 Nuxt Content v3 使用 SQLite 数据库，原本在 Front Matter 中定义的 ",[19,812,813,815,816,819],{},[28,814,220],{}," 数组（通过 ",[28,817,818],{},"z.array()"," 定义）最终会以 JSON 字符串的形式存储","在数据库中（具体格式可在 ",[28,822,823],{},".nuxt/content/sql_dump.txt"," 文件中查看）。",[15,826,827],{},[782,828],{"alt":829,"src":830},"sql_dump.txt","https://static.031130.xyz/uploads/2025/10/20/b70036c55bb29.webp",[15,832,833,834,837,838,844],{},"这意味着我们可以利用 SQLite 的",[19,835,836],{},"字符串操作","特性，通过 ",[19,839,840,843],{},[28,841,842],{},"LIKE"," 动词配合通配符","来完成数组包含的筛选，本质上是查询 JSON 字符串是否包含特定子串：",[36,846,848],{"className":123,"code":847,"language":125,"meta":41,"style":41},"const tag = decodeURIComponent(route.params.tag as string)\n\nconst { data } = await useAsyncData(`tag-${route.params.tag}`, () =>\n    queryCollection('posts')\n        .where('tags', 'LIKE', `%\"${tag}\"%`)\n        .order('date', 'DESC')\n        .select('title', 'date', 'path', 'tags')\n        .all()\n)\n",[28,849,850,878,882,922,932,963,979,1003,1011],{"__ignoreMap":41},[45,851,852,854,856,858,860,862,864,866,868,870,872,874,876],{"class":47,"line":48},[45,853,133],{"class":132},[45,855,137],{"class":136},[45,857,141],{"class":140},[45,859,145],{"class":144},[45,861,149],{"class":148},[45,863,153],{"class":152},[45,865,156],{"class":148},[45,867,160],{"class":159},[45,869,156],{"class":148},[45,871,166],{"class":165},[45,873,170],{"class":169},[45,875,174],{"class":173},[45,877,177],{"class":148},[45,879,880],{"class":47,"line":54},[45,881,183],{"emptyLinePlaceholder":182},[45,883,884,886,888,890,892,894,896,898,900,902,904,906,908,910,912,914,916,918,920],{"class":47,"line":60},[45,885,133],{"class":132},[45,887,227],{"class":148},[45,889,312],{"class":136},[45,891,315],{"class":148},[45,893,318],{"class":140},[45,895,195],{"class":132},[45,897,323],{"class":144},[45,899,149],{"class":148},[45,901,328],{"class":203},[45,903,332],{"class":331},[45,905,153],{"class":152},[45,907,156],{"class":511},[45,909,160],{"class":159},[45,911,156],{"class":511},[45,913,166],{"class":165},[45,915,337],{"class":331},[45,917,340],{"class":203},[45,919,343],{"class":148},[45,921,346],{"class":132},[45,923,924,926,928,930],{"class":47,"line":66},[45,925,351],{"class":144},[45,927,149],{"class":148},[45,929,204],{"class":203},[45,931,177],{"class":148},[45,933,934,936,938,940,942,944,947,949,952,954,956,958,961],{"class":47,"line":72},[45,935,362],{"class":148},[45,937,214],{"class":144},[45,939,149],{"class":148},[45,941,379],{"class":203},[45,943,371],{"class":148},[45,945,946],{"class":203},"'LIKE'",[45,948,371],{"class":148},[45,950,951],{"class":203},"`%\"",[45,953,332],{"class":331},[45,955,166],{"class":234},[45,957,337],{"class":331},[45,959,960],{"class":203},"\"%`",[45,962,177],{"class":148},[45,964,965,967,969,971,973,975,977],{"class":47,"line":78},[45,966,362],{"class":148},[45,968,392],{"class":144},[45,970,149],{"class":148},[45,972,397],{"class":203},[45,974,371],{"class":148},[45,976,402],{"class":203},[45,978,177],{"class":148},[45,980,981,983,985,987,989,991,993,995,997,999,1001],{"class":47,"line":84},[45,982,362],{"class":148},[45,984,411],{"class":144},[45,986,149],{"class":148},[45,988,416],{"class":203},[45,990,371],{"class":148},[45,992,397],{"class":203},[45,994,371],{"class":148},[45,996,425],{"class":203},[45,998,371],{"class":148},[45,1000,379],{"class":203},[45,1002,177],{"class":148},[45,1004,1005,1007,1009],{"class":47,"line":90},[45,1006,362],{"class":148},[45,1008,438],{"class":144},[45,1010,251],{"class":148},[45,1012,1013],{"class":47,"line":96},[45,1014,177],{"class":148},[15,1016,1017],{},"下面是优化后重新生成的文件占用，体积减小还是非常显著的",[1019,1020,1021,1025],"ul",{},[1022,1023,1024],"li",{},"tags 目录体积: 2.9MiB -> 1.4MiB",[1022,1026,1027],{},"单个 _payload.json 的体积: 23.1KiB -> 1.01 KiB",[15,1029,1030,1031,1033],{},"通过这种方法，我们成功将查询逻辑下推到了数据库层，避免了不必要的全量数据传输，显著降低了单个目录中 ",[28,1032,766],{}," 的体积，实现了性能优化。",[15,1035,1036],{},[782,1037],{"alt":1038,"src":1039},"tags 目录体积下降","https://static.031130.xyz/uploads/2025/10/20/007e72e7b476d.webp",[15,1041,1042],{},[782,1043],{"alt":766,"src":1044},"https://static.031130.xyz/uploads/2025/10/20/17ba3ccbbdf9e.webp",[107,1046,1047],{"id":1047},"参见",[15,1049,1050],{},[802,1051,1054],{"href":1052,"rel":1053},"https://content.nuxt.com/docs/utils/query-collection#wherefield-keyof-collection-string-operator-sqloperator-value-unknown",[806],"queryCollection - Nuxt Content",[15,1056,1057],{},[802,1058,1060,1061,1063],{"href":804,"rel":1059},[806],"How do you query ",[28,1062,818],{}," fields (e.g. tags) in the latest nuxt-content module (v3.alpha.8) · nuxt/content · Discussion #2955",[1065,1066,1067],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sNmU0, html code.shiki .sNmU0{--shiki-default:#986801;--shiki-dark:#E5C07B}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .s7GmK, html code.shiki .s7GmK{--shiki-default:#383A42;--shiki-dark:#E5C07B}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sblXP, html code.shiki .sblXP{--shiki-default:#383A42;--shiki-dark:#C678DD}html pre.shiki code .sN9Y4, html code.shiki .sN9Y4{--shiki-default:#0184BC;--shiki-dark:#E5C07B}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .st7oF, html code.shiki .st7oF{--shiki-default:#0184BC;--shiki-dark:#ABB2BF}html pre.shiki code .sz0mV, html code.shiki .sz0mV{--shiki-default:#383A42;--shiki-dark:#E06C75}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .sAOjX, html code.shiki .sAOjX{--shiki-default:#CA1243;--shiki-dark:#C678DD}html pre.shiki code .sMj0N, html code.shiki .sMj0N{--shiki-default:#50A14F;--shiki-dark:#ABB2BF}html pre.shiki code .sC09Y, html code.shiki .sC09Y{--shiki-default:#C18401;--shiki-dark:#E5C07B}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .s7DPa, html code.shiki .s7DPa{--shiki-default:#0184BC;--shiki-dark:#C678DD}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}",{"title":41,"searchDepth":54,"depth":54,"links":1069},[1070,1071,1072,1073],{"id":109,"depth":54,"text":110},{"id":467,"depth":54,"text":468},{"id":793,"depth":54,"text":794},{"id":1047,"depth":54,"text":1047},"Nuxt Content 是 Nuxt 生态中用于处理 Markdown、YAML 等内容的强大模块。最近，我在使用 Nuxt v4 + Nuxt Content v3 重构博客（原为 Hexo）时，遇到了一个棘手的问题：v3 版本的默认查询 API 并未直接提供对数组字段进行“包含”（$contains）操作的支持。",[1076,1082],{"title":1077,"path":1078,"stem":1079,"date":1080,"lang":1081,"children":-1},"HTTP/2 Server Push 已事实性“死亡”，我很怀念它","/2025/11/05/http-2-server-push-is-practically-obsolete","posts/zh/http-2-server-push-is-practically-obsolete","2025-11-05","zh-CN",{"title":1083,"path":1084,"stem":1085,"date":1086,"lang":1081,"children":-1},"后 OCSP 时代，浏览器如何应对证书吊销新挑战","/2025/10/16/how-s-mozilla-crlite-going-now","posts/zh/how-s-mozilla-crlite-going-now","2025-10-16 15:38:50","/en/2025/10/20/nuxt-content-v3-z-array-query-challenge/",1766566737472]