<!DOCTYPE html><html  lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>HTTP&#x2F;2 Server Push 已事实性“死亡”，我很怀念它 | 竹林里有冰的博客</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-3db633ac] .markdown-body{font-family:inherit;font-size:inherit}[data-v-3db633ac] .markdown-body .heimu,[data-v-3db633ac] .markdown-body .heimu a,[data-v-3db633ac] .markdown-body .heimu a.new,a[data-v-3db633ac] .markdown-body .heimu{background-color:#252525;color:#252525;text-shadow:none}[data-v-3db633ac] .markdown-body .heimu:active,[data-v-3db633ac] .markdown-body .heimu:hover,[data-v-3db633ac] .markdown-body .heimu:active .heimu,[data-v-3db633ac] .markdown-body .heimu:hover .heimu{color:#fff!important}[data-v-3db633ac] .markdown-body .heimu:active a,[data-v-3db633ac] .markdown-body .heimu:hover a{color:#add8e6!important}[data-v-3db633ac] .markdown-body .heimu:active .new,[data-v-3db633ac] .markdown-body .heimu:hover .new{color:#ba0000!important}a[data-v-3db633ac]:active .markdown-body .heimu,a[data-v-3db633ac]:hover .markdown-body .heimu{color:#add8e6!important}.new[data-v-3db633ac]:active .markdown-body .heimu,.new[data-v-3db633ac]:hover .markdown-body .heimu{color:#ba0000!important}[data-v-3db633ac] .markdown-body h2,[data-v-3db633ac] .markdown-body h3,[data-v-3db633ac] .markdown-body h4,[data-v-3db633ac] .markdown-body h5,[data-v-3db633ac] .markdown-body h6{scroll-margin-top:78px}[data-v-3db633ac] .markdown-body h2>a,[data-v-3db633ac] .markdown-body h3>a,[data-v-3db633ac] .markdown-body h4>a,[data-v-3db633ac] .markdown-body h5>a,[data-v-3db633ac] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-3db633ac] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-3db633ac] .markdown-body .shiki,[data-v-3db633ac] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-3db633ac]{position:sticky;top:78px}[data-v-3db633ac] #waline{margin-top:3rem}.article-end-hr[data-v-3db633ac]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-3db633ac]{border-color:#444c56}}.tags[data-v-3db633ac]{margin:1rem 0}.tags[data-v-3db633ac] *{vertical-align:middle}.tags svg[data-v-3db633ac]{font-size:.9em}.tags a[data-v-3db633ac]{display:inline-block;margin-left:.2rem}.tags a[data-v-3db633ac]:hover{color:#007bff}</style><style>.content-wrapper[data-v-40d23075]{margin-bottom:40px;margin-top:40px}@media(min-width:1025px){.content-wrapper[data-v-40d23075]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-40d23075]{width:20%}}@media(max-width:1024px){.content-wrapper[data-v-40d23075]{margin:30px}}main[data-v-40d23075]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-40d23075]{width:unset}}</style><style>header[data-v-c4c9a290]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-c4c9a290]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-c4c9a290],header.show-mobile-menu[data-v-c4c9a290]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-c4c9a290]{height:-moz-fit-content;height:fit-content}.header-container[data-v-c4c9a290]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-c4c9a290]{min-width:100%;padding-left:16px;padding-right:16px}}.header-container .header-title[data-v-c4c9a290]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-c4c9a290]{justify-content:space-between}.header[data-v-c4c9a290],.header-right[data-v-c4c9a290]{align-items:center;display:flex}.header-right[data-v-c4c9a290]{gap:16px}.mobile-menu-dropdown[data-v-c4c9a290]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-c4c9a290]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-c4c9a290],a[data-v-c4c9a290]{color:#fff;text-decoration:none}.lang-switch[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-c4c9a290]{font-size:16px;line-height:1}@media(max-width:1024px){.search-trigger[data-v-c4c9a290]{display:none}}</style><style>.post-navigation[data-v-a35c130b]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a35c130b]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a35c130b]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a35c130b]:hover{border-color:#007bff}.nav-button:hover .nav-arrow[data-v-a35c130b],.nav-button:hover .nav-label[data-v-a35c130b],.nav-button:hover .nav-title[data-v-a35c130b]{color:#007bff}.nav-button.prev[data-v-a35c130b]{margin-right:auto}.nav-button.prev .nav-content[data-v-a35c130b]{text-align:left}.nav-button.next[data-v-a35c130b]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a35c130b]{text-align:right}.nav-arrow[data-v-a35c130b]{color:#6a737d;flex-shrink:0;font-weight:600;line-height:1}.nav-content[data-v-a35c130b]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a35c130b]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a35c130b]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a35c130b]{color:#c9d1d9}}@media(max-width:720px){.post-navigation[data-v-a35c130b]{flex-direction:column;gap:.75rem}.nav-button[data-v-a35c130b]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-bdce45f2]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-bdce45f2]{background:#181c27;border:1px solid #444c5a}}@media(max-width:1024px){.toc[data-v-bdce45f2]{display:none}}.toc-title[data-v-bdce45f2]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-bdce45f2]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-bdce45f2]{list-style:none;margin:0;padding:0}.toc-item[data-v-bdce45f2]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-bdce45f2]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-bdce45f2]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-bdce45f2]{color:#ccc}}.toc-item a[data-v-bdce45f2]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-bdce45f2]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-bdce45f2]{padding-left:0}.toc-item.toc-level-1 a[data-v-bdce45f2]{font-weight:500}.toc-item.toc-level-2[data-v-bdce45f2]{padding-left:.75rem}.toc-item.toc-level-3[data-v-bdce45f2]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-bdce45f2]{font-size:.85rem}.toc-item.toc-level-4[data-v-bdce45f2]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-bdce45f2]{font-size:.825rem}.toc-item.toc-level-5[data-v-bdce45f2]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-bdce45f2]{font-size:.8rem}.toc-item.toc-level-6[data-v-bdce45f2]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-bdce45f2]{font-size:.775rem}.toc[data-v-bdce45f2]::-webkit-scrollbar{width:5px}.toc[data-v-bdce45f2]::-webkit-scrollbar-track{background:transparent}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-5bcc226c]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-5bcc226c],footer[data-v-5bcc226c]{align-items:center;display:flex}.footer-content[data-v-5bcc226c]{flex-direction:column;gap:8px;padding:20px;z-index:1}.footer-mask[data-v-5bcc226c]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-5bcc226c]{background:linear-gradient(180deg,#0009,#000c)}}.social[data-v-5bcc226c]{gap:16px;margin-bottom:12px}.social[data-v-5bcc226c],.social-icons[data-v-5bcc226c]{align-items:center;display:flex}.social-icons[data-v-5bcc226c]{background-color:#ffffff1a;border-radius:50%;cursor:pointer;height:48px;justify-content:center;width:48px}.social-icons[data-v-5bcc226c]:hover{background-color:#fff3}.social-icons svg[data-v-5bcc226c]{fill:#fff;height:20px;width:20px}</style><style>.promo-card[data-v-b2edde66]{background:#0003;border:.5px solid #eee;box-sizing:border-box;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;gap:16px;max-width:310px;padding:24px;zoom:.8}.card-header[data-v-b2edde66]{justify-content:space-between}.card-header[data-v-b2edde66],.header-left[data-v-b2edde66]{align-items:center;display:flex}.header-left[data-v-b2edde66]{gap:8px}.logo-img[data-v-b2edde66]{display:block;height:auto;width:100%}.logo-yxvm-container[data-v-b2edde66]{margin-left:2px;width:100px}.plus-separator[data-v-b2edde66]{color:#fff;font-size:20px;font-weight:700}.logo-nodeseek-container[data-v-b2edde66]{width:40px}.github-link[data-v-b2edde66]{color:#fff;display:block;transition:color .2s ease-in-out;width:20px}.github-link[data-v-b2edde66]:hover{color:#38bdf8}.github-icon[data-v-b2edde66]{fill:currentColor;height:100%;width:100%}.card-title[data-v-b2edde66]{color:#fff;font-size:18px;font-weight:500;line-height:1.2;margin:0;text-transform:capitalize}.card-description[data-v-b2edde66]{color:#94a3b8;font-size:14px;line-height:1.5;margin:0}.card-footer[data-v-b2edde66]{color:#e4e4e7;display:flex;font-size:13px;font-weight:500;gap:4px;justify-content:flex-end}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>pre[data-v-a9c19cc1]{font-size:14px}</style><style>.mermaid-wrapper[data-v-e0afffa3]{display:block}.mermaid-container[data-v-e0afffa3]{background:#fff;display:flex;justify-content:center;margin:1.5em 0;opacity:0;overflow-x:auto;transform:translateY(10px);transition:opacity .4s ease-out,transform .4s ease-out}@media(prefers-color-scheme:dark){.mermaid-container[data-v-e0afffa3]{background:#a7a7a7}}.mermaid-container.mermaid-loaded[data-v-e0afffa3],.mermaid-placeholder[data-v-e0afffa3]{opacity:1;transform:translateY(0)}.mermaid-placeholder[data-v-e0afffa3]{transition:opacity .3s ease-out,transform .3s ease-out}.mermaid-error[data-v-e0afffa3]{background-color:#ffebee;border-left:4px solid #d32f2f;border-radius:4px;color:#d32f2f;padding:1em}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>@media(max-width:1024px){.pc-nav[data-v-49e970ab]{display:none}}.mobile-nav[data-v-49e970ab]{cursor:pointer;display:none}@media(max-width:1024px){.mobile-nav[data-v-49e970ab]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-49e970ab]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-49e970ab]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-49e970ab]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-0f1d2f14]{height:60vh;width:100%}.mask[data-v-0f1d2f14]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-0f1d2f14]{background:#00000080}}.title-container[data-v-0f1d2f14]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:1024px){.title-container[data-v-0f1d2f14]{width:80%}}.title[data-v-0f1d2f14]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-0f1d2f14]{font-size:32px;font-weight:700;margin:0}@media(max-width:720px){.title h1[data-v-0f1d2f14]{font-size:24px}}.title p[data-v-0f1d2f14]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:1024px){.title[data-v-0f1d2f14]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-63592d71],.search-overlay-leave-active[data-v-63592d71]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-63592d71],.search-overlay-leave-to[data-v-63592d71]{opacity:0}.search-overlay[data-v-63592d71]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-63592d71]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-63592d71]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-63592d71]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-63592d71]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-63592d71]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-63592d71]:hover{color:#000c}.search-overlay__body[data-v-63592d71]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-63592d71]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-63592d71]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-63592d71]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-63592d71]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-63592d71]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-63592d71]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-63592d71]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-63592d71]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-63592d71]{color:#0000008c}.search-overlay__item-snippet[data-v-63592d71]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-63592d71]{padding:80px 12px 20px}.search-overlay__panel[data-v-63592d71]{max-height:calc(100vh - 120px)}}</style><link rel="stylesheet" href="/_nuxt/entry.7EIxnZzq.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.B8KIEPM7.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/2025/11/05/http-2-server-push-is-practically-obsolete/_payload.json?6ca00899-2626-4e7e-a65d-a74e394caa29"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CSdnSBXe.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Eg2YpdsE.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-pN7pB4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D-iPsUzv.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cr2hintp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BQO6-_D2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ChaP1G95.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DgVV77u5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bsn9YnRm.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B6geY5Px.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Q-GPCpYO.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CkGBO0Gj.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/qQ9Q7xix.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DcKh298E.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cqu552ZF.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/6ca00899-2626-4e7e-a65d-a74e394caa29.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="竹林里有冰的博客 RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="竹林里有冰的博客 Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content="我最近一阵子在重构我的博客，恰巧之前一阵子准备秋招的时候背八股时看到了 HTTP/2 的服务端推送，于是便尝试在部署阶段为我的博客配置好 HTTP/2 的服务端推送，试图以此来进一步优化首屏加载速度。"><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="HTTP,Caddy,Network,HTML,Vercel"><script type="module" src="/_nuxt/CSdnSBXe.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="HTTP/2 Server Push 已事实性“死亡”，我很怀念它 | 竹林里有冰的博客"><meta property="og:description" data-infer="" content="我最近一阵子在重构我的博客，恰巧之前一阵子准备秋招的时候背八股时看到了 HTTP/2 的服务端推送，于是便尝试在部署阶段为我的博客配置好 HTTP/2 的服务端推送，试图以此来进一步优化首屏加载速度。"><link rel="canonical" href="https://zhul.in/2025/11/05/http-2-server-push-is-practically-obsolete/"><meta property="og:url" content="https://zhul.in/2025/11/05/http-2-server-push-is-practically-obsolete/"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content="竹林里有冰的博客"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-3db633ac data-v-40d23075><!--[--><header class="" data-v-c4c9a290><div class="header-container" data-v-c4c9a290><div class="header" data-v-c4c9a290><a href="/" class="header-title" data-v-c4c9a290>竹林里有冰的博客</a><div class="header-right" data-v-c4c9a290><nav data-v-c4c9a290 data-v-49e970ab><div class="pc-nav" data-v-49e970ab><!--[--><a href="/" class="" data-v-49e970ab>首页</a><a href="/archives/" class="" data-v-49e970ab>归档</a><a href="/tags/" class="" data-v-49e970ab>标签</a><a href="/links/" class="" data-v-49e970ab>友链</a><a href="/about/" class="" data-v-49e970ab>关于</a><!--]--></div><div class="mobile-nav" data-v-49e970ab><div class="container" data-v-49e970ab><!--[--><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><!--]--></div></div></nav><a href="/en/2025/11/05/http-2-server-push-is-practically-obsolete/" class="lang-switch" aria-label="Switch Language" data-v-c4c9a290><span class="lang-switch__label" data-v-c4c9a290>En</span></a><button type="button" class="search-trigger" aria-label="Search" data-v-c4c9a290><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c4c9a290><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-c4c9a290>搜索</span></button></div></div></div><!----></header><div class="banner" style="background-color:#ee5522;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100&#39; height=&#39;100&#39; viewBox=&#39;0 0 200 200&#39;%3E%3Cdefs%3E%3ClinearGradient id=&#39;a&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;33&#39; x2=&#39;100&#39; y2=&#39;-3&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3ClinearGradient id=&#39;b&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;135&#39; x2=&#39;100&#39; y2=&#39;97&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill=&#39;%23d23d09&#39; fill-opacity=&#39;0.6&#39;%3E%3Crect x=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3Crect y=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3C/g%3E%3Cg fill-opacity=&#39;0.5&#39;%3E%3Cpolygon fill=&#39;url(%23a)&#39; points=&#39;100 30 0 0 200 0&#39;/%3E%3Cpolygon fill=&#39;url(%23b)&#39; points=&#39;100 100 0 130 0 100 200 100 200 130&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-c4c9a290 data-v-0f1d2f14><div class="mask" data-v-0f1d2f14><div class="title-container" data-v-0f1d2f14><div class="title" data-v-0f1d2f14><h1 data-v-0f1d2f14>HTTP/2 Server Push 已事实性“死亡”，我很怀念它</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-40d23075><div class="before-main side" data-v-40d23075><!--[--><!--]--></div><main data-v-40d23075><!--[--><article class="markdown-body" data-v-3db633ac><p><!--[-->我最近一阵子在重构我的博客，恰巧之前一阵子准备秋招的时候背八股时看到了 HTTP/2 的服务端推送，于是便尝试在部署阶段为我的博客配置好 HTTP/2 的服务端推送，试图以此来进一步优化首屏加载速度。<!--]--></p><h2 id="http2-服务端推送为什么能提升首屏加载速度" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->HTTP/2 服务端推送为什么能提升首屏加载速度<!--]--><a href="#http2-服务端推送为什么能提升首屏加载速度" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->如下图，在传统的 HTTP/1.1 中，浏览器会先下载 <code><!--[-->index.html<!--]--></code> 并完成第一轮解析，然后再从解析出的数据中拿到 css/js 资源的 url，再进行第二轮请求，在 tcp/tls 连接建立后最小需要<strong><!--[-->两个 RTT 才能取回<!--]--></strong>完整渲染页面所需的资源。<!--]--></p><div class="mermaid-wrapper" style="" data-v-a9c19cc1 data-v-e0afffa3><div class="mermaid-container" data-v-e0afffa3></div><pre class="language-mermaid shiki shiki-themes one-light one-dark-pro mermaid-placeholder" data-v-e0afffa3>sequenceDiagram
    participant Browser
    participant Server

    Browser-&gt;&gt;Server: GET /index.html
    Server--&gt;&gt;Browser: 200 OK + HTML
    Browser-&gt;&gt;Server: GET /style.css
    Browser-&gt;&gt;Server: GET /app.js
    Server--&gt;&gt;Browser: 200 OK + CSS
    Server--&gt;&gt;Browser: 200 OK + JS

    Note over Browser: 浏览器必须等 HTML 下载并解析后&lt;br/&gt;才能发起后续请求，增加往返延迟 (RTT)

</pre></div><p><!--[-->而在 HTTP/2 的设想中，流程则是像下面这张图一样。当浏览器请求 index.html 时，服务端可以顺带将 css/js 资源一起推送给客户端，这样在 tcp/tls 连接建立后最小只需要<strong><!--[-->一个 RTT 就可以<!--]--></strong>将页面渲染所需的资源取回。<!--]--></p><div class="mermaid-wrapper" style="" data-v-a9c19cc1 data-v-e0afffa3><div class="mermaid-container" data-v-e0afffa3></div><pre class="language-mermaid shiki shiki-themes one-light one-dark-pro mermaid-placeholder" data-v-e0afffa3>sequenceDiagram
    participant Browser
    participant Server

    Browser-&gt;&gt;Server: GET /index.html
    Server--&gt;&gt;Browser: 200 OK + HTML
    Server--&gt;&gt;Browser: PUSH_PROMISE /style.css
    Server--&gt;&gt;Browser: PUSH_PROMISE /app.js
    Server--&gt;&gt;Browser: (推送) style.css + app.js 内容

    Note over Browser: 浏览器收到资源前置推送&lt;br/&gt;减少请求轮次与首屏延迟

</pre></div><p><!--[-->为了在 HTTP/1.1 中尽可能减少后续的请求，前端开发者尝试了非常多的优化手段，正如 Sukka 在《<a href="https://blog.skk.moe/post/http2-server-push/" rel="nofollow"><!--[-->静态资源递送优化：HTTP/2 和 Server Push<!--]--></a>》一文中所讲：<!--]--></p><blockquote><!--[--><p><!--[-->关键资源、关键渲染路径、关键请求链的概念诞生已久，异步加载资源的概念可谓是老生常谈：懒加载图片、视频、iframe，乃至懒加载 CSS、JS、DOM，懒执行函数。但是，关键资源递送的思路却依然没有多少改变。<!--]--></p><!--]--></blockquote><p><!--[-->HTTP/2 的 Server Push 创造了新的资源递送思路，CSS/JS 等资源不用随着 html 一起递送也能在一个 RTT 内被传送到客户端，而这一部分资源可以被浏览器缓存起来，不被 html 那较短的 TTL 所限制。<!--]--></p><h2 id="初步方案" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->初步方案<!--]--><a href="#初步方案" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->既然理清了 HTTP/2 服务端推送的优势，于是准备着手优化。我的博客是纯静态的，通过 DNS 进行境内外分流：境内流量会访问到 DMIT 一台带有 cmin2/9929 网络优化的 vps 上，通过 caddy 提供服务；境外流量则是直接打到 vercel，借助 Amazon 的 CDN 为全球网络提供边缘加速。网络架构大概是下面这个样子：<!--]--></p><div class="mermaid-wrapper" style="" data-v-a9c19cc1 data-v-e0afffa3><div class="mermaid-container" data-v-e0afffa3></div><pre class="language-mermaid shiki shiki-themes one-light one-dark-pro mermaid-placeholder" data-v-e0afffa3>graph TD
    A[博客访客] --&gt; B[发起DNS解析请求]
    B --&gt; C[DNSPod 服务]
    C --&gt;|境内访客：智能分流| D[网络优化 VPS]
    C --&gt;|境外访客：智能分流| E[Vercel 平台]
    D --&gt; F[Caddy]
    F --&gt; G[返回博客内容给境内访客]
    E --&gt; H[返回博客内容给境外访客]
</pre></div><p><!--[-->Caddy 可以通过 <code><!--[-->http.handlers.push<!--]--></code> 模块实现 HTTP/2 的服务端推送，在 Caddyfile 中我们可以编写简单的推送逻辑，这没问题；vercel 平台则没有给开发者提供 HTTP/2 服务端推送的配置项，但好在我是静态博客，对平台依赖性不强，考虑迁移到 Cloudflare Workers，<a href="https://brianli.com/cloudflare-workers-sites-http2-server-push/" rel="nofollow"><!--[-->五年前就有开发者实现了<!--]--></a>。<!--]--></p><h2 id="客户端的支持情况" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->客户端的支持情况<!--]--><a href="#客户端的支持情况" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->历史上主流浏览器引擎（Chrome/Chromium、Firefox、Edge、Safari）曾普遍支持服务器推送技术。<!--]--></p><p><!--[-->2020 年 11 月，谷歌宣布<a href="https://groups.google.com/a/chromium.org/g/blink-dev/c/K3rYLvmQUBY/m/vOWBKZGoAQAJ" rel="nofollow"><!--[-->计划在其 Chrome 浏览器的 HTTP/2 及 gQUIC（后发展为HTTP/3）实现中移除服务器推送功能<!--]--></a>。<!--]--></p><p><!--[-->2022 年 10 月，谷歌宣布<a href="https://developer.chrome.com/blog/removing-push/" rel="nofollow"><!--[-->计划从Chrome浏览器中移除服务器推送功能<!--]--></a>，指出该扩展在实际应用中性能不佳、使用率低且存在更优替代方案。Chrome 106 成为首个默认禁用服务器推送的版本。<!--]--></p><p><!--[-->2024 年 10 月 29 日，Mozilla 发布了 Firefox 132版本，<a href="https://www.firefox.com/en-US/firefox/132.0/releasenotes/" rel="nofollow"><!--[-->因“与多个网站存在兼容性问题”移除了对HTTP/2服务器推送功能的支持。<!--]--></a><!--]--></p><p><!--[-->至此，主流浏览器对 HTTP/2 服务端推送（Server Push）的支持已全部终结。从最初被视为“减少往返延迟、优化首屏加载”的创新特性，到最终被全面弃用，HTTP/2 推送的生命周期不过短短数年，成为 Web 性能优化历史上的一次重要实验。<!--]--></p><h2 id="替代方案" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->替代方案<!--]--><a href="#替代方案" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><h3 id="_1-http-103-early-hints" class="prose-heading prose-h3" data-v-894c4550><!--[-->1. HTTP 103 Early Hints<!--]--><a href="#_1-http-103-early-hints" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->103 Early Hints 是对服务端推送最直接的“继任者”。它是一个信息性的 HTTP 状态码 (Informational Response)，允许服务器在生成完整的 HTML 响应（例如，状态码为 200 OK）之前，先发送一个带有 Link 头部的“早期提示”响应。<!--]--></p><p><!--[-->这个 Link 头部可以告诉浏览器：“嘿，我还在准备主菜（HTML），但你可以先去把配菜（CSS、JS）准备好”。这样，浏览器就能利用服务器的“思考时间”提前开始下载关键资源或预热到所需源的连接，从而显著缩短首屏渲染时间。<!--]--></p><p><!--[-->与服务端推送的对比：<!--]--></p><ul><!--[--><li><!--[-->决策权在客户端：Early Hints 只是“提示”，浏览器可以根据自身缓存情况、网络状况等因素决定是否采纳该提示。这就解决了服务端推送最大的痛点——服务器无法知晓客户端缓存而导致推送冗余资源。<!--]--></li><li><!--[-->兼容性更好：它是一种更轻量、更易于中间代理服务器理解和传递的机制。<!--]--></li><!--]--></ul><p><!--[-->103 Early Hints 对动态博客很有意义，在后端进行计算之前先把需要的资源通过 103 响应告知浏览器，让浏览器先取回其他资源，再等待后端返回最终的 html；而<strong><!--[-->对于<!--]--></strong>我这种产物都是预构建好的<strong><!--[-->静态博客<!--]--></strong>，完全<strong><!--[-->没有任何意义<!--]--></strong>，网关有那个发 103 响应的闲工夫完全可以把 html 直接发过去了。<!--]--></p><h3 id="_2-资源提示resource-hints-preload-prefetch" class="prose-heading prose-h3" data-v-894c4550><!--[-->2. 资源提示（Resource Hints）: Preload &amp; Prefetch<!--]--><a href="#_2-资源提示resource-hints-preload-prefetch" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->早在服务端推送被弃用前，通过 <code><!--[-->&lt;link&gt;<!--]--></code>标签实现的资源提示就已经是前端性能优化的常用手段。它们将资源加载的提示声明在 HTML 中，由浏览器主导整个过程。<!--]--></p><ul><!--[--><li><!--[--><code><!--[-->&lt;link rel=&quot;preload&quot;&gt;<!--]--></code>: 用于告诉浏览器当前页面必定会用到的资源，请以高优先级立即开始加载，但加载后不执行。比如，隐藏在 CSS 深处的字体文件或由 JS 动态加载的首屏图片。通过 Preload，可以确保这些关键资源能尽早被发现和下载，避免渲染阻塞。<!--]--></li><li><!--[--><code><!--[-->&lt;link rel=&quot;prefetch&quot;&gt;<!--]--></code>: 用于告诉浏览器用户在未来可能访问的页面或用到的资源，请在浏览器空闲时以低优先级在后台下载。例如，在文章列表页 prefetch 用户最可能点击的文章页面的资源，从而实现近乎“秒开”的跳转体验。<!--]--></li><!--]--></ul><p><!--[-->Preload 和 Prefetch 将资源加载的控制权完全交给了开发者和浏览器，通过声明式的方式精细化管理资源加载的优先级和时机，是目前最成熟、应用最广泛的资源预加载方案，但仍然<strong><!--[-->逃不过 2 RTT 的魔咒<!--]--></strong>。<!--]--></p><h2 id="尾声写给一个理想主义者的挽歌" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->尾声：写给一个理想主义者的挽歌<!--]--><a href="#尾声写给一个理想主义者的挽歌" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->写到最后，我终究是没能为我的博客配上 HTTP/2 服务端推送。<!--]--></p><p><!--[--><strong><!--[-->HTTP/2 Server Push 已事实性“死亡”，我很怀念它。<!--]--></strong><!--]--></p><p><!--[-->在一个理想模型里，当浏览器请求 HTML 时，服务器顺手将渲染所需的 CSS 和 JS  一并推来，将原本至少两次的往返（RTT）干脆利落地压缩为一次。这是一个如此直接、如此漂亮的解决方案，几乎是前端工程师面对首屏渲染延迟问题时梦寐以求的“银弹”。它背后蕴含的是一种雄心勃勃的魄力：试图由服务端一次性地、彻底地解决“关键请求链”的延迟问题。<!--]--></p><p><!--[-->但 Web 的世界终究不是一个理想的实验室。它充满了缓存、重复访问的用户、以及形形色色的网络环境。<!--]--></p><p><!--[-->服务端推送最大的魅力，在于它的“主动”，而它最大的遗憾，也恰恰源于这份“主动”。它无法知晓浏览器缓存中是否早已静静躺着那个它正准备满腔热情推送的 style.css 文件。为了那一小部分首次访问用户的极致体验，却可能要以浪费更多再次访问用户的宝贵带宽为代价。<!--]--></p><p><!--[-->Web 的演进最终选择了一条更稳妥、更具协作精神的道路。它将决策权交还给了最了解情况的浏览器，整个交互从服务器的“<strong><!--[-->我推送给你<!--]--></strong>”，变成了服务器的“<strong><!--[-->我建议你拿<!--]--></strong>”，再由浏览器自己定夺。这或许不够浪漫，不够极致，但它更普适，也更健壮。<!--]--></p><p><!--[-->所以，我依然会怀念那个雄心勃勃的 Server Push。它代表了一种对极致性能的纯粹追求，一种美好的技术理想主义。尽管它已悄然淡出历史舞台，但它所指向的那个关于“速度”的梦想，早已被 103 Early Hints 和 preload 以一种更成熟、更懂得权衡的方式继承了下来。<!--]--></p><h2 id="参见" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->参见<!--]--><a href="#参见" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><a href="https://developer.chrome.com/blog/removing-push" rel="nofollow"><!--[-->Remove HTTP/2 Server Push from Chrome  |  Blog  |  Chrome for Developers<!--]--></a><!--]--></li><li><!--[--><a href="https://en.wikipedia.org/wiki/HTTP/2_Server_Push" rel="nofollow"><!--[-->HTTP/2 Server Push - Wikipedia<!--]--></a><!--]--></li><li><!--[--><a href="https://blog.skk.moe/post/http2-server-push/" rel="nofollow"><!--[-->静态资源递送优化：HTTP/2 和 Server Push | Sukka&#39;s Blog<!--]--></a><!--]--></li><li><!--[--><a href="https://caddyserver.com/docs/modules/http.handlers.push" rel="nofollow"><!--[-->Module http.handlers.push - Caddy Documentation<!--]--></a><!--]--></li><li><!--[--><a href="https://brianli.com/cloudflare-workers-sites-http2-server-push/" rel="nofollow"><!--[-->How to Configure HTTP/2 Server Push on Cloudflare Workers Sites<!--]--></a><!--]--></li><li><!--[--><a href="https://groups.google.com/a/chromium.org/g/blink-dev/c/K3rYLvmQUBY/m/vOWBKZGoAQAJ" rel="nofollow"><!--[-->Intent to Remove: HTTP/2 and gQUIC server push<!--]--></a><!--]--></li><!--]--></ul><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}</style></article><hr class="article-end-hr" data-v-3db633ac><div class="tags" data-v-3db633ac><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-3db633ac><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/tags/HTTP/" class="" data-v-3db633ac>#HTTP</a><a href="/tags/Caddy/" class="" data-v-3db633ac>#Caddy</a><a href="/tags/Network/" class="" data-v-3db633ac>#Network</a><a href="/tags/HTML/" class="" data-v-3db633ac>#HTML</a><a href="/tags/Vercel/" class="" data-v-3db633ac>#Vercel</a><!--]--></div><nav class="post-navigation" data-v-3db633ac data-v-a35c130b><a href="/2025/11/11/dns-cold-start-dilemma/" class="nav-button prev" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M10 22L0 12L10 2l1.775 1.775L3.55 12l8.225 8.225z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>上一篇</span><span class="nav-title" data-v-a35c130b>DNS 冷启动：小型站点的“西西弗斯之石”</span></div></a><a href="/2025/10/20/nuxt-content-v3-z-array-query-challenge/" class="nav-button next" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M8.025 22L6.25 20.225L14.475 12L6.25 3.775L8.025 2l10 10z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>下一篇</span><span class="nav-title" data-v-a35c130b>Nuxt Content v3 中数组字段的筛选困境与性能优化</span></div></a></nav><div id="waline" data-v-3db633ac><span></span></div><!--]--></main><div class="after-main side" data-v-40d23075><!--[--><aside data-v-3db633ac><nav class="toc" data-v-3db633ac data-v-bdce45f2><div class="toc-title" data-v-bdce45f2>目录</div><ul class="toc-list" data-v-bdce45f2><!--[--><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#http2-服务端推送为什么能提升首屏加载速度" data-v-bdce45f2>HTTP/2 服务端推送为什么能提升首屏加载速度</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#初步方案" data-v-bdce45f2>初步方案</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#客户端的支持情况" data-v-bdce45f2>客户端的支持情况</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#替代方案" data-v-bdce45f2>替代方案</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_1-http-103-early-hints" data-v-bdce45f2>1. HTTP 103 Early Hints</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#_2-资源提示resource-hints-preload-prefetch" data-v-bdce45f2>2. 资源提示（Resource Hints）: Preload &amp; Prefetch</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#尾声写给一个理想主义者的挽歌" data-v-bdce45f2>尾声：写给一个理想主义者的挽歌</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#参见" data-v-bdce45f2>参见</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-color:#ee5522;background-image:url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;100&#39; height=&#39;100&#39; viewBox=&#39;0 0 200 200&#39;%3E%3Cdefs%3E%3ClinearGradient id=&#39;a&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;33&#39; x2=&#39;100&#39; y2=&#39;-3&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3ClinearGradient id=&#39;b&#39; gradientUnits=&#39;userSpaceOnUse&#39; x1=&#39;100&#39; y1=&#39;135&#39; x2=&#39;100&#39; y2=&#39;97&#39;%3E%3Cstop offset=&#39;0&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;0&#39;/%3E%3Cstop offset=&#39;1&#39; stop-color=&#39;%23000&#39; stop-opacity=&#39;1&#39;/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill=&#39;%23d23d09&#39; fill-opacity=&#39;0.6&#39;%3E%3Crect x=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3Crect y=&#39;100&#39; width=&#39;100&#39; height=&#39;100&#39;/%3E%3C/g%3E%3Cg fill-opacity=&#39;0.5&#39;%3E%3Cpolygon fill=&#39;url(%23a)&#39; points=&#39;100 30 0 0 200 0&#39;/%3E%3Cpolygon fill=&#39;url(%23b)&#39; points=&#39;100 100 0 130 0 100 200 100 200 130&#39;/%3E%3C/g%3E%3C/svg%3E&quot;);" data-v-40d23075 data-v-5bcc226c><div class="footer-mask" data-v-5bcc226c></div><div class="footer-content" data-v-5bcc226c><div class="social" data-v-5bcc226c><a href="https://github.com/zhullyb/" rel="noopener noreferrer" class="social-icons" aria-label="Github" data-v-5bcc226c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" fill-rule="evenodd" d="M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"></path></svg></a><a class="social-icons" href="/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS" data-v-5bcc226c><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" fill-rule="evenodd" d="M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"></path></svg></a><a href="/donate/" class="social-icons" aria-label="Donate" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" d="M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"></path></svg></a><a class="social-icons" href="mailto:zhullyb@outlook.com" aria-label="Email" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-5bcc226c><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"></path></svg></a></div><div class="center-y" style="gap:4px;font-weight:600;" data-v-5bcc226c><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" style="font-size:0.9em;" data-v-5bcc226c><g fill="none"><path d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M15.182 15.183a4.5 4.5 0 1 1 0-6.364"></path></g></svg> 2020 - 2025 zhullyb </div><div class="center-y" style="gap:8px;font-weight:600;" data-v-5bcc226c> Proudly Powered by <a href="https://nuxt.com/" rel="noopener noreferrer" class="center-y" aria-label="Nuxt" data-v-5bcc226c><svg viewBox="0 0 512 121" width="5.09em" height="1.2em" style="fill:white;" data-v-5bcc226c><path fill="#00DC82" d="M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"></path><path d="M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"></path></svg></a></div><div class="promo-card" style="margin-top:12px;" data-v-5bcc226c data-v-b2edde66><div class="card-header" data-v-b2edde66><div class="header-left" data-v-b2edde66><div class="logo-yxvm-container" data-v-b2edde66><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-b2edde66><img src="https://static.031130.xyz/uploads/2025/11/25/2584c5a5ec26b.png" alt="yxvm" class="logo-img" data-v-b2edde66></a></div><span class="plus-separator" data-v-b2edde66>+</span><div class="logo-nodeseek-container" data-v-b2edde66><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-b2edde66><img src="https://static.031130.xyz/uploads/2025/11/25/f56e28d4d53ca.png" alt="nodeseek" class="logo-img" data-v-b2edde66></a></div></div><div data-v-b2edde66><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-b2edde66><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-b2edde66><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-b2edde66></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-b2edde66></g><g id="SVGRepo_iconCarrier" data-v-b2edde66><title data-v-b2edde66>github [#142]</title><desc data-v-b2edde66>Created with Sketch.</desc><defs data-v-b2edde66></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-b2edde66><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-b2edde66><g transform="translate(56.000000, 160.000000)" id="icons" data-v-b2edde66><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-b2edde66></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-b2edde66> NodeSupport Project </h1><p class="card-description" data-v-b2edde66> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p><div class="card-footer" data-v-b2edde66><span data-v-b2edde66>Support ID:</span><span data-v-b2edde66>61</span></div></div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/#website","@type":"WebSite","description":"这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","inLanguage":"zh-CN","name":"竹林里有冰的博客","url":"https://zhul.in/","workTranslation":[{"@id":"https://zhul.in/#website"},{"@id":"https://zhul.in/en/#website"}]},{"@id":"https://zhul.in/2025/11/05/http-2-server-push-is-practically-obsolete/#webpage","@type":"WebPage","description":"我最近一阵子在重构我的博客，恰巧之前一阵子准备秋招的时候背八股时看到了 HTTP/2 的服务端推送，于是便尝试在部署阶段为我的博客配置好 HTTP/2 的服务端推送，试图以此来进一步优化首屏加载速度。","name":"HTTP/2 Server Push 已事实性“死亡”，我很怀念它","url":"https://zhul.in/2025/11/05/http-2-server-push-is-practically-obsolete/","isPartOf":{"@id":"https://zhul.in/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/2025/11/05/http-2-server-push-is-practically-obsolete/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/2025/11/05/http-2-server-push-is-practically-obsolete/_payload.json?6ca00899-2626-4e7e-a65d-a74e394caa29">[{"state":1,"once":21,"_errors":22,"serverRendered":6,"path":24,"prerenderedAt":25},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":16,"description":17,"env":18,"name":19,"trailingSlash":6,"url":20},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"zh-CN","这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","production","竹林里有冰的博客","https://zhul.in/",["Set"],["ShallowReactive",23],{"post-2025-11-05-http-2-server-push-is-practically-obsolete-zh":-1,"surround-2025-11-05-http-2-server-push-is-practically-obsolete-zh":-1,"randomIndex/2025/11/05/http-2-server-push-is-practically-obsolete/":-1,"language-switch-/2025/11/05/http-2-server-push-is-practically-obsolete/-en":-1,"posts-search-sections":-1},"/2025/11/05/http-2-server-push-is-practically-obsolete/",1765307304269]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"简体中文",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"6ca00899-2626-4e7e-a65d-a74e394caa29",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>