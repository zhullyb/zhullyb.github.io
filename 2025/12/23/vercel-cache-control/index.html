<!DOCTYPE html><html  lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vercel 的缓存控制，你注意过吗？ | 竹林里有冰的博客</title><link rel="preconnect" href="https://static.031130.xyz" crossorigin><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><style>[data-v-3db633ac] .markdown-body{font-family:inherit;font-size:inherit}[data-v-3db633ac] .markdown-body .heimu,[data-v-3db633ac] .markdown-body .heimu a,[data-v-3db633ac] .markdown-body .heimu a.new,a[data-v-3db633ac] .markdown-body .heimu{background-color:#252525;color:#252525;text-shadow:none}[data-v-3db633ac] .markdown-body .heimu:active,[data-v-3db633ac] .markdown-body .heimu:hover,[data-v-3db633ac] .markdown-body .heimu:active .heimu,[data-v-3db633ac] .markdown-body .heimu:hover .heimu{color:#fff!important}[data-v-3db633ac] .markdown-body .heimu:active a,[data-v-3db633ac] .markdown-body .heimu:hover a{color:#add8e6!important}[data-v-3db633ac] .markdown-body .heimu:active .new,[data-v-3db633ac] .markdown-body .heimu:hover .new{color:#ba0000!important}a[data-v-3db633ac]:active .markdown-body .heimu,a[data-v-3db633ac]:hover .markdown-body .heimu{color:#add8e6!important}.new[data-v-3db633ac]:active .markdown-body .heimu,.new[data-v-3db633ac]:hover .markdown-body .heimu{color:#ba0000!important}[data-v-3db633ac] .markdown-body h2,[data-v-3db633ac] .markdown-body h3,[data-v-3db633ac] .markdown-body h4,[data-v-3db633ac] .markdown-body h5,[data-v-3db633ac] .markdown-body h6{scroll-margin-top:78px}[data-v-3db633ac] .markdown-body h2>a,[data-v-3db633ac] .markdown-body h3>a,[data-v-3db633ac] .markdown-body h4>a,[data-v-3db633ac] .markdown-body h5>a,[data-v-3db633ac] .markdown-body h6>a{color:unset}@media(prefers-color-scheme:dark){[data-v-3db633ac] .markdown-body{--bgColor-default:#252d38;--bgColor-muted:#181c27}[data-v-3db633ac] .markdown-body .shiki,[data-v-3db633ac] .markdown-body .shiki span{color:var(--shiki-dark)!important}}aside[data-v-3db633ac]{position:sticky;top:78px}[data-v-3db633ac] #waline{margin-top:3rem}.article-end-hr[data-v-3db633ac]{border:none;border-top:1px solid #e1e4e8;margin:1rem 0}@media(prefers-color-scheme:dark){.article-end-hr[data-v-3db633ac]{border-color:#444c56}}.tags[data-v-3db633ac]{margin:1rem 0}.tags[data-v-3db633ac] *{vertical-align:middle}.tags svg[data-v-3db633ac]{font-size:.9em}.tags a[data-v-3db633ac]{display:inline-block;margin-left:.2rem}.tags a[data-v-3db633ac]:hover{color:#007bff}</style><style>.content-wrapper[data-v-40d23075]{margin-bottom:40px;margin-top:40px}@media(min-width:1025px){.content-wrapper[data-v-40d23075]{display:flex;justify-content:space-around}.content-wrapper .side[data-v-40d23075]{width:20%}}@media(max-width:1024px){.content-wrapper[data-v-40d23075]{margin:30px}}main[data-v-40d23075]{min-height:calc(40vh - 120px);width:50%}@media(max-width:1024px){main[data-v-40d23075]{width:unset}}</style><style>header[data-v-c4c9a290]{align-items:center;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;height:62px;justify-content:center;padding-bottom:16px;padding-top:20px;position:fixed;top:0;transition:background-color .3s ease,height .3s ease,padding-top .3s ease,backdrop-filter .3s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:2}header.scrolled[data-v-c4c9a290]{height:58px;padding-bottom:16px;padding-top:16px}header.scrolled[data-v-c4c9a290],header.show-mobile-menu[data-v-c4c9a290]{-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:#3c4658b3}header.show-mobile-menu[data-v-c4c9a290]{height:-moz-fit-content;height:fit-content}.header-container[data-v-c4c9a290]{color:#fff;min-width:70%}@media(max-width:1024px){.header-container[data-v-c4c9a290]{min-width:100%;padding-left:16px;padding-right:16px}}.header-container .header-title[data-v-c4c9a290]{font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.3)}.header[data-v-c4c9a290]{justify-content:space-between}.header[data-v-c4c9a290],.header-right[data-v-c4c9a290]{align-items:center;display:flex}.header-right[data-v-c4c9a290]{gap:16px}.mobile-menu-dropdown[data-v-c4c9a290]{border-radius:8px;display:flex;flex-direction:column;padding:8px 0;width:100%}.mobile-menu-dropdown a[data-v-c4c9a290]{font-size:18px;font-weight:500;padding:12px 24px;text-align:center}.mobile-menu-dropdown a[data-v-c4c9a290],a[data-v-c4c9a290]{color:#fff;text-decoration:none}.lang-switch[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;justify-content:center;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.lang-switch[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger[data-v-c4c9a290]{align-items:center;background:#ffffff1a;border:1px solid hsla(0,0%,100%,.3);border-radius:999px;color:#fff;cursor:pointer;display:flex;font-size:14px;gap:6px;padding:6px 12px;transition:background .2s ease,border-color .2s ease}.search-trigger[data-v-c4c9a290]:hover{background:#fff3;border-color:#fff9}.search-trigger span[aria-hidden=true][data-v-c4c9a290]{font-size:16px;line-height:1}@media(max-width:1024px){.search-trigger[data-v-c4c9a290]{display:none}}</style><style>.post-navigation[data-v-a35c130b]{display:flex;flex-wrap:wrap;gap:1rem}.nav-button[data-v-a35c130b]{align-items:center;border:1px solid #e1e4e8;color:#24292e;cursor:pointer;display:flex;flex:0 1 calc(50% - .5rem);gap:1rem;max-width:calc(50% - .5rem);min-width:280px;padding:1.25rem 1.5rem;text-decoration:none;transition:border-color .2s ease}@media(prefers-color-scheme:dark){.nav-button[data-v-a35c130b]{border:1px solid #444c5a;color:#c9d1d9}}.nav-button[data-v-a35c130b]:hover{border-color:#007bff}.nav-button:hover .nav-arrow[data-v-a35c130b],.nav-button:hover .nav-label[data-v-a35c130b],.nav-button:hover .nav-title[data-v-a35c130b]{color:#007bff}.nav-button.prev[data-v-a35c130b]{margin-right:auto}.nav-button.prev .nav-content[data-v-a35c130b]{text-align:left}.nav-button.next[data-v-a35c130b]{flex-direction:row-reverse;margin-left:auto}.nav-button.next .nav-content[data-v-a35c130b]{text-align:right}.nav-arrow[data-v-a35c130b]{color:#6a737d;flex-shrink:0;font-weight:600;line-height:1}.nav-content[data-v-a35c130b]{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.nav-label[data-v-a35c130b]{color:#6a737d;font-size:.875rem;font-weight:500}.nav-title[data-v-a35c130b]{display:-webkit-box;font-size:1rem;font-weight:600;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;text-overflow:ellipsis;transition:color .2s ease;-webkit-box-orient:vertical;color:#24292e;line-height:1.4}@media(prefers-color-scheme:dark){.nav-title[data-v-a35c130b]{color:#c9d1d9}}@media(max-width:720px){.post-navigation[data-v-a35c130b]{flex-direction:column;gap:.75rem}.nav-button[data-v-a35c130b]{min-width:100%}}</style><style>#waline{--waline-theme-color:#3f72af;--waline-active-color:#173f70}#waline .wl-panel{border-radius:0;margin:0}@media(prefers-color-scheme:dark){#waline .wl-panel{border-color:#444c5a}}#waline .wl-btn{border-radius:0}</style><style>.toc[data-v-bdce45f2]{background:#fafafa;border:1px solid #e5e5e5;max-height:calc(100vh - 120px);overflow-y:auto;padding:1.25rem}@media(prefers-color-scheme:dark){.toc[data-v-bdce45f2]{background:#181c27;border:1px solid #444c5a}}@media(max-width:1024px){.toc[data-v-bdce45f2]{display:none}}.toc-title[data-v-bdce45f2]{border-bottom:1px solid #e5e5e5;color:#333;font-size:1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}@media(prefers-color-scheme:dark){.toc-title[data-v-bdce45f2]{border-bottom:1px solid #444c5a;color:#fff}}.toc-list[data-v-bdce45f2]{list-style:none;margin:0;padding:0}.toc-item[data-v-bdce45f2]{line-height:1.5;margin:.3rem 0;max-height:100px;opacity:1;overflow:hidden;transition:max-height .25s ease,opacity .25s ease,margin .25s ease}.toc-item.collapsed[data-v-bdce45f2]{margin:0;max-height:0;opacity:0}.toc-item a[data-v-bdce45f2]{color:#666;display:block;font-size:.875rem;padding:.35rem .5rem;text-decoration:none;transition:color .2s,background-color .2s}@media(prefers-color-scheme:dark){.toc-item a[data-v-bdce45f2]{color:#ccc}}.toc-item a[data-v-bdce45f2]:hover{background-color:#3b82f614;color:#007bff}.toc-item.active a[data-v-bdce45f2]{background-color:#3b82f61f;color:#007bff;font-weight:500}.toc-item.toc-level-1[data-v-bdce45f2]{padding-left:0}.toc-item.toc-level-1 a[data-v-bdce45f2]{font-weight:500}.toc-item.toc-level-2[data-v-bdce45f2]{padding-left:.75rem}.toc-item.toc-level-3[data-v-bdce45f2]{padding-left:1.5rem}.toc-item.toc-level-3 a[data-v-bdce45f2]{font-size:.85rem}.toc-item.toc-level-4[data-v-bdce45f2]{padding-left:2.25rem}.toc-item.toc-level-4 a[data-v-bdce45f2]{font-size:.825rem}.toc-item.toc-level-5[data-v-bdce45f2]{padding-left:3rem}.toc-item.toc-level-5 a[data-v-bdce45f2]{font-size:.8rem}.toc-item.toc-level-6[data-v-bdce45f2]{padding-left:3.75rem}.toc-item.toc-level-6 a[data-v-bdce45f2]{font-size:.775rem}.toc[data-v-bdce45f2]::-webkit-scrollbar{width:5px}.toc[data-v-bdce45f2]::-webkit-scrollbar-track{background:transparent}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb{background:#d1d5db}.toc[data-v-bdce45f2]::-webkit-scrollbar-thumb:hover{background:#9ca3af}</style><style>footer[data-v-6b237f26]{color:#fff;justify-content:center;position:relative;width:100%}.footer-content[data-v-6b237f26],footer[data-v-6b237f26]{align-items:center;display:flex}.footer-content[data-v-6b237f26]{flex-direction:column;gap:8px;padding:20px;z-index:1}.footer-mask[data-v-6b237f26]{background:linear-gradient(180deg,#0000004d,#00000080);inset:0;position:absolute}@media(prefers-color-scheme:dark){.footer-mask[data-v-6b237f26]{background:linear-gradient(180deg,#0009,#000c)}}.social[data-v-6b237f26]{gap:16px;margin-bottom:12px}.social[data-v-6b237f26],.social-icons[data-v-6b237f26]{align-items:center;display:flex}.social-icons[data-v-6b237f26]{background-color:#ffffff1a;border-radius:50%;cursor:pointer;height:48px;justify-content:center;width:48px}.social-icons[data-v-6b237f26]:hover{background-color:#fff3}.social-icons svg[data-v-6b237f26]{fill:#fff;height:20px;width:20px}</style><style>.promo-card[data-v-b2edde66]{background:#0003;border:.5px solid #eee;box-sizing:border-box;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;gap:16px;max-width:310px;padding:24px;zoom:.8}.card-header[data-v-b2edde66]{justify-content:space-between}.card-header[data-v-b2edde66],.header-left[data-v-b2edde66]{align-items:center;display:flex}.header-left[data-v-b2edde66]{gap:8px}.logo-img[data-v-b2edde66]{display:block;height:auto;width:100%}.logo-yxvm-container[data-v-b2edde66]{margin-left:2px;width:100px}.plus-separator[data-v-b2edde66]{color:#fff;font-size:20px;font-weight:700}.logo-nodeseek-container[data-v-b2edde66]{width:40px}.github-link[data-v-b2edde66]{color:#fff;display:block;transition:color .2s ease-in-out;width:20px}.github-link[data-v-b2edde66]:hover{color:#38bdf8}.github-icon[data-v-b2edde66]{fill:currentColor;height:100%;width:100%}.card-title[data-v-b2edde66]{color:#fff;font-size:18px;font-weight:500;line-height:1.2;margin:0;text-transform:capitalize}.card-description[data-v-b2edde66]{color:#94a3b8;font-size:14px;line-height:1.5;margin:0}.card-footer[data-v-b2edde66]{color:#e4e4e7;display:flex;font-size:13px;font-weight:500;gap:4px;justify-content:flex-end}</style><style>.prose-heading[data-v-a22a06c0]{position:relative}.prose-heading:hover .heading-anchor[data-v-a22a06c0]{opacity:1}.heading-anchor[data-v-a22a06c0]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-a22a06c0]:hover{color:#007bff}.anchor-icon[data-v-a22a06c0]{display:inline-block}.prose-h2[data-v-a22a06c0]{margin:1.75rem 0 .875rem}</style><style>.prose-img-wrapper[data-v-4f488808]{display:inline-block;position:relative}.prose-img[data-v-4f488808]{border-radius:4px;box-shadow:0 1px 4px #00000014;max-width:100%;transition:box-shadow .2s}.prose-img[data-v-4f488808]:hover{box-shadow:0 4px 16px #0000002e}.prose-img-caption[data-v-4f488808]{color:#666;display:block;font-size:.875rem;font-style:italic;margin-top:.25rem;text-align:center}.prose-img-preview-mask[data-v-4f488808]{align-items:center;animation:fadeIn-4f488808 .2s;background:#000000d9;display:flex;justify-content:center;inset:0;position:fixed;z-index:9999}.prose-img-preview-img[data-v-4f488808]{background:#fff;border-radius:8px;box-shadow:0 8px 32px #0006;max-height:90vh;max-width:90vw;will-change:transform}.prose-img-preview-img[data-v-4f488808],.prose-img-preview-scale-indicator[data-v-4f488808]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.prose-img-preview-scale-indicator[data-v-4f488808]{background:#00000080;border-radius:4px;bottom:32px;color:#fff;font-size:1rem;left:50%;padding:2px 10px;pointer-events:none;position:absolute;transform:translate(-50%);z-index:10001}.prose-img-preview-close[data-v-4f488808]{background:none;border:none;color:#fff;cursor:pointer;font-size:2.5rem;line-height:1;padding:0 .5rem;position:absolute;right:48px;top:32px;transition:color .2s;z-index:10000}.prose-img-preview-close[data-v-4f488808]:hover{color:#ffb3b3}@keyframes fadeIn-4f488808{0%{opacity:0}to{opacity:1}}</style><style>.prose-heading[data-v-894c4550]{position:relative}.prose-heading:hover .heading-anchor[data-v-894c4550]{opacity:1}.heading-anchor[data-v-894c4550]{color:#3b82f6;font-weight:400;margin-left:.5rem;opacity:0;text-decoration:none;transition:opacity .2s,color .2s}.heading-anchor[data-v-894c4550]:hover{color:#007bff}.anchor-icon[data-v-894c4550]{display:inline-block}.prose-h3[data-v-894c4550]{margin:1.5rem 0 .75rem}</style><style>pre[data-v-a9c19cc1]{font-size:14px}</style><style>.mermaid-wrapper[data-v-e0afffa3]{display:block}.mermaid-container[data-v-e0afffa3]{background:#fff;display:flex;justify-content:center;margin:1.5em 0;opacity:0;overflow-x:auto;transform:translateY(10px);transition:opacity .4s ease-out,transform .4s ease-out}@media(prefers-color-scheme:dark){.mermaid-container[data-v-e0afffa3]{background:#a7a7a7}}.mermaid-container.mermaid-loaded[data-v-e0afffa3],.mermaid-placeholder[data-v-e0afffa3]{opacity:1;transform:translateY(0)}.mermaid-placeholder[data-v-e0afffa3]{transition:opacity .3s ease-out,transform .3s ease-out}.mermaid-error[data-v-e0afffa3]{background-color:#ffebee;border-left:4px solid #d32f2f;border-radius:4px;color:#d32f2f;padding:1em}</style><style>@media(max-width:1024px){.pc-nav[data-v-49e970ab]{display:none}}.mobile-nav[data-v-49e970ab]{cursor:pointer;display:none}@media(max-width:1024px){.mobile-nav[data-v-49e970ab]{align-items:center;display:flex;justify-content:center}}.mobile-nav .container[data-v-49e970ab]{align-items:center;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;width:25px}.mobile-nav-item[data-v-49e970ab]{background:#fff;border-radius:2px;flex-shrink:0;height:2px;margin:2.5px 0;width:100%}a[data-v-49e970ab]{color:#fff;margin-left:16px;margin-right:16px;text-decoration:none}</style><style>.banner[data-v-0f1d2f14]{height:60vh;width:100%}.mask[data-v-0f1d2f14]{align-items:center;background:#0000001a;display:flex;height:100%;justify-content:center;width:100%}@media(prefers-color-scheme:dark){.mask[data-v-0f1d2f14]{background:#00000080}}.title-container[data-v-0f1d2f14]{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;margin:auto;width:50%}@media(max-width:1024px){.title-container[data-v-0f1d2f14]{width:80%}}.title[data-v-0f1d2f14]{color:#fff;margin:auto auto auto 0;padding-top:58px;text-shadow:0 0 5px rgba(0,0,0,.7)}.title h1[data-v-0f1d2f14]{font-size:32px;font-weight:700;margin:0}@media(max-width:720px){.title h1[data-v-0f1d2f14]{font-size:24px}}.title p[data-v-0f1d2f14]{font-size:16px;font-weight:300;margin:8px 0}@media(max-width:1024px){.title[data-v-0f1d2f14]{margin:auto;text-align:center}}</style><style>.search-overlay-enter-active[data-v-63592d71],.search-overlay-leave-active[data-v-63592d71]{transition:opacity .2s ease}.search-overlay-enter-from[data-v-63592d71],.search-overlay-leave-to[data-v-63592d71]{opacity:0}.search-overlay[data-v-63592d71]{align-items:flex-start;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#00000059;display:flex;justify-content:center;inset:0;padding:120px 16px 40px;position:fixed;z-index:2000}.search-overlay__panel[data-v-63592d71]{background:#fffffff2;box-shadow:0 18px 50px #00000040;display:flex;flex-direction:column;max-height:calc(100vh - 160px);overflow:hidden;width:min(720px,100%)}.search-overlay__header[data-v-63592d71]{align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:flex;gap:12px;padding:16px 20px 16px 16px}.search-overlay__input[data-v-63592d71]{background:#ffffffd9;border:1px solid rgba(0,0,0,.12);flex:1;font-size:16px;padding:12px 16px;transition:border-color .2s ease}.search-overlay__input[data-v-63592d71]:focus{border-color:#007bff;outline:none}.search-overlay__close[data-v-63592d71]{background:transparent;border:none;border-radius:50%;color:#0000008c;cursor:pointer;font-size:24px;height:32px;line-height:24px;width:32px}.search-overlay__close[data-v-63592d71]:hover{color:#000c}.search-overlay__body[data-v-63592d71]{overflow-y:auto;padding:8px 0 20px}.search-overlay__state[data-v-63592d71]{color:#00000094;margin:20px;text-align:center}.search-overlay__count[data-v-63592d71]{color:#000000b3;font-weight:600;margin:12px 24px 0}.search-overlay__list[data-v-63592d71]{display:flex;flex-direction:column;gap:12px;list-style:none;margin:16px 0 0;padding:0 8px 8px}.search-overlay__item[data-v-63592d71]{background:#ffffffe6;border-radius:12px;box-shadow:0 8px 18px #00000014;transition:transform .2s ease}.search-overlay__item[data-v-63592d71]:hover{transform:translateY(-2px)}.search-overlay__link[data-v-63592d71]{color:inherit;display:block;padding:16px 20px;text-decoration:none}.search-overlay__item-title[data-v-63592d71]{color:#007bff;font-size:18px;font-weight:700;margin:0}.search-overlay__item-meta[data-v-63592d71]{color:#0009;font-size:13px;margin:8px 0 0}.search-overlay__item-meta span[data-v-63592d71]{color:#0000008c}.search-overlay__item-snippet[data-v-63592d71]{color:#000c;font-size:14px;line-height:1.6;margin:12px 0 0}@media(max-width:768px){.search-overlay[data-v-63592d71]{padding:80px 12px 20px}.search-overlay__panel[data-v-63592d71]{max-height:calc(100vh - 120px)}}</style><link rel="stylesheet" href="/_nuxt/entry.7EIxnZzq.css" crossorigin><link rel="stylesheet" href="/_nuxt/DefaultLayout.DOUM_JiO.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/2025/12/23/vercel-cache-control/_payload.json?53f6a0f5-feed-40e0-92e1-326eda4091c2"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiYzJ4hY.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CWaVBptS.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3Qu3kvK.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BOiB57es.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cb7flqkJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CHlDf6n9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DlbVUD9K.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DG71OhFl.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CetZ5Uzv.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cab-yR3B.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B5xXQhQ1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dj65F_tG.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CBDAhjxE.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ck6rrYyX.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CWgCZUeb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CsqzvTwl.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/53f6a0f5-feed-40e0-92e1-326eda4091c2.json"><script src="/js/u.js" defer data-website-id="5346b89b-f4bf-4593-971d-1f41a1118bc1"></script><link rel="prefetch" as="style" href="https://s4.zstatic.net/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css"><link rel="alternate" type="application/rss+xml" title="竹林里有冰的博客 RSS Feed (Chinese)" href="https://zhul.in/rss.xml"><link rel="alternate" type="application/atom+xml" title="竹林里有冰的博客 Atom Feed (English)" href="https://zhul.in/en/rss.xml"><meta name="description" content="Vercel 默认的缓存配置其实并不合理，但鲜有人注意。"><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="keywords" content="Vercel,Network,HTTP"><script type="module" src="/_nuxt/CiYzJ4hY.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="Vercel 的缓存控制，你注意过吗？ | 竹林里有冰的博客"><meta property="og:description" data-infer="" content="Vercel 默认的缓存配置其实并不合理，但鲜有人注意。"><link rel="canonical" href="https://zhul.in/2025/12/23/vercel-cache-control/"><meta property="og:url" content="https://zhul.in/2025/12/23/vercel-cache-control/"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content="竹林里有冰的博客"></head><body><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><!--[--><div></div><div data-v-3db633ac data-v-40d23075><!--[--><header class="" data-v-c4c9a290><div class="header-container" data-v-c4c9a290><div class="header" data-v-c4c9a290><a href="/" class="header-title" data-v-c4c9a290>竹林里有冰的博客</a><div class="header-right" data-v-c4c9a290><nav data-v-c4c9a290 data-v-49e970ab><div class="pc-nav" data-v-49e970ab><!--[--><a href="/" class="" data-v-49e970ab>首页</a><a href="/archives/" class="" data-v-49e970ab>归档</a><a href="/tags/" class="" data-v-49e970ab>标签</a><a href="/links/" class="" data-v-49e970ab>友链</a><a href="/about/" class="" data-v-49e970ab>关于</a><!--]--></div><div class="mobile-nav" data-v-49e970ab><div class="container" data-v-49e970ab><!--[--><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><div class="mobile-nav-item" data-v-49e970ab></div><!--]--></div></div></nav><a href="/en/2025/12/23/vercel-cache-control/" class="lang-switch" aria-label="Switch Language" data-v-c4c9a290><span class="lang-switch__label" data-v-c4c9a290>En</span></a><button type="button" class="search-trigger" aria-label="Search" data-v-c4c9a290><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c4c9a290><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"></path></svg><span class="search-trigger__label" data-v-c4c9a290>搜索</span></button></div></div></div><!----></header><div class="banner" style="background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1348.47 300.57C1365.4 300.72 1383.16 297.87 1395.02 285.78 1406.79 273.78 1408.25 256.04 1408.65 239.23 1409.07 221.86 1409.27 203 1397.32 190.38 1385.17 177.55 1366.13 175.17 1348.47 175.7 1331.42 176.21 1314.9 181.54 1302.46 193.22 1289.62 205.28 1280.76 221.61 1280.82 239.23 1280.88 256.8 1289.74 273.14 1302.76 284.94 1315.16 296.19 1331.73 300.42 1348.47 300.57&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1339.47 286.57C1356.4 286.72 1374.16 283.87 1386.02 271.78 1397.79 259.78 1399.25 242.04 1399.65 225.23 1400.07 207.86 1400.27 189 1388.32 176.38 1376.17 163.55 1357.13 161.17 1339.47 161.7 1322.42 162.21 1305.9 167.54 1293.46 179.22 1280.62 191.28 1271.76 207.61 1271.82 225.23 1271.88 242.8 1280.74 259.14 1293.76 270.94 1306.16 282.19 1322.73 286.42 1339.47 286.57&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M286.26 356.53C297.3 356.91 308.99 355.64 316.98 348.01 325.11 340.25 327.59 328.53 327.36 317.29 327.14 306.31 323.15 295.91 315.76 287.79 307.97 279.23 297.82 272.51 286.26 272.14 274.39 271.77 262.51 276.8 254.84 285.87 247.65 294.38 247.57 306.16 248.08 317.29 248.56 327.75 250.28 338.47 257.58 345.97 264.97 353.56 275.68 356.17 286.26 356.53&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M271.26 342.53C282.3 342.91 293.99 341.64 301.98 334.01 310.11 326.25 312.59 314.53 312.36 303.29 312.14 292.31 308.15 281.91 300.76 273.79 292.97 265.23 282.82 258.51 271.26 258.14 259.39 257.77 247.51 262.8 239.84 271.87 232.65 280.38 232.57 292.16 233.08 303.29 233.56 313.75 235.28 324.47 242.58 331.97 249.97 339.56 260.68 342.17 271.26 342.53&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M417.54 278.45C439.82 278.6 464.98 284.98 481.24 269.75 497.71 254.32 495.86 228.6 494.85 206.05 493.9 184.84 489.98 163.59 475.76 147.83 460.82 131.27 439.83 119.73 417.54 120.38 395.74 121.01 377.36 135.06 362.61 151.12 348.58 166.39 340.24 185.36 338.85 206.05 337.35 228.46 338.18 253.67 354.71 268.88 370.91 283.79 395.52 278.3 417.54 278.45&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M434.54 290.45C456.82 290.6 481.98 296.98 498.24 281.75 514.71 266.32 512.86 240.6 511.85 218.05 510.9 196.84 506.98 175.59 492.76 159.83 477.82 143.27 456.83 131.73 434.54 132.38 412.74 133.01 394.36 147.06 379.61 163.12 365.58 178.39 357.24 197.36 355.85 218.05 354.35 240.46 355.18 265.67 371.71 280.88 387.91 295.79 412.52 290.3 434.54 290.45&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1414.52 133.32C1425.15 134.46 1435.43 128.72 1442.76 120.94 1449.87 113.38 1453.14 103.07 1452.76 92.7 1452.39 82.71 1448.44 72.86 1440.77 66.45 1433.63 60.48 1423.81 60.16 1414.52 60.72 1405.93 61.24 1397.8 63.84 1391.24 69.42 1384.03 75.56 1376.83 83.23 1376.93 92.7 1377.03 102.11 1385.35 108.57 1391.74 115.48 1398.55 122.84 1404.55 132.25 1414.52 133.32&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1426.52 121.32C1437.15 122.46 1447.43 116.72 1454.76 108.94 1461.87 101.38 1465.14 91.07 1464.76 80.7 1464.39 70.71 1460.44 60.86 1452.77 54.45 1445.63 48.48 1435.81 48.16 1426.52 48.72 1417.93 49.24 1409.8 51.84 1403.24 57.42 1396.03 63.56 1388.83 71.23 1388.93 80.7 1389.03 90.11 1397.35 96.57 1403.74 103.48 1410.55 110.84 1416.55 120.25 1426.52 121.32&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M761.84 518.92C773.29 519.13 783.45 512.02 791.04 503.45 798.16 495.41 801.33 484.99 801.4 474.25 801.47 463.43 799.03 452.36 791.43 444.66 783.79 436.91 772.7 433.52 761.84 434.15 751.56 434.75 743.06 440.92 735.5 447.91 727.52 455.29 718.8 463.39 718.44 474.25 718.07 485.33 725.95 494.46 733.68 502.41 741.56 510.52 750.53 518.72 761.84 518.92&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M776.84 533.92C788.29 534.13 798.45 527.02 806.04 518.45 813.16 510.41 816.33 499.99 816.4 489.25 816.47 478.43 814.03 467.36 806.43 459.66 798.79 451.91 787.7 448.52 776.84 449.15 766.56 449.75 758.06 455.92 750.5 462.91 742.52 470.29 733.8 478.39 733.44 489.25 733.07 500.33 740.95 509.46 748.68 517.41 756.56 525.52 765.53 533.72 776.84 533.92&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M811.62 346.15C823.53 346.06 831.1 334.22 838.86 325.18 845.79 317.11 852.42 308.56 853.02 297.94 853.65 286.73 850.34 275.09 842.13 267.43 834.13 259.97 822.55 259.73 811.62 259.32 800.06 258.88 787.53 257.54 778.72 265.04 769.44 272.94 765.24 285.8 766.29 297.94 767.27 309.27 776.17 317.32 783.96 325.6 792.14 334.3 799.68 346.24 811.62 346.15&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M801.62 364.15C813.53 364.06 821.1 352.22 828.86 343.18 835.79 335.11 842.42 326.56 843.02 315.94 843.65 304.73 840.34 293.09 832.13 285.43 824.13 277.97 812.55 277.73 801.62 277.32 790.06 276.88 777.53 275.54 768.72 283.04 759.44 290.94 755.24 303.8 756.29 315.94 757.27 327.27 766.17 335.32 773.96 343.6 782.14 352.3 789.68 364.24 801.62 364.15&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M746.4 152.37C768.76 154.6 792.74 150.08 808.66 134.23 824.61 118.35 828.93 94.41 827.15 71.97 825.51 51.29 814.35 33.36 799.51 18.86 784.87 4.56 766.86-6.86 746.4-6.92 725.89-6.98 707 3.58 692.98 18.55 679.43 33.02 672.06 52.16 672.53 71.97 672.99 91.32 682.34 108.67 695.44 122.93 709.24 137.94 726.11 150.34 746.4 152.37&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M741.4 160.37C763.76 162.6 787.74 158.08 803.66 142.23 819.61 126.35 823.93 102.41 822.15 79.97 820.51 59.29 809.35 41.36 794.51 26.86 779.87 12.56 761.86 1.14 741.4 1.08 720.89 1.02 702 11.58 687.98 26.55 674.43 41.02 667.06 60.16 667.53 79.97 667.99 99.32 677.34 116.67 690.44 130.93 704.24 145.94 721.11 158.34 741.4 160.37&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M665.8 409.54C679.62 409.97 691.22 400 700.4 389.66 708.96 380.01 714.1 367.96 714.17 355.06 714.24 342.08 710.16 329.05 700.78 320.08 691.57 311.27 678.53 308.27 665.8 308.79 653.63 309.29 642.73 314.81 633.57 322.83 623.6 331.56 613.02 341.81 612.97 355.06 612.92 368.34 624.06 378.03 633.3 387.56 642.77 397.32 652.21 409.11 665.8 409.54&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M677.8 397.54C691.62 397.97 703.22 388 712.4 377.66 720.96 368.01 726.1 355.96 726.17 343.06 726.24 330.08 722.16 317.05 712.78 308.08 703.57 299.27 690.53 296.27 677.8 296.79 665.63 297.29 654.73 302.81 645.57 310.83 635.6 319.56 625.02 329.81 624.97 343.06 624.92 356.34 636.06 366.03 645.3 375.56 654.77 385.32 664.21 397.11 677.8 397.54&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);background-repeat:no-repeat;background-position:center center;background-size:cover;" data-v-c4c9a290 data-v-0f1d2f14><div class="mask" data-v-0f1d2f14><div class="title-container" data-v-0f1d2f14><div class="title" data-v-0f1d2f14><h1 data-v-0f1d2f14>Vercel 的缓存控制，你注意过吗？</h1><!----></div></div></div></div><!--teleport start--><!--teleport end--><!--]--><div class="content-wrapper" data-v-40d23075><div class="before-main side" data-v-40d23075><!--[--><!--]--></div><main data-v-40d23075><!--[--><article class="markdown-body" data-v-3db633ac><p><!--[-->Vercel 默认的缓存配置其实并不合理，但鲜有人注意。<!--]--></p><h2 id="先看效果" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->先看效果<!--]--><a href="#先看效果" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[--><span class="prose-img-wrapper" data-v-4f488808><img src="https://static.031130.xyz/uploads/2025/12/23/577e579eceb96.webp" alt="图一" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-4f488808><span class="prose-img-caption" data-v-4f488808>图一</span><!--teleport start--><!--teleport end--></span><!--]--></p><p><!--[--><span class="prose-img-wrapper" data-v-4f488808><img src="https://static.031130.xyz/uploads/2025/12/23/0cfc9543c857a.webp" alt="图二" title="" loading="lazy" class="prose-img" style="cursor:zoom-in;" data-v-4f488808><span class="prose-img-caption" data-v-4f488808>图二</span><!--teleport start--><!--teleport end--></span><!--]--></p><h2 id="分析" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->分析<!--]--><a href="#分析" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><h3 id="测试方案" class="prose-heading prose-h3" data-v-894c4550><!--[-->测试方案<!--]--><a href="#测试方案" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><p><!--[-->这两张图都是我博客在 <a href="https://pagespeed.web.dev/" rel="nofollow"><!--[-->PageSpeed Insights<!--]--></a> 上测得的，测试步骤如下：<!--]--></p><ol><!--[--><li><!--[-->部署<!--]--></li><li><!--[-->在 PageSpeed Insights 进行第一次测试<!--]--></li><li><!--[-->等待 120s，防止 PageSpeed Insights 拿之前的结果糊弄你<!--]--></li><li><!--[-->进行第二次测试，取第二次测试的结果<!--]--></li><!--]--></ol><p><!--[--><strong><!--[-->取第二次结果的目的是为了<!--]--></strong>让 PageSpeed Insights 所命中的 Vercel CDN 节点完成回源，并<strong><!--[-->将内容缓存在 CDN 节点上<!--]--></strong>，这样第二次访问的时候就会直接从 CDN 的缓存中得到结果，不需要回源。<!--]--></p><p><!--[-->那我们看图一的测试结果，正常吗？针对首页的单个 html 加载时长达到了 <strong><!--[-->450ms，看着不算慢，但其实细究下来是有问题的。<!--]--></strong><!--]--></p><p><!--[-->Vercel 采用的是 Amazon 提供的全球 CDN 网络，在我们的首次访问之后，CDN 节点应当该已经缓存了首页的内容，第二次访问的时候应该是直接从 CDN 节点的缓存中获取内容。<!--]--></p><h3 id="合理的时长是多久呢" class="prose-heading prose-h3" data-v-894c4550><!--[-->合理的时长是多久呢？<!--]--><a href="#合理的时长是多久呢" class="heading-anchor" aria-label="链接到此标题" data-v-894c4550><span class="anchor-icon" data-v-894c4550>#</span></a></h3><ul><!--[--><li><!--[-->TCP 建立连接的三次握手，需要 1.5 个往返时延（RTT），再加上 TLS 1.3 握手的 1 个 RTT，共计 2.5 个 RTT。<!--]--></li><li><!--[-->HTML 文件大小 18KB，初始拥塞窗口（IW）10 MSS ≈ 1460 字节 ≈ 14.6KB，理论上应该可以在两个 RTT 内传输完毕。<!--]--></li><!--]--></ul><p><!--[-->共计 4.5 个 RTT。<!--]--></p><p><!--[-->PageSpeed Insights 测试时使用的节点大概率是在美国，Amazon CDN 在美国的节点覆盖非常广泛，单个 RTT 时长控制在 5ms 以内绰绰有余，所以理论加载时长应该在 22.5ms 左右。加上 DNS 解析时长（这个也不多，因为两分钟前有过一次访问，这次不是冷启动）和一些不可控的网络抖动，<strong><!--[-->50ms 以内应该是完全没有问题的。<!--]--></strong><!--]--></p><p><!--[--><strong><!--[-->但实际测得的时长却高达 450ms，差了近 9 倍，这就很不合理了。<!--]--></strong><!--]--></p><p><!--[-->我们再来看图二的结果，单个 HTML 加载时长降到了 41ms，完全符合预期。<!--]--></p><p><!--[-->为什么会有这么大的差异呢？原因就在于 Vercel 对缓存控制的设置上。<!--]--></p><h2 id="vercel-的缓存控制" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->Vercel 的缓存控制<!--]--><a href="#vercel-的缓存控制" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->在 Vercel 上部署的网站，默认情况下，Vercel 会对 HTML 文件设置如下的缓存控制头：<!--]--></p><pre class="language-text" data-v-a9c19cc1><!--[--><code>cache-control: public, max-age=0, must-revalidate
</code><!--]--></pre><p><!--[-->这个设置的含义是：<!--]--></p><ul><!--[--><li><!--[--><code><!--[-->public<!--]--></code>：响应可以被任何缓存区缓存，包括浏览器和 CDN。<!--]--></li><li><!--[--><code><!--[-->max-age=0<!--]--></code>： 响应的最大缓存时间为 0 秒，意味着响应一旦被缓存后立即过期。<!--]--></li><li><!--[--><code><!--[-->must-revalidate<!--]--></code>：一旦响应过期，缓存必须向源服务器验证其有效性。<!--]--></li><!--]--></ul><p><!--[-->结合这三个指令，Vercel 实际上是告诉 CDN 节点：你可以缓存这个 HTML 文件，但每次在使用缓存之前都必须回源验证其有效性。由于 <code><!--[-->max-age=0<!--]--></code>，缓存一旦存储就立即过期，因此每次请求都会触发回源验证。<!--]--></p><p><!--[-->尽管 HTTP/1.1 和 HTTP/2 中的缓存验证通常使用条件请求（如文件的 ETag 或 Last-Modified 头）来节省传输流量，但这仍然需要与源服务器进行往返通信，从而增加了额外的延迟开销。<!--]--></p><p><!--[-->所以，在 Vercel 默认配置下，任何请求的响应都不会被 CDN 节点直接缓存，大致的流程如下：<!--]--></p><div class="mermaid-wrapper" style="" data-v-a9c19cc1 data-v-e0afffa3><div class="mermaid-container" data-v-e0afffa3></div><pre class="language-mermaid shiki shiki-themes one-light one-dark-pro mermaid-placeholder" data-v-e0afffa3>sequenceDiagram
    participant Client
    participant CDN
    participant Vercel
    Client-&gt;&gt;CDN: 请求 HTML 文件
    CDN-&gt;&gt;Vercel: 条件请求验证缓存
    Vercel-&gt;&gt;CDN: 返回最新的 HTML 文件或 304 Not Modified
    CDN-&gt;&gt;Client: 返回 HTML 文件
</pre></div><h2 id="解决方案" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->解决方案<!--]--><a href="#解决方案" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->要解决这个问题，我们需要调整 Vercel 上的缓存控制设置，使得 HTML 文件能够被 CDN 节点缓存一段时间，而不需要每次都回源验证。<!--]--></p><p><!--[-->Vercel 允许我们在项目的根目录下创建一个 <code><!--[-->vercel.json<!--]--></code> 文件以对 Vercel 的部署行为进行一系列的配置，其中就包括 HTTP 的响应头的配置。<!--]--></p><p><!--[-->我的博客采用 Nuxt.js 框架构建，生成的构建产物大概分为两类：<!--]--></p><ol><!--[--><li><!--[-->HTML 文件：这些文件的内容可能会频繁变化，不能设置过长的缓存时间；<!--]--></li><li><!--[-->静态资源文件：包括 JavaScript、CSS 等，这些文件的文件名通常带有 hash 值，可以设置较长的缓存时间甚至被标记为不可变（immutable）。<!--]--></li><!--]--></ol><p><!--[-->在部署流程上，我的博客在每次推送后会先 Github Actions 中构建成静态页面，再部署到 Vercel 上，所以我在我项目的 public 目录下创建了 <code><!--[-->vercel.json<!--]--></code> 文件（这样 vercel.json 文件就会在构建产物的根目录），内容如下：<!--]--></p><pre class="language-json shiki shiki-themes one-light one-dark-pro" style="" data-v-a9c19cc1><!--[--><code><span class="line" line="1"><span class="s5ixo">{
</span></span><span class="line" line="2"><span class="sJa8x">  &quot;headers&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="3"><span class="s5ixo">    {
</span></span><span class="line" line="4"><span class="sJa8x">      &quot;source&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;/(.*)&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="5"><span class="sJa8x">      &quot;headers&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="6"><span class="s5ixo">        {
</span></span><span class="line" line="7"><span class="sJa8x">          &quot;key&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;Cache-Control&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="8"><span class="sJa8x">          &quot;value&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;public, max-age=0, s-maxage=600, must-revalidate&quot;
</span></span><span class="line" line="9"><span class="s5ixo">        }
</span></span><span class="line" line="10"><span class="s5ixo">      ]
</span></span><span class="line" line="11"><span class="s5ixo">    },
</span></span><span class="line" line="12"><span class="s5ixo">    {
</span></span><span class="line" line="13"><span class="sJa8x">      &quot;source&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;/(.*)</span><span class="s_Sar">\\</span><span class="sDhpE">.(css|js)&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="14"><span class="sJa8x">      &quot;headers&quot;</span><span class="s5ixo">: [
</span></span><span class="line" line="15"><span class="s5ixo">        {
</span></span><span class="line" line="16"><span class="sJa8x">          &quot;key&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;Cache-Control&quot;</span><span class="s5ixo">,
</span></span><span class="line" line="17"><span class="sJa8x">          &quot;value&quot;</span><span class="s5ixo">: </span><span class="sDhpE">&quot;public, max-age=31536000, immutable&quot;
</span></span><span class="line" line="18"><span class="s5ixo">        }
</span></span><span class="line" line="19"><span class="s5ixo">      ]
</span></span><span class="line" line="20"><span class="s5ixo">    }
</span></span><span class="line" line="21"><span class="s5ixo">  ]
</span></span><span class="line" line="22"><span class="s5ixo">}
</span></span></code><!--]--></pre><p><!--[-->这里我对所有的 CSS 和 JS 文件设置了 <code><!--[-->max-age=31536000, immutable<!--]--></code>，这样这些静态资源文件就可以被浏览器和 CDN 长时间缓存。而对于所有其他文件（主要是 HTML 文件），我设置了 <code><!--[-->max-age=0, s-maxage=600, must-revalidate<!--]--></code>，这样 HTML 文件就可以被 CDN 缓存 10 分钟，在这 10 分钟内的请求都可以直接从 CDN 节点的缓存中获取内容，而不需要回源验证。<!--]--></p><p><!--[-->这样一来，经过修改后的缓存控制设置，HTML 文件的请求流程变成了：<!--]--></p><div class="mermaid-wrapper" style="" data-v-a9c19cc1 data-v-e0afffa3><div class="mermaid-container" data-v-e0afffa3></div><pre class="language-mermaid shiki shiki-themes one-light one-dark-pro mermaid-placeholder" data-v-e0afffa3>sequenceDiagram
    participant Client
    participant CDN
    Client-&gt;&gt;CDN: 请求 HTML 文件
    CDN-&gt;&gt;Client: 直接返回缓存的 HTML 文件
</pre></div><p><!--[-->从而大大减少了请求的延迟，提高了页面加载速度。<!--]--></p><h2 id="其他" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->其他<!--]--><a href="#其他" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><p><!--[-->Vercel 所采用的架构并不是传统的 「源站 - CDN」 架构，而是更接近 「全球多区域存储 + CDN边缘缓存」 的架构，所以即使是回源请求，Vercel 也会尽量从离用户最近的存储节点获取内容，从而减少延迟。<strong><!--[-->但这并不意味着回源请求的延迟可以忽略不计，尤其是在追求极致的加载速度时，合理的缓存控制仍然是非常重要的。<!--]--></strong><!--]--></p><h2 id="参见" class="prose-heading prose-h2" data-v-a22a06c0><!--[-->参见<!--]--><a href="#参见" class="heading-anchor" aria-label="链接到此标题" data-v-a22a06c0><span class="anchor-icon" data-v-a22a06c0>#</span></a></h2><ul><!--[--><li><!--[--><a href="https://vercel.com/docs/headers/cache-control-headers" rel="nofollow"><!--[-->Cache-Control headers | Vercel<!--]--></a><!--]--></li><li><!--[--><a href="https://vercel.com/docs/cdn-cache" rel="nofollow"><!--[-->Vercel CDN Cache | Vercel<!--]--></a><!--]--></li><li><!--[--><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/Caching" rel="nofollow"><!--[-->HTTP caching - HTTP | MDN<!--]--></a><!--]--></li><!--]--></ul><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sJa8x, html code.shiki .sJa8x{--shiki-default:#E45649;--shiki-dark:#E06C75}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}</style></article><hr class="article-end-hr" data-v-3db633ac><div class="tags" data-v-3db633ac><svg viewBox="0 0 512 512" width="1.2em" height="1.2em" data-v-3db633ac><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M403.29 32H280.36a14.46 14.46 0 0 0-10.2 4.2L24.4 281.9a28.85 28.85 0 0 0 0 40.7l117 117a28.86 28.86 0 0 0 40.71 0L427.8 194a14.46 14.46 0 0 0 4.2-10.2v-123A28.66 28.66 0 0 0 403.29 32"></path><path fill="currentColor" d="M352 144a32 32 0 1 1 32-32a32 32 0 0 1-32 32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m230 480l262-262a13.8 13.8 0 0 0 4-10V80"></path></svg><!--[--><a href="/tags/Vercel/" class="" data-v-3db633ac>#Vercel</a><a href="/tags/Network/" class="" data-v-3db633ac>#Network</a><a href="/tags/HTTP/" class="" data-v-3db633ac>#HTTP</a><!--]--></div><nav class="post-navigation" data-v-3db633ac data-v-a35c130b><!----><a href="/2025/12/10/caddy-traffic-proxy-on-layer-4/" class="nav-button next" data-v-a35c130b><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="nav-arrow" data-v-a35c130b><path fill="currentColor" d="M8.025 22L6.25 20.225L14.475 12L6.25 3.775L8.025 2l10 10z"></path></svg><div class="nav-content" data-v-a35c130b><span class="nav-label" data-v-a35c130b>下一篇</span><span class="nav-title" data-v-a35c130b>小记 —— Caddy 在 Layer 4 上的流量代理实践</span></div></a></nav><div id="waline" data-v-3db633ac><span></span></div><!--]--></main><div class="after-main side" data-v-40d23075><!--[--><aside data-v-3db633ac><nav class="toc" data-v-3db633ac data-v-bdce45f2><div class="toc-title" data-v-bdce45f2>目录</div><ul class="toc-list" data-v-bdce45f2><!--[--><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#先看效果" data-v-bdce45f2>先看效果</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#分析" data-v-bdce45f2>分析</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#测试方案" data-v-bdce45f2>测试方案</a></li><li class="toc-item toc-level-3" data-v-bdce45f2><a href="#合理的时长是多久呢" data-v-bdce45f2>合理的时长是多久呢？</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#vercel-的缓存控制" data-v-bdce45f2>Vercel 的缓存控制</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#解决方案" data-v-bdce45f2>解决方案</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#其他" data-v-bdce45f2>其他</a></li><li class="toc-item toc-level-2" data-v-bdce45f2><a href="#参见" data-v-bdce45f2>参见</a></li><!--]--></ul></nav></aside><!--]--></div></div><footer style="min-height:120px;background-image:url(&quot;data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; version=&#39;1.1&#39; xmlns:xlink=&#39;http://www.w3.org/1999/xlink&#39; xmlns:svgjs=&#39;http://svgjs.dev/svgjs&#39; width=&#39;1440&#39; height=&#39;560&#39; preserveAspectRatio=&#39;none&#39; viewBox=&#39;0 0 1440 560&#39;%3e%3cg clip-path=&#39;url(%26quot%3b%23SvgjsClipPath1000%26quot%3b)&#39; fill=&#39;none&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39; fill=&#39;%230e2a47&#39;%3e%3c/rect%3e%3cpath d=&#39;M1348.47 300.57C1365.4 300.72 1383.16 297.87 1395.02 285.78 1406.79 273.78 1408.25 256.04 1408.65 239.23 1409.07 221.86 1409.27 203 1397.32 190.38 1385.17 177.55 1366.13 175.17 1348.47 175.7 1331.42 176.21 1314.9 181.54 1302.46 193.22 1289.62 205.28 1280.76 221.61 1280.82 239.23 1280.88 256.8 1289.74 273.14 1302.76 284.94 1315.16 296.19 1331.73 300.42 1348.47 300.57&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1339.47 286.57C1356.4 286.72 1374.16 283.87 1386.02 271.78 1397.79 259.78 1399.25 242.04 1399.65 225.23 1400.07 207.86 1400.27 189 1388.32 176.38 1376.17 163.55 1357.13 161.17 1339.47 161.7 1322.42 162.21 1305.9 167.54 1293.46 179.22 1280.62 191.28 1271.76 207.61 1271.82 225.23 1271.88 242.8 1280.74 259.14 1293.76 270.94 1306.16 282.19 1322.73 286.42 1339.47 286.57&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M286.26 356.53C297.3 356.91 308.99 355.64 316.98 348.01 325.11 340.25 327.59 328.53 327.36 317.29 327.14 306.31 323.15 295.91 315.76 287.79 307.97 279.23 297.82 272.51 286.26 272.14 274.39 271.77 262.51 276.8 254.84 285.87 247.65 294.38 247.57 306.16 248.08 317.29 248.56 327.75 250.28 338.47 257.58 345.97 264.97 353.56 275.68 356.17 286.26 356.53&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M271.26 342.53C282.3 342.91 293.99 341.64 301.98 334.01 310.11 326.25 312.59 314.53 312.36 303.29 312.14 292.31 308.15 281.91 300.76 273.79 292.97 265.23 282.82 258.51 271.26 258.14 259.39 257.77 247.51 262.8 239.84 271.87 232.65 280.38 232.57 292.16 233.08 303.29 233.56 313.75 235.28 324.47 242.58 331.97 249.97 339.56 260.68 342.17 271.26 342.53&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M417.54 278.45C439.82 278.6 464.98 284.98 481.24 269.75 497.71 254.32 495.86 228.6 494.85 206.05 493.9 184.84 489.98 163.59 475.76 147.83 460.82 131.27 439.83 119.73 417.54 120.38 395.74 121.01 377.36 135.06 362.61 151.12 348.58 166.39 340.24 185.36 338.85 206.05 337.35 228.46 338.18 253.67 354.71 268.88 370.91 283.79 395.52 278.3 417.54 278.45&#39; fill=&#39;%232774c6&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M434.54 290.45C456.82 290.6 481.98 296.98 498.24 281.75 514.71 266.32 512.86 240.6 511.85 218.05 510.9 196.84 506.98 175.59 492.76 159.83 477.82 143.27 456.83 131.73 434.54 132.38 412.74 133.01 394.36 147.06 379.61 163.12 365.58 178.39 357.24 197.36 355.85 218.05 354.35 240.46 355.18 265.67 371.71 280.88 387.91 295.79 412.52 290.3 434.54 290.45&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%231b518b&#39;%3e%3c/path%3e%3cpath d=&#39;M1414.52 133.32C1425.15 134.46 1435.43 128.72 1442.76 120.94 1449.87 113.38 1453.14 103.07 1452.76 92.7 1452.39 82.71 1448.44 72.86 1440.77 66.45 1433.63 60.48 1423.81 60.16 1414.52 60.72 1405.93 61.24 1397.8 63.84 1391.24 69.42 1384.03 75.56 1376.83 83.23 1376.93 92.7 1377.03 102.11 1385.35 108.57 1391.74 115.48 1398.55 122.84 1404.55 132.25 1414.52 133.32&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M1426.52 121.32C1437.15 122.46 1447.43 116.72 1454.76 108.94 1461.87 101.38 1465.14 91.07 1464.76 80.7 1464.39 70.71 1460.44 60.86 1452.77 54.45 1445.63 48.48 1435.81 48.16 1426.52 48.72 1417.93 49.24 1409.8 51.84 1403.24 57.42 1396.03 63.56 1388.83 71.23 1388.93 80.7 1389.03 90.11 1397.35 96.57 1403.74 103.48 1410.55 110.84 1416.55 120.25 1426.52 121.32&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M761.84 518.92C773.29 519.13 783.45 512.02 791.04 503.45 798.16 495.41 801.33 484.99 801.4 474.25 801.47 463.43 799.03 452.36 791.43 444.66 783.79 436.91 772.7 433.52 761.84 434.15 751.56 434.75 743.06 440.92 735.5 447.91 727.52 455.29 718.8 463.39 718.44 474.25 718.07 485.33 725.95 494.46 733.68 502.41 741.56 510.52 750.53 518.72 761.84 518.92&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M776.84 533.92C788.29 534.13 798.45 527.02 806.04 518.45 813.16 510.41 816.33 499.99 816.4 489.25 816.47 478.43 814.03 467.36 806.43 459.66 798.79 451.91 787.7 448.52 776.84 449.15 766.56 449.75 758.06 455.92 750.5 462.91 742.52 470.29 733.8 478.39 733.44 489.25 733.07 500.33 740.95 509.46 748.68 517.41 756.56 525.52 765.53 533.72 776.84 533.92&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M811.62 346.15C823.53 346.06 831.1 334.22 838.86 325.18 845.79 317.11 852.42 308.56 853.02 297.94 853.65 286.73 850.34 275.09 842.13 267.43 834.13 259.97 822.55 259.73 811.62 259.32 800.06 258.88 787.53 257.54 778.72 265.04 769.44 272.94 765.24 285.8 766.29 297.94 767.27 309.27 776.17 317.32 783.96 325.6 792.14 334.3 799.68 346.24 811.62 346.15&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M801.62 364.15C813.53 364.06 821.1 352.22 828.86 343.18 835.79 335.11 842.42 326.56 843.02 315.94 843.65 304.73 840.34 293.09 832.13 285.43 824.13 277.97 812.55 277.73 801.62 277.32 790.06 276.88 777.53 275.54 768.72 283.04 759.44 290.94 755.24 303.8 756.29 315.94 757.27 327.27 766.17 335.32 773.96 343.6 782.14 352.3 789.68 364.24 801.62 364.15&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3cpath d=&#39;M746.4 152.37C768.76 154.6 792.74 150.08 808.66 134.23 824.61 118.35 828.93 94.41 827.15 71.97 825.51 51.29 814.35 33.36 799.51 18.86 784.87 4.56 766.86-6.86 746.4-6.92 725.89-6.98 707 3.58 692.98 18.55 679.43 33.02 672.06 52.16 672.53 71.97 672.99 91.32 682.34 108.67 695.44 122.93 709.24 137.94 726.11 150.34 746.4 152.37&#39; fill=&#39;%23ff9500&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M741.4 160.37C763.76 162.6 787.74 158.08 803.66 142.23 819.61 126.35 823.93 102.41 822.15 79.97 820.51 59.29 809.35 41.36 794.51 26.86 779.87 12.56 761.86 1.14 741.4 1.08 720.89 1.02 702 11.58 687.98 26.55 674.43 41.02 667.06 60.16 667.53 79.97 667.99 99.32 677.34 116.67 690.44 130.93 704.24 145.94 721.11 158.34 741.4 160.37&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23b36800&#39;%3e%3c/path%3e%3cpath d=&#39;M665.8 409.54C679.62 409.97 691.22 400 700.4 389.66 708.96 380.01 714.1 367.96 714.17 355.06 714.24 342.08 710.16 329.05 700.78 320.08 691.57 311.27 678.53 308.27 665.8 308.79 653.63 309.29 642.73 314.81 633.57 322.83 623.6 331.56 613.02 341.81 612.97 355.06 612.92 368.34 624.06 378.03 633.3 387.56 642.77 397.32 652.21 409.11 665.8 409.54&#39; fill=&#39;%23fd3f3f&#39; stroke=&#39;none&#39;%3e%3c/path%3e%3cpath d=&#39;M677.8 397.54C691.62 397.97 703.22 388 712.4 377.66 720.96 368.01 726.1 355.96 726.17 343.06 726.24 330.08 722.16 317.05 712.78 308.08 703.57 299.27 690.53 296.27 677.8 296.79 665.63 297.29 654.73 302.81 645.57 310.83 635.6 319.56 625.02 329.81 624.97 343.06 624.92 356.34 636.06 366.03 645.3 375.56 654.77 385.32 664.21 397.11 677.8 397.54&#39; fill=&#39;none&#39; stroke-width=&#39;2&#39; stroke=&#39;%23db0202&#39;%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath id=&#39;SvgjsClipPath1000&#39;%3e%3crect width=&#39;1440&#39; height=&#39;560&#39; x=&#39;0&#39; y=&#39;0&#39;%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e&quot;);background-repeat:no-repeat;background-position:center center;background-size:cover;" data-v-40d23075 data-v-6b237f26><div class="footer-mask" data-v-6b237f26></div><div class="footer-content" data-v-6b237f26><div class="social" data-v-6b237f26><a class="social-icons" href="https://github.com/zhullyb/" target="_blank" rel="noopener noreferrer" aria-label="Github" data-v-6b237f26><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-6b237f26><path fill="currentColor" fill-rule="evenodd" d="M3 28c0 11.046 7.163 20.416 17.097 23.722c1.25.23 1.707-.542 1.707-1.205c0-.593-.022-2.166-.034-4.251c-6.954 1.51-8.421-3.352-8.421-3.352c-1.138-2.889-2.777-3.658-2.777-3.658c-2.27-1.55.172-1.519.172-1.519c2.51.177 3.83 2.577 3.83 2.577c2.23 3.82 5.851 2.716 7.276 2.076c.227-1.614.873-2.716 1.586-3.34c-5.55-.631-11.387-2.777-11.387-12.357c0-2.729.974-4.962 2.574-6.708c-.258-.632-1.116-3.175.245-6.616c0 0 2.098-.673 6.874 2.563c1.994-.556 4.133-.832 6.259-.843c2.124.01 4.262.287 6.258.843c4.773-3.236 6.868-2.563 6.868-2.563c1.365 3.44.507 5.984.25 6.616c1.603 1.746 2.57 3.98 2.57 6.708c0 9.605-5.846 11.718-11.414 12.336c.896.772 1.696 2.298 1.696 4.63c0 3.342-.031 6.038-.031 6.858c0 .669.451 1.447 1.719 1.203C45.844 48.407 53 39.043 53 28C53 14.194 41.806 3 27.998 3C14.194 3 3 14.193 3 28"></path></svg></a><a class="social-icons" href="https://t.me/zhullyb_channel" target="_blank" rel="noopener noreferrer" aria-label="Telegram Channel" data-v-6b237f26><svg viewBox="0 0 15 15" width="1.2em" height="1.2em" data-v-6b237f26><path fill="none" stroke="currentColor" stroke-linejoin="round" d="m14.5 1.5l-14 5l4 2l6-4l-4 5l6 4z"></path></svg></a><a class="social-icons" href="/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS" data-v-6b237f26><svg viewBox="0 0 56 56" width="1.2em" height="1.2em" data-v-6b237f26><path fill="currentColor" fill-rule="evenodd" d="M11 37a8 8 0 1 1 0 16a8 8 0 0 1 0-16M3 3c27.614 0 50 22.386 50 50h-8c0-23.196-18.804-42-42-42zm0 15c19.33 0 35 15.67 35 35h-8c0-14.912-12.088-27-27-27z"></path></svg></a><a href="/donate/" class="social-icons" aria-label="Donate" data-v-6b237f26><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-6b237f26><path fill="currentColor" d="M17.726 13.02L14 16H9v-1h4.065a.5.5 0 0 0 .416-.777l-.888-1.332A2 2 0 0 0 10.93 12H3a1 1 0 0 0-1 1v6a2 2 0 0 0 2 2h9.639a3 3 0 0 0 2.258-1.024L22 13l-1.452-.484a3 3 0 0 0-2.822.504m1.532-5.63c.451-.465.73-1.108.73-1.818s-.279-1.353-.73-1.818A2.45 2.45 0 0 0 17.494 3S16.25 2.997 15 4.286C13.75 2.997 12.506 3 12.506 3a2.45 2.45 0 0 0-1.764.753c-.451.466-.73 1.108-.73 1.818s.279 1.354.73 1.818L15 12z"></path></svg></a><a class="social-icons" href="mailto:zhullyb@outlook.com" aria-label="Email" data-v-6b237f26><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-6b237f26><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5l8-5zm-8-7L4 6h16z"></path></svg></a></div><div class="center-y" style="gap:4px;font-weight:600;" data-v-6b237f26><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" style="font-size:0.9em;" data-v-6b237f26><g fill="none"><path d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Z"></path><path stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M15.182 15.183a4.5 4.5 0 1 1 0-6.364"></path></g></svg> 2020 - 2025 zhullyb </div><div class="center-y" style="gap:8px;font-weight:600;" data-v-6b237f26> Proudly Powered by <a href="https://nuxt.com/" rel="noopener noreferrer" class="center-y" aria-label="Nuxt" data-v-6b237f26><svg viewBox="0 0 512 121" width="5.09em" height="1.2em" style="fill:white;" data-v-6b237f26><path fill="#00DC82" d="M103.405 120.261h68.52c2.177 0 4.314-.555 6.2-1.61a12.2 12.2 0 0 0 4.536-4.403a11.75 11.75 0 0 0 1.66-6.013c0-2.111-.575-4.185-1.665-6.013l-46.016-77.31a12.2 12.2 0 0 0-4.536-4.402a12.7 12.7 0 0 0-6.198-1.61a12.7 12.7 0 0 0-6.198 1.61a12.2 12.2 0 0 0-4.537 4.402l-11.766 19.78l-23.004-38.68a12.2 12.2 0 0 0-4.539-4.401A12.7 12.7 0 0 0 69.663 0a12.7 12.7 0 0 0-6.199 1.61a12.2 12.2 0 0 0-4.538 4.402l-57.262 96.21A11.74 11.74 0 0 0 0 108.235c0 2.11.571 4.185 1.659 6.013a12.2 12.2 0 0 0 4.537 4.402a12.7 12.7 0 0 0 6.2 1.611h43.01c17.042 0 29.61-7.26 38.257-21.426l20.994-35.268l11.245-18.874l33.75 56.694h-44.995zm-48.7-18.893l-30.016-.007l44.994-75.588l22.45 37.794l-15.031 25.261c-5.743 9.191-12.267 12.54-22.397 12.54"></path><path d="M215.04 119.13h20.119V74.115c0-12.881-1.342-25.762-1.342-25.762l1.186 2.641c1.871 4.088 5.77 12.297 10.349 20.149l27.494 47.985h21.594V20.044h-20.252l.002 45.862c.056 12.598 1.339 25.055 1.339 25.055l-1.014-2.296c-1.79-3.986-5.764-12.539-10.386-20.636l-27.63-47.985H215.04zm143.205-71.342v39.068c0 9.059-5.767 15.853-13.949 15.853c-7.644 0-13.01-6.228-13.01-14.863V47.788h-18.642v44.446c0 16.279 9.925 28.028 25.08 28.028c9.255 0 16.765-4.247 20.52-11.041v9.908h18.778V47.788zm73.38 34.255l22.669-34.255H433.77l-12.337 18.826l-12.342-18.826h-20.386l22.669 34.114l-24.411 37.227h19.986l14.616-21.94l14.484 21.94h19.852zm43.627-34.255h-13.011v16.42h13.011v29.017c0 16.562 10.059 25.904 25.618 25.904H512v-16.561h-8.582c-6.035 0-9.525-3.256-9.525-10.192V64.207H512v-16.42h-18.107v-21.09h-18.64z"></path></svg></a></div><div class="promo-card" style="margin-top:12px;" data-v-6b237f26 data-v-b2edde66><div class="card-header" data-v-b2edde66><div class="header-left" data-v-b2edde66><div class="logo-yxvm-container" data-v-b2edde66><a href="https://yxvm.com/" target="_blank" rel="noopener noreferrer" data-v-b2edde66><img src="https://static.031130.xyz/uploads/2025/11/25/2584c5a5ec26b.png" alt="yxvm" class="logo-img" data-v-b2edde66></a></div><span class="plus-separator" data-v-b2edde66>+</span><div class="logo-nodeseek-container" data-v-b2edde66><a href="https://www.nodeseek.com" target="_blank" rel="noopener noreferrer" data-v-b2edde66><img src="https://static.031130.xyz/uploads/2025/11/25/f56e28d4d53ca.png" alt="nodeseek" class="logo-img" data-v-b2edde66></a></div></div><div data-v-b2edde66><a href="https://github.com/NodeSeekDev/NodeSupport" target="_blank" rel="noopener noreferrer" class="github-link" data-v-b2edde66><svg class="github-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20" data-v-b2edde66><g stroke-width="0" id="SVGRepo_bgCarrier" data-v-b2edde66></g><g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier" data-v-b2edde66></g><g id="SVGRepo_iconCarrier" data-v-b2edde66><title data-v-b2edde66>github [#142]</title><desc data-v-b2edde66>Created with Sketch.</desc><defs data-v-b2edde66></defs><g stroke-width="1" stroke="none" id="Page-1" data-v-b2edde66><g transform="translate(-140.000000, -7559.000000)" id="Dribbble-Light-Preview" data-v-b2edde66><g transform="translate(56.000000, 160.000000)" id="icons" data-v-b2edde66><path id="github-[#142]" d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" data-v-b2edde66></path></g></g></g></g></svg></a></div></div><h1 class="card-title" data-v-b2edde66> NodeSupport Project </h1><p class="card-description" data-v-b2edde66> Provide free server sponsorship to high-quality blogs, channels, open-source projects, and popular app. </p><div class="card-footer" data-v-b2edde66><span data-v-b2edde66>Support ID:</span><span data-v-b2edde66>61</span></div></div><!----></div></footer></div><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://zhul.in/#website","@type":"WebSite","description":"这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","inLanguage":"zh-CN","name":"竹林里有冰的博客","url":"https://zhul.in/","workTranslation":[{"@id":"https://zhul.in/#website"},{"@id":"https://zhul.in/en/#website"}]},{"@id":"https://zhul.in/2025/12/23/vercel-cache-control/#webpage","@type":"WebPage","description":"Vercel 默认的缓存配置其实并不合理，但鲜有人注意。","name":"Vercel 的缓存控制，你注意过吗？","url":"https://zhul.in/2025/12/23/vercel-cache-control/","isPartOf":{"@id":"https://zhul.in/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://zhul.in/2025/12/23/vercel-cache-control/"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/2025/12/23/vercel-cache-control/_payload.json?53f6a0f5-feed-40e0-92e1-326eda4091c2">[{"state":1,"once":21,"_errors":22,"serverRendered":6,"path":24,"prerenderedAt":25},["Reactive",2],{"$si18n:cached-locale-configs":3,"$si18n:resolved-locale":9,"$snuxt-seo-utils:routeRules":10,"$ssite-config":11},{"zh":4,"en":7},{"fallbacks":5,"cacheable":6},[],true,{"fallbacks":8,"cacheable":6},[],"",{"head":-1,"seoMeta":-1},{"_priority":12,"currentLocale":16,"defaultLocale":16,"description":17,"env":18,"name":19,"trailingSlash":6,"url":20},{"name":13,"env":14,"url":13,"description":13,"defaultLocale":15,"trailingSlash":13,"currentLocale":15},-3,-15,-2,"zh-CN","这里是我的个人博客，专注于分享技术干货、学习心得和生活感悟，涵盖前端开发、后端架构、人工智能、编程技巧、工具推荐等多个领域。我持续更新原创内容，记录成长过程中的思考与收获，致力于帮助更多开发者和技术爱好者提升技能、拓展视野。如果你对技术、产品和互联网行业感兴趣，相信你能在这里找到有价值的知识与灵感。","production","竹林里有冰的博客","https://zhul.in/",["Set"],["ShallowReactive",23],{"post-2025-12-23-vercel-cache-control-zh":-1,"surround-2025-12-23-vercel-cache-control-zh":-1,"randomIndex/2025/12/23/vercel-cache-control/":-1,"language-switch-/2025/12/23/vercel-cache-control/-en":-1,"posts-search-sections":-1},"/2025/12/23/vercel-cache-control/",1766504034838]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},i18n:{baseUrl:"",defaultLocale:"zh",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{code:"zh",language:"zh-CN",name:"简体中文",_hreflang:"zh-CN",_sitemap:"zh-CN"},{code:"en",language:"en-US",name:"English",_hreflang:"en-US",_sitemap:"en-US"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},domainLocales:{zh:{domain:""},en:{domain:""}}}},app:{baseURL:"/",buildId:"53f6a0f5-feed-40e0-92e1-326eda4091c2",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>